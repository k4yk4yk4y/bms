
Started GET "/admin" for ::1 at 2025-08-24 01:46:03 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='dashboard'*/[0m
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='dashboard'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 6.2ms | ActiveRecord: 3.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/admin_users" for ::1 at 2025-08-24 01:46:06 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 12.6ms | GC: 0.0ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding)
Caused by: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding)

Information for: ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/admin_users.rb:6:in 'block (2 levels) in <main>'

Information for cause: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding):
  
app/admin/admin_users.rb:6:in 'block (2 levels) in <main>'
  [1m[35m (10.6ms)[0m  [1m[35mSHOW SERVER_ENCODING /*application='MbsPromoRetention'*/[0m
Started GET "/admin/admin_users" for ::1 at 2025-08-24 01:47:00 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 12.7ms | GC: 0.0ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 5.7ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding)
Caused by: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding)

Information for: ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/admin_users.rb:6:in 'block (2 levels) in <main>'

Information for cause: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding):
  
app/admin/admin_users.rb:6:in 'block (2 levels) in <main>'
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='MbsPromoRetention'*/[0m
  [1m[35m (5102.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mbs_cbm_development" /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='MbsPromoRetention'*/[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE DATABASE "mbs_cbm_development" ENCODING = 'utf8' TEMPLATE = "template0" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4676348018947797255) /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4676348018947797255) /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[35m (9.0ms)[0m  [1m[35mSET client_encoding TO 'UTF8'[0m
  â†³ config/initializers/encoding_fix.rb:17:in 'block in <main>'
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 0 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 1 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 2 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 3 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 0 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 1 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 2 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 3 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_admin_comments" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "active_admin_comments" ("id" bigserial primary key, "namespace" character varying, "body" text, "resource_type" character varying, "resource_id" bigint, "author_type" character varying, "author_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_active_admin_comments_on_author" ON "active_admin_comments" ("author_type", "author_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_active_admin_comments_on_namespace" ON "active_admin_comments" ("namespace") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_active_admin_comments_on_resource" ON "active_admin_comments" ("resource_type", "resource_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admin_users" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "admin_users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_admin_users_on_email" ON "admin_users" ("email") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_admin_users_on_reset_password_token" ON "admin_users" ("reset_password_token") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonus_buy_rewards" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "bonus_buy_rewards" ("id" bigserial primary key, "bonus_id" integer NOT NULL, "buy_amount" decimal(15,2), "multiplier" decimal(5,2), "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "games" text DEFAULT '--- []
', "bet_level" float, "code" character varying, "stag" character varying, "max_win_value" decimal(15,2), "max_win_type" character varying DEFAULT 'fixed', "available" integer) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_bonus_buy_rewards_on_bonus_id" ON "bonus_buy_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_bonus_buy_rewards_on_buy_amount" ON "bonus_buy_rewards" ("buy_amount") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonus_code_rewards" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "bonus_code_rewards" ("id" bigserial primary key, "bonus_id" integer NOT NULL, "code" character varying NOT NULL, "code_type" character varying NOT NULL, "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "title" character varying) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_bonus_code_rewards_on_bonus_id" ON "bonus_code_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonus_code_rewards_on_code" ON "bonus_code_rewards" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_bonus_code_rewards_on_code_type" ON "bonus_code_rewards" ("code_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonus_rewards" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "bonus_rewards" ("id" bigserial primary key, "bonus_id" integer NOT NULL, "reward_type" character varying NOT NULL, "amount" decimal(15,2), "percentage" decimal(5,2), "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "code" character varying, "user_can_have_duplicates" boolean DEFAULT FALSE, "stag" character varying, "currency_amounts" text, "max_win_value" decimal(15,2), "max_win_type" character varying DEFAULT 'fixed', "available" integer) /*application='MbsPromoRetention'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_bonus_id_and_reward_type" ON "bonus_rewards" ("bonus_id", "reward_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_bonus_id" ON "bonus_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_reward_type" ON "bonus_rewards" ("reward_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonus_templates" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "bonus_templates" ("id" bigserial primary key, "name" character varying, "dsl_tag" character varying, "project" character varying, "event" character varying, "minimum_deposit" decimal, "wager" decimal, "maximum_winnings" decimal, "no_more" integer, "totally_no_more" integer, "currencies" text, "groups" text, "currency_minimum_deposits" text, "description" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonus_templates_on_dsl_tag_project_name" ON "bonus_templates" ("dsl_tag", "project", "name") /*application='MbsPromoRetention'*/[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_bonus_templates_on_dsl_tag" ON "bonus_templates" ("dsl_tag") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_bonus_templates_on_project" ON "bonus_templates" ("project") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonuses" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "bonuses" ("id" bigserial primary key, "name" character varying NOT NULL, "code" character varying NOT NULL, "status" character varying DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" character varying, "availability_start_date" timestamp(6) NOT NULL, "availability_end_date" timestamp(6) NOT NULL, "user_group" character varying, "tags" text, "country" character varying, "created_by" integer, "updated_by" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "project" character varying, "dsl_tag" character varying, "event" character varying NOT NULL, "currencies" text, "groups" text, "no_more" text, "totally_no_more" integer, "currency_minimum_deposits" text, "description" text, "maximum_winnings_type" character varying DEFAULT 'multiplier' NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_end_date" ON "bonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_start_date" ON "bonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_country" ON "bonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_dsl_tag" ON "bonuses" ("dsl_tag") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_event" ON "bonuses" ("event") /*application='MbsPromoRetention'*/[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_project" ON "bonuses" ("project") /*application='MbsPromoRetention'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_status" ON "bonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_user_group" ON "bonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "collect_bonuses" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "collect_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "collection_type" character varying NOT NULL, "collection_amount" decimal(15,2), "collection_frequency" character varying DEFAULT 'daily', "collection_limit" integer DEFAULT 1, "collected_count" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_bonus_id" ON "collect_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_frequency" ON "collect_bonuses" ("collection_frequency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_type" ON "collect_bonuses" ("collection_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "comp_point_rewards" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "comp_point_rewards" ("id" bigserial primary key, "bonus_id" integer NOT NULL, "points_amount" integer NOT NULL, "multiplier" decimal(5,2), "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "title" character varying) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_comp_point_rewards_on_bonus_id" ON "comp_point_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_comp_point_rewards_on_points_amount" ON "comp_point_rewards" ("points_amount") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "deposit_bonuses" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "deposit_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT FALSE, "recurring_eligible" boolean DEFAULT FALSE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_deposit_bonuses_on_bonus_id" ON "deposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "freechip_rewards" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "freechip_rewards" ("id" bigserial primary key, "bonus_id" integer NOT NULL, "chip_value" decimal(15,2) NOT NULL, "chips_count" integer NOT NULL, "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_freechip_rewards_on_bonus_id" ON "freechip_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_freechip_rewards_on_chip_value" ON "freechip_rewards" ("chip_value") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "freespin_rewards" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "freespin_rewards" ("id" bigserial primary key, "bonus_id" integer NOT NULL, "spins_count" integer NOT NULL, "game_restrictions" text, "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "games" text DEFAULT '--- []
', "bet_level" float, "code" character varying, "stag" character varying, "max_win_value" decimal(15,2), "max_win_type" character varying DEFAULT 'fixed', "available" integer) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_freespin_rewards_on_bonus_id" ON "freespin_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_freespin_rewards_on_spins_count" ON "freespin_rewards" ("spins_count") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "groups_update_bonuses" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "groups_update_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "target_groups" text NOT NULL, "update_type" character varying NOT NULL, "update_parameters" text, "batch_size" integer DEFAULT 100, "processing_status" character varying DEFAULT 'pending', "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_bonus_id" ON "groups_update_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_processing_status" ON "groups_update_bonuses" ("processing_status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_update_type" ON "groups_update_bonuses" ("update_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "input_coupon_bonuses" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "input_coupon_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "coupon_code" character varying NOT NULL, "usage_limit" integer DEFAULT 1, "usage_count" integer DEFAULT 0, "expires_at" timestamp(6), "single_use" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_bonus_id" ON "input_coupon_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_input_coupon_bonuses_on_coupon_code" ON "input_coupon_bonuses" ("coupon_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_expires_at" ON "input_coupon_bonuses" ("expires_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "manual_bonuses" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "manual_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "admin_notes" text, "approval_required" boolean DEFAULT TRUE, "auto_apply" boolean DEFAULT FALSE, "conditions" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_approval_required" ON "manual_bonuses" ("approval_required") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_auto_apply" ON "manual_bonuses" ("auto_apply") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_bonus_id" ON "manual_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "marketing_requests" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "marketing_requests" ("id" bigserial primary key, "manager" character varying NOT NULL, "platform" text, "partner_email" character varying NOT NULL, "promo_code" text, "stag" character varying NOT NULL, "activation_date" timestamp(6), "status" character varying DEFAULT 'pending' NOT NULL, "request_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_partner_email" ON "marketing_requests" ("partner_email") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_marketing_requests_on_promo_code" ON "marketing_requests" ("promo_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_request_type" ON "marketing_requests" ("request_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_marketing_requests_on_stag" ON "marketing_requests" ("stag") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_status" ON "marketing_requests" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "material_prize_rewards" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "material_prize_rewards" ("id" bigserial primary key, "bonus_id" integer NOT NULL, "prize_name" character varying NOT NULL, "prize_value" decimal(15,2), "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_material_prize_rewards_on_bonus_id" ON "material_prize_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_material_prize_rewards_on_prize_name" ON "material_prize_rewards" ("prize_name") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "scheduler_bonuses" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "scheduler_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "schedule_type" character varying NOT NULL, "cron_expression" character varying, "next_run_at" timestamp(6), "last_run_at" timestamp(6), "execution_count" integer DEFAULT 0, "max_executions" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_bonus_id" ON "scheduler_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_last_run_at" ON "scheduler_bonuses" ("last_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_next_run_at" ON "scheduler_bonuses" ("next_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_schedule_type" ON "scheduler_bonuses" ("schedule_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "role" integer DEFAULT 3 NOT NULL, "first_name" character varying, "last_name" character varying) /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_role" ON "users" ("role") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" ADD CONSTRAINT "fk_rails_80a3d11f32"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "bonus_code_rewards" ADD CONSTRAINT "fk_rails_b43566cf88"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD CONSTRAINT "fk_rails_04dc838556"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "comp_point_rewards" ADD CONSTRAINT "fk_rails_1c06028258"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "freechip_rewards" ADD CONSTRAINT "fk_rails_e619079d60"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "freespin_rewards" ADD CONSTRAINT "fk_rails_7e8de4db09"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "material_prize_rewards" ADD CONSTRAINT "fk_rails_0fa35ff8bd"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='MbsPromoRetention'*/[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250823215528) /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250823215337),
(20250823215336),
(20250823215146),
(20250823215138),
(20250823161747),
(20250823145159),
(20250823132555),
(20250823130628),
(20250823123802),
(20250823122343),
(20250822205319),
(20250822205208),
(20250822205017),
(20250822204706),
(20250822204526),
(20250820141944),
(20250820141850),
(20250820132726),
(20250817114030),
(20250817112210),
(20250817091841),
(20250816195250),
(20250816113809),
(20250816094114),
(20250814195218),
(20250814194935),
(20250814194934),
(20250814194933),
(20250814194931),
(20250814194930),
(20250814194929),
(20250814194927),
(20250814194905),
(20250812193953),
(20250811210559),
(20250811204912),
(20250811204906),
(20250811204849),
(20250811204844),
(20250811204839),
(20250811204831),
(20250811204823),
(20250124001001); /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-08-23 22:48:40.662622', '2025-08-23 22:48:40.662626') RETURNING "key" /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'a876859f80f3f9bde8507362fac1155732caef2e', '2025-08-23 22:48:40.666643', '2025-08-23 22:48:40.666645') RETURNING "key" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4676348018947797255) /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4676348018947797255) /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 0 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@mbscasino.com' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@mbscasino.com' LIMIT 1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('admin@mbscasino.com', '$2a$12$YpRHf0uqJtIIQPNU7z5Bie9j7wElEuNIB5FspDPU8Jd7rYhRgHbDK', NULL, NULL, NULL, '2025-08-23 22:48:42.552792', '2025-08-23 22:48:42.552792', 0, 'Super', 'Admin') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 1 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'promo@mbscasino.com' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'promo@mbscasino.com' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('promo@mbscasino.com', '$2a$12$.UN4WRRucWGsPNwfXdaEmu6hHl.eTzd9EYfyprLB0mHy7bE.Iduwa', NULL, NULL, NULL, '2025-08-23 22:48:42.765948', '2025-08-23 22:48:42.765948', 1, 'Promo', 'Manager') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 2 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'shift@mbscasino.com' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'shift@mbscasino.com' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('shift@mbscasino.com', '$2a$12$JT/sWQ.47.hUib1LRJDx2OBGzpDxZ4XKbcvs7MgEKneX8NLVUq6Iu', NULL, NULL, NULL, '2025-08-23 22:48:42.977724', '2025-08-23 22:48:42.977724', 2, 'Shift', 'Leader') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 3 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@mbscasino.com' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@mbscasino.com' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('support@mbscasino.com', '$2a$12$9vJ.fRkn8rN5m8YdKrV3uuEIXsUPfI5NTIZAExnDXzYSOzGQRX3WO', NULL, NULL, NULL, '2025-08-23 22:48:43.189529', '2025-08-23 22:48:43.189529', 3, 'Support', 'Agent') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 0 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 1 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 2 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 3 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='MbsPromoRetention'*/[0m
  [1m[36mAdminUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@mbscasino.com' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mAdminUser Create (0.6ms)[0m  [1m[32mINSERT INTO "admin_users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ('admin@mbscasino.com', '$2a$12$XxrX8HxIneZmhr9VXhavreoVZLcGOSXQP8olxMM1rdz0iufwhWxI.', NULL, NULL, NULL, '2025-08-23 22:48:51.938770', '2025-08-23 22:48:51.938770') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='MbsPromoRetention'*/[0m
  [1m[35m (9.6ms)[0m  [1m[35mSHOW SERVER_ENCODING /*application='MbsPromoRetention'*/[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-08-24 01:49:06 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as */*
  Rendering layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/shared/_links.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 6.9ms | ActiveRecord: 15.2ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for 127.0.0.1 at 2025-08-24 01:49:07 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as */*
  Rendering layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/shared/_links.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for 127.0.0.1 at 2025-08-24 01:49:23 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as */*
  Rendering layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/shared/_links.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for 127.0.0.1 at 2025-08-24 01:49:39 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as */*
  Rendering layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/shared/_links.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/admin_users" for ::1 at 2025-08-24 01:49:48 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
Completed 401 Unauthorized in 15ms (ActiveRecord: 5.0ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 01:49:48 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/shared/_links.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 01:49:55 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mBonus Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.2ms | GC: 10.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | GC: 10.0ms)
Completed 200 OK in 30ms (Views: 22.1ms | ActiveRecord: 3.1ms (2 queries, 0 cached) | GC: 10.0ms)


Started GET "/" for ::1 at 2025-08-24 01:49:55 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.1ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | GC: 2.0ms)
Completed 200 OK in 19ms (Views: 16.5ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 2.0ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-24 01:50:00 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 2.3ms | GC: 0.7ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.9ms | GC: 0.7ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 21.3ms | GC: 3.2ms)
  Rendered layout layouts/application.html.erb (Duration: 23.1ms | GC: 3.2ms)
Completed 200 OK in 43ms (Views: 23.7ms | ActiveRecord: 1.0ms (0 queries, 0 cached) | GC: 5.4ms)


Started GET "/bonuses" for ::1 at 2025-08-24 01:50:01 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.9ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.8ms)
Completed 200 OK in 11ms (Views: 6.5ms | ActiveRecord: 1.9ms (2 queries, 0 cached) | GC: 1.4ms)


Started GET "/" for ::1 at 2025-08-24 01:50:02 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 7.4ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | GC: 1.6ms)
Completed 200 OK in 14ms (Views: 10.3ms | ActiveRecord: 1.3ms (2 queries, 0 cached) | GC: 1.6ms)


Started GET "/admin/login" for 127.0.0.1 at 2025-08-24 01:50:05 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as */*
  Rendering layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/shared/_links.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (Duration: 8.0ms | GC: 0.8ms)
  Rendered layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb (Duration: 9.0ms | GC: 0.8ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)


Started GET "/admin" for ::1 at 2025-08-24 01:50:10 +0300
Processing by Admin::DashboardController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 01:50:10 +0300
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/shared/_links.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mUser Load (10.5ms)[0m  [1m[34mSELECT "users".* FROM "users" /*application='MbsPromoRetention'*/[0m
  [1m[36mAdminUser Load (10.0ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" /*application='MbsPromoRetention'*/[0m
  [1m[36mAdminUser Load (11.1ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" /*application='MbsPromoRetention'*/[0m
Started POST "/users/sign_in" for ::1 at 2025-08-24 01:51:28 +0300
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mbscasino.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='MbsPromoRetention',controller='sessions'*/[0m
Redirected to http://localhost:3000/admin
Completed 303 See Other in 211ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin" for ::1 at 2025-08-24 01:51:28 +0300
Processing by Admin::DashboardController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='dashboard'*/[0m
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='dashboard'*/[0m
  [1m[36mCACHE AdminUser Load (0.0ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1[0m
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.6ms (3 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin/login" for ::1 at 2025-08-24 01:51:28 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as TURBO_STREAM
  Rendering layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/shared/_links.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (Duration: 3.6ms | GC: 0.1ms)
  Rendered layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb (Duration: 4.5ms | GC: 0.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/admin/login" for ::1 at 2025-08-24 01:51:28 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendering layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/shared/_links.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (Duration: 4.9ms | GC: 0.2ms)
  Rendered layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb (Duration: 5.5ms | GC: 0.2ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started POST "/admin/login" for ::1 at 2025-08-24 01:51:40 +0300
Processing by ActiveAdmin::Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@mbscasino.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='MbsPromoRetention',controller='sessions'*/[0m
Redirected to http://localhost:3000/admin
Completed 303 See Other in 209ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/admin" for ::1 at 2025-08-24 01:51:41 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='dashboard'*/[0m
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='dashboard'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 8.5ms | GC: 4.4ms)
Completed 200 OK in 32ms (Views: 10.3ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 14.5ms)


Started GET "/admin/admin_users" for ::1 at 2025-08-24 01:51:44 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 20.3ms | GC: 9.9ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 16.7ms)


  
ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding)
Caused by: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding)

Information for: ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/admin_users.rb:6:in 'block (2 levels) in <main>'

Information for cause: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding):
  
app/admin/admin_users.rb:6:in 'block (2 levels) in <main>'
Started GET "/admin/comments" for ::1 at 2025-08-24 01:51:49 +0300
Processing by Admin::CommentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='comments'*/[0m
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='comments'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mActiveAdmin::Comment Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_admin_comments" WHERE "active_admin_comments"."namespace" = 'admin' /*action='index',application='MbsPromoRetention',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Load (0.2ms)[0m  [1m[34mSELECT "active_admin_comments".* FROM "active_admin_comments" WHERE "active_admin_comments"."namespace" = 'admin' ORDER BY "active_admin_comments"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Pluck (0.4ms)[0m  [1m[34mSELECT DISTINCT "active_admin_comments"."resource_type" FROM "active_admin_comments" ORDER BY resource_type asc /*action='index',application='MbsPromoRetention',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "active_admin_comments"."author_type" FROM "active_admin_comments" ORDER BY author_type asc /*action='index',application='MbsPromoRetention',controller='comments'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 24.8ms | GC: 0.2ms)
Completed 200 OK in 35ms (Views: 24.5ms | ActiveRecord: 3.3ms (6 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin/users" for ::1 at 2025-08-24 01:51:50 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 6.3ms | GC: 0.0ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.1ms)


  
ActionView::Template::Error (Association named 'role' was not found on User; perhaps you misspelled it?)
Caused by: ActiveRecord::AssociationNotFoundError (Association named 'role' was not found on User; perhaps you misspelled it?)

Information for: ActionView::Template::Error (Association named 'role' was not found on User; perhaps you misspelled it?):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
activerecord (8.0.2.1) lib/active_record/associations.rb:56:in 'ActiveRecord::Associations#association'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:85:in 'block in ActiveRecord::Associations::Preloader::Branch#grouped_records'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:83:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:83:in 'ActiveRecord::Associations::Preloader::Branch#grouped_records'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:120:in 'ActiveRecord::Associations::Preloader::Branch#loaders'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:77:in 'ActiveRecord::Associations::Preloader::Branch#runnable_loaders'
activerecord (8.0.2.1) lib/active_record/associations/preloader/batch.rb:15:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/associations/preloader/batch.rb:15:in 'Enumerable#flat_map'
activerecord (8.0.2.1) lib/active_record/associations/preloader/batch.rb:15:in 'ActiveRecord::Associations::Preloader::Batch#call'
activerecord (8.0.2.1) lib/active_record/associations/preloader.rb:121:in 'ActiveRecord::Associations::Preloader#call'
activerecord (8.0.2.1) lib/active_record/relation.rb:1326:in 'block in ActiveRecord::Relation#preload_associations'
activerecord (8.0.2.1) lib/active_record/relation.rb:1325:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/relation.rb:1325:in 'ActiveRecord::Relation#preload_associations'
activerecord (8.0.2.1) lib/active_record/relation.rb:1414:in 'block in ActiveRecord::Relation#exec_queries'
activerecord (8.0.2.1) lib/active_record/relation.rb:1470:in 'ActiveRecord::Relation#skip_query_cache_if_necessary'
activerecord (8.0.2.1) lib/active_record/relation.rb:1404:in 'ActiveRecord::Relation#exec_queries'
activerecord (8.0.2.1) lib/active_record/relation.rb:1181:in 'ActiveRecord::Relation#load'
activerecord (8.0.2.1) lib/active_record/relation.rb:343:in 'ActiveRecord::Relation#records'
activerecord (8.0.2.1) lib/active_record/relation/delegation.rb:101:in 'ActiveRecord::Delegation#length'
activeadmin (3.3.0) lib/active_admin/helpers/collection.rb:9:in 'ActiveAdmin::Helpers::Collection#collection_size'
activeadmin (3.3.0) lib/active_admin/helpers/collection.rb:17:in 'ActiveAdmin::Helpers::Collection#collection_is_empty?'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:46:in 'ActiveAdmin::Views::Pages::Index#items_in_collection?'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:50:in 'ActiveAdmin::Views::Pages::Index#build_collection'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:29:in 'block in ActiveAdmin::Views::Pages::Index#main_content'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#batch_action_form'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:37:in 'ActiveAdmin::Views::Pages::Index#wrap_with_batch_action_form'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:27:in 'ActiveAdmin::Views::Pages::Index#main_content'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:105:in 'block (2 levels) in ActiveAdmin::Views::Pages::Base#build_main_content_wrapper'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:104:in 'block in ActiveAdmin::Views::Pages::Base#build_main_content_wrapper'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:103:in 'ActiveAdmin::Views::Pages::Base#build_main_content_wrapper'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:87:in 'block in ActiveAdmin::Views::Pages::Base#build_page_content'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:86:in 'ActiveAdmin::Views::Pages::Base#build_page_content'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:63:in 'block (2 levels) in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:59:in 'block in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:58:in 'ActiveAdmin::Views::Pages::Base#build_page'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:10:in 'ActiveAdmin::Views::Pages::Base#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:3
arbre (1.7.0) lib/arbre/context.rb:47:in 'BasicObject#instance_eval'
arbre (1.7.0) lib/arbre/context.rb:47:in 'Arbre::Context#initialize'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1:in 'Class#new'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'Kernel#public_send'
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'ActionView::Base#_run'
actionview (8.0.2.1) lib/action_view/template.rb:284:in 'block in ActionView::Template#render'
activesupport (8.0.2.1) lib/active_support/notifications.rb:212:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/template.rb:583:in 'ActionView::Template#instrument_render_template'
actionview (8.0.2.1) lib/action_view/template.rb:272:in 'ActionView::Template#render'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:66:in 'block (2 levels) in ActionView::TemplateRenderer#render_template'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:60:in 'block in ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:80:in 'ActionView::TemplateRenderer#render_with_layout'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:59:in 'ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:11:in 'ActionView::TemplateRenderer#render'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:58:in 'ActionView::Renderer#render_template_to_object'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:31:in 'ActionView::Renderer#render_to_object'
actionview (8.0.2.1) lib/action_view/rendering.rb:136:in 'block in ActionView::Rendering#_render_template'
actionview (8.0.2.1) lib/action_view/base.rb:305:in 'ActionView::Base#in_rendering_context'
actionview (8.0.2.1) lib/action_view/rendering.rb:135:in 'ActionView::Rendering#_render_template'
actionpack (8.0.2.1) lib/action_controller/metal/streaming.rb:179:in 'ActionController::Streaming#_render_template'
actionview (8.0.2.1) lib/action_view/rendering.rb:122:in 'ActionView::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:186:in 'ActionController::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/renderers.rb:140:in 'ActionController::Renderers#render_to_body'
actionpack (8.0.2.1) lib/abstract_controller/rendering.rb:28:in 'AbstractController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:167:in 'ActionController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block (2 levels) in ActionController::Instrumentation#render'
activesupport (8.0.2.1) lib/active_support/benchmark.rb:17:in 'ActiveSupport::Benchmark.realtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block in ActionController::Instrumentation#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:100:in 'ActionController::Instrumentation#cleanup_view_runtime'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:46:in 'ActiveRecord::Railties::ControllerRuntime#cleanup_view_runtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:30:in 'ActionController::Instrumentation#render'
responders (3.1.1) lib/action_controller/responder.rb:245:in 'ActionController::Responder#default_render'
responders (3.1.1) lib/action_controller/responder.rb:175:in 'ActionController::Responder#to_html'
responders (3.1.1) lib/responders/flash_responder.rb:105:in 'Responders::FlashResponder#to_html'
responders (3.1.1) lib/action_controller/responder.rb:168:in 'ActionController::Responder#respond'
responders (3.1.1) lib/action_controller/responder.rb:161:in 'ActionController::Responder.call'
responders (3.1.1) lib/action_controller/respond_with.rb:216:in 'ActionController::RespondWith#respond_with'
inherited_resources (1.14.0) lib/inherited_resources/actions.rb:7:in 'InheritedResources::Actions#index'
activeadmin (3.3.0) lib/active_admin/resource_controller/streaming.rb:13:in 'ActiveAdmin::ResourceController::Streaming#index'
actionpack (8.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:8:in 'ActionController::BasicImplicitRender#send_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:226:in 'AbstractController::Base#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:193:in 'ActionController::Rendering#process_action'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:261:in 'block in AbstractController::Callbacks#process_action'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:120:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'

Information for cause: ActiveRecord::AssociationNotFoundError (Association named 'role' was not found on User; perhaps you misspelled it?):
  
activerecord (8.0.2.1) lib/active_record/associations.rb:56:in 'ActiveRecord::Associations#association'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:85:in 'block in ActiveRecord::Associations::Preloader::Branch#grouped_records'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:83:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:83:in 'ActiveRecord::Associations::Preloader::Branch#grouped_records'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:120:in 'ActiveRecord::Associations::Preloader::Branch#loaders'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:77:in 'ActiveRecord::Associations::Preloader::Branch#runnable_loaders'
activerecord (8.0.2.1) lib/active_record/associations/preloader/batch.rb:15:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/associations/preloader/batch.rb:15:in 'Enumerable#flat_map'
activerecord (8.0.2.1) lib/active_record/associations/preloader/batch.rb:15:in 'ActiveRecord::Associations::Preloader::Batch#call'
activerecord (8.0.2.1) lib/active_record/associations/preloader.rb:121:in 'ActiveRecord::Associations::Preloader#call'
activerecord (8.0.2.1) lib/active_record/relation.rb:1326:in 'block in ActiveRecord::Relation#preload_associations'
activerecord (8.0.2.1) lib/active_record/relation.rb:1325:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/relation.rb:1325:in 'ActiveRecord::Relation#preload_associations'
activerecord (8.0.2.1) lib/active_record/relation.rb:1414:in 'block in ActiveRecord::Relation#exec_queries'
activerecord (8.0.2.1) lib/active_record/relation.rb:1470:in 'ActiveRecord::Relation#skip_query_cache_if_necessary'
activerecord (8.0.2.1) lib/active_record/relation.rb:1404:in 'ActiveRecord::Relation#exec_queries'
activerecord (8.0.2.1) lib/active_record/relation.rb:1181:in 'ActiveRecord::Relation#load'
activerecord (8.0.2.1) lib/active_record/relation.rb:343:in 'ActiveRecord::Relation#records'
activerecord (8.0.2.1) lib/active_record/relation/delegation.rb:101:in 'ActiveRecord::Delegation#length'
activeadmin (3.3.0) lib/active_admin/helpers/collection.rb:9:in 'ActiveAdmin::Helpers::Collection#collection_size'
activeadmin (3.3.0) lib/active_admin/helpers/collection.rb:17:in 'ActiveAdmin::Helpers::Collection#collection_is_empty?'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:46:in 'ActiveAdmin::Views::Pages::Index#items_in_collection?'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:50:in 'ActiveAdmin::Views::Pages::Index#build_collection'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:29:in 'block in ActiveAdmin::Views::Pages::Index#main_content'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#batch_action_form'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:37:in 'ActiveAdmin::Views::Pages::Index#wrap_with_batch_action_form'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:27:in 'ActiveAdmin::Views::Pages::Index#main_content'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:105:in 'block (2 levels) in ActiveAdmin::Views::Pages::Base#build_main_content_wrapper'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:104:in 'block in ActiveAdmin::Views::Pages::Base#build_main_content_wrapper'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:103:in 'ActiveAdmin::Views::Pages::Base#build_main_content_wrapper'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:87:in 'block in ActiveAdmin::Views::Pages::Base#build_page_content'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:86:in 'ActiveAdmin::Views::Pages::Base#build_page_content'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:63:in 'block (2 levels) in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:59:in 'block in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:58:in 'ActiveAdmin::Views::Pages::Base#build_page'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:10:in 'ActiveAdmin::Views::Pages::Base#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:3
arbre (1.7.0) lib/arbre/context.rb:47:in 'BasicObject#instance_eval'
arbre (1.7.0) lib/arbre/context.rb:47:in 'Arbre::Context#initialize'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1:in 'Class#new'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'Kernel#public_send'
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'ActionView::Base#_run'
actionview (8.0.2.1) lib/action_view/template.rb:284:in 'block in ActionView::Template#render'
activesupport (8.0.2.1) lib/active_support/notifications.rb:212:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/template.rb:583:in 'ActionView::Template#instrument_render_template'
actionview (8.0.2.1) lib/action_view/template.rb:272:in 'ActionView::Template#render'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:66:in 'block (2 levels) in ActionView::TemplateRenderer#render_template'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:60:in 'block in ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:80:in 'ActionView::TemplateRenderer#render_with_layout'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:59:in 'ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:11:in 'ActionView::TemplateRenderer#render'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:58:in 'ActionView::Renderer#render_template_to_object'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:31:in 'ActionView::Renderer#render_to_object'
actionview (8.0.2.1) lib/action_view/rendering.rb:136:in 'block in ActionView::Rendering#_render_template'
actionview (8.0.2.1) lib/action_view/base.rb:305:in 'ActionView::Base#in_rendering_context'
actionview (8.0.2.1) lib/action_view/rendering.rb:135:in 'ActionView::Rendering#_render_template'
actionpack (8.0.2.1) lib/action_controller/metal/streaming.rb:179:in 'ActionController::Streaming#_render_template'
actionview (8.0.2.1) lib/action_view/rendering.rb:122:in 'ActionView::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:186:in 'ActionController::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/renderers.rb:140:in 'ActionController::Renderers#render_to_body'
actionpack (8.0.2.1) lib/abstract_controller/rendering.rb:28:in 'AbstractController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:167:in 'ActionController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block (2 levels) in ActionController::Instrumentation#render'
activesupport (8.0.2.1) lib/active_support/benchmark.rb:17:in 'ActiveSupport::Benchmark.realtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block in ActionController::Instrumentation#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:100:in 'ActionController::Instrumentation#cleanup_view_runtime'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:46:in 'ActiveRecord::Railties::ControllerRuntime#cleanup_view_runtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:30:in 'ActionController::Instrumentation#render'
responders (3.1.1) lib/action_controller/responder.rb:245:in 'ActionController::Responder#default_render'
responders (3.1.1) lib/action_controller/responder.rb:175:in 'ActionController::Responder#to_html'
responders (3.1.1) lib/responders/flash_responder.rb:105:in 'Responders::FlashResponder#to_html'
responders (3.1.1) lib/action_controller/responder.rb:168:in 'ActionController::Responder#respond'
responders (3.1.1) lib/action_controller/responder.rb:161:in 'ActionController::Responder.call'
responders (3.1.1) lib/action_controller/respond_with.rb:216:in 'ActionController::RespondWith#respond_with'
inherited_resources (1.14.0) lib/inherited_resources/actions.rb:7:in 'InheritedResources::Actions#index'
activeadmin (3.3.0) lib/active_admin/resource_controller/streaming.rb:13:in 'ActiveAdmin::ResourceController::Streaming#index'
actionpack (8.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:8:in 'ActionController::BasicImplicitRender#send_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:226:in 'AbstractController::Base#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:193:in 'ActionController::Rendering#process_action'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:261:in 'block in AbstractController::Callbacks#process_action'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:120:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/admin/dashboard" for ::1 at 2025-08-24 01:51:58 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='dashboard'*/[0m
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='dashboard'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 3.8ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/" for ::1 at 2025-08-24 14:31:32 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 7.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | GC: 0.0ms)
Completed 200 OK in 50ms (Views: 15.1ms | ActiveRecord: 10.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin" for ::1 at 2025-08-24 14:31:41 +0300
Processing by Admin::DashboardController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for ::1 at 2025-08-24 14:31:41 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  Rendering layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/shared/_links.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (Duration: 10.3ms | GC: 0.0ms)
  Rendered layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb (Duration: 11.5ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 13.4ms | ActiveRecord: 2.7ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/favicon.ico" for ::1 at 2025-08-24 14:31:41 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/admin/login" for ::1 at 2025-08-24 14:31:42 +0300
Processing by ActiveAdmin::Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login"}
  [1m[36mAdminUser Load (2.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@mbscasino.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='MbsPromoRetention',controller='sessions'*/[0m
Redirected to http://localhost:3000/admin
Completed 303 See Other in 223ms (ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin" for ::1 at 2025-08-24 14:31:42 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='dashboard'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin/admin_users" for ::1 at 2025-08-24 14:31:44 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 17.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Ransack needs AdminUser attributes explicitly allowlisted as
searchable. Define a `ransackable_attributes` class method in your `AdminUser`
model, watching out for items you DON'T want searchable (for
example, `encrypted_password`, `password_reset_token`, `owner` or
other sensitive information). You can use the following as a base:

```ruby
class AdminUser < ApplicationRecord

  # ...

  def self.ransackable_attributes(auth_object = nil)
    ["created_at", "email", "encrypted_password", "id", "id_value", "remember_created_at", "reset_password_sent_at", "reset_password_token", "updated_at"]
  end

  # ...

end
```
)
Caused by: RuntimeError (Ransack needs AdminUser attributes explicitly allowlisted as
searchable. Define a `ransackable_attributes` class method in your `AdminUser`
model, watching out for items you DON'T want searchable (for
example, `encrypted_password`, `password_reset_token`, `owner` or
other sensitive information). You can use the following as a base:

```ruby
class AdminUser < ApplicationRecord

  # ...

  def self.ransackable_attributes(auth_object = nil)
    ["created_at", "email", "encrypted_password", "id", "id_value", "remember_created_at", "reset_password_sent_at", "reset_password_token", "updated_at"]
  end

  # ...

end
```
)

Information for: ActionView::Template::Error (Ransack needs AdminUser attributes explicitly allowlisted as
searchable. Define a `ransackable_attributes` class method in your `AdminUser`
model, watching out for items you DON'T want searchable (for
example, `encrypted_password`, `password_reset_token`, `owner` or
other sensitive information). You can use the following as a base:

```ruby
class AdminUser < ApplicationRecord

  # ...

  def self.ransackable_attributes(auth_object = nil)
    ["created_at", "email", "encrypted_password", "id", "id_value", "remember_created_at", "reset_password_sent_at", "reset_password_token", "updated_at"]
  end

  # ...

end
```
):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
ransack (4.3.0) lib/ransack/adapters/active_record/base.rb:112:in 'Ransack::Adapters::ActiveRecord::Base#deprecated_ransackable_list'
ransack (4.3.0) lib/ransack/adapters/active_record/base.rb:38:in 'Ransack::Adapters::ActiveRecord::Base#ransackable_attributes'
ransack (4.3.0) lib/ransack/context.rb:159:in 'Ransack::Context#ransackable_attribute?'
ransack (4.3.0) lib/ransack/adapters/active_record/context.rb:67:in 'Ransack::Adapters::ActiveRecord::Context#attribute_method?'
ransack (4.3.0) lib/ransack/nodes/grouping.rb:126:in 'Ransack::Nodes::Grouping#attribute_method?'
ransack (4.3.0) lib/ransack/search.rb:106:in 'Ransack::Search#method_missing'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:62:in 'Kernel#public_send'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:62:in 'block in ActiveAdmin::Inputs::Filters::Base::SearchMethodSelect#current_filter'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:62:in 'Array#each'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:62:in 'Enumerable#detect'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:62:in 'ActiveAdmin::Inputs::Filters::Base::SearchMethodSelect#current_filter'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:52:in 'ActiveAdmin::Inputs::Filters::Base::SearchMethodSelect#select_html'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:42:in 'block in ActiveAdmin::Inputs::Filters::Base::SearchMethodSelect#to_html'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'block in ActionView::Helpers::CaptureHelper#capture'
actionview (8.0.2.1) lib/action_view/buffers.rb:75:in 'ActionView::OutputBuffer#capture'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'ActionView::Helpers::CaptureHelper#capture'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base.rb:13:in 'ActiveAdmin::Inputs::Filters::Base#input_wrapping'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:40:in 'ActiveAdmin::Inputs::Filters::Base::SearchMethodSelect#to_html'
activeadmin (3.3.0) lib/active_admin/inputs/filters/string_input.rb:20:in 'ActiveAdmin::Inputs::Filters::StringInput#to_html'
formtastic (5.0.0) lib/formtastic/helpers/input_helper.rb:240:in 'Formtastic::Helpers::InputHelper#input'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:15:in 'ActiveAdmin::Filters::FormBuilder#filter'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:65:in 'block (2 levels) in ActiveAdmin::Filters::ViewHelper#active_admin_filters_form_for'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:58:in 'Hash#each'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:58:in 'block in ActiveAdmin::Filters::ViewHelper#active_admin_filters_form_for'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'block in ActionView::Helpers::CaptureHelper#capture'
actionview (8.0.2.1) lib/action_view/buffers.rb:75:in 'ActionView::OutputBuffer#capture'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'ActionView::Helpers::CaptureHelper#capture'
actionview (8.0.2.1) lib/action_view/helpers/form_helper.rb:776:in 'ActionView::Helpers::FormHelper#form_with'
actionview (8.0.2.1) lib/action_view/helpers/form_helper.rb:463:in 'ActionView::Helpers::FormHelper#form_for'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:57:in 'ActiveAdmin::Filters::ViewHelper#active_admin_filters_form_for'
arbre (1.7.0) lib/arbre/element.rb:183:in 'Arbre::Element#method_missing'
activeadmin (3.3.0) lib/active_admin/filters/resource_extension.rb:169:in 'block in ActiveAdmin::Filters::ResourceExtension#filters_sidebar_section'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar_section.rb:26:in 'BasicObject#instance_exec'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar_section.rb:26:in 'ActiveAdmin::Views::SidebarSection#build_sidebar_content'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar_section.rb:14:in 'ActiveAdmin::Views::SidebarSection#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#sidebar_section'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar.rb:10:in 'Array#map'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar.rb:10:in 'ActiveAdmin::Views::Sidebar#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#sidebar'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:88:in 'block in ActiveAdmin::Views::Pages::Base#build_page_content'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:86:in 'ActiveAdmin::Views::Pages::Base#build_page_content'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:63:in 'block (2 levels) in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:59:in 'block in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:58:in 'ActiveAdmin::Views::Pages::Base#build_page'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:10:in 'ActiveAdmin::Views::Pages::Base#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:3
arbre (1.7.0) lib/arbre/context.rb:47:in 'BasicObject#instance_eval'
arbre (1.7.0) lib/arbre/context.rb:47:in 'Arbre::Context#initialize'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1:in 'Class#new'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'Kernel#public_send'
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'ActionView::Base#_run'
actionview (8.0.2.1) lib/action_view/template.rb:284:in 'block in ActionView::Template#render'
activesupport (8.0.2.1) lib/active_support/notifications.rb:212:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/template.rb:583:in 'ActionView::Template#instrument_render_template'
actionview (8.0.2.1) lib/action_view/template.rb:272:in 'ActionView::Template#render'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:66:in 'block (2 levels) in ActionView::TemplateRenderer#render_template'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:60:in 'block in ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:80:in 'ActionView::TemplateRenderer#render_with_layout'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:59:in 'ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:11:in 'ActionView::TemplateRenderer#render'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:58:in 'ActionView::Renderer#render_template_to_object'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:31:in 'ActionView::Renderer#render_to_object'
actionview (8.0.2.1) lib/action_view/rendering.rb:136:in 'block in ActionView::Rendering#_render_template'
actionview (8.0.2.1) lib/action_view/base.rb:305:in 'ActionView::Base#in_rendering_context'
actionview (8.0.2.1) lib/action_view/rendering.rb:135:in 'ActionView::Rendering#_render_template'
actionpack (8.0.2.1) lib/action_controller/metal/streaming.rb:179:in 'ActionController::Streaming#_render_template'
actionview (8.0.2.1) lib/action_view/rendering.rb:122:in 'ActionView::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:186:in 'ActionController::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/renderers.rb:140:in 'ActionController::Renderers#render_to_body'
actionpack (8.0.2.1) lib/abstract_controller/rendering.rb:28:in 'AbstractController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:167:in 'ActionController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block (2 levels) in ActionController::Instrumentation#render'
activesupport (8.0.2.1) lib/active_support/benchmark.rb:17:in 'ActiveSupport::Benchmark.realtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block in ActionController::Instrumentation#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:100:in 'ActionController::Instrumentation#cleanup_view_runtime'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:46:in 'ActiveRecord::Railties::ControllerRuntime#cleanup_view_runtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:30:in 'ActionController::Instrumentation#render'
responders (3.1.1) lib/action_controller/responder.rb:245:in 'ActionController::Responder#default_render'
responders (3.1.1) lib/action_controller/responder.rb:175:in 'ActionController::Responder#to_html'
responders (3.1.1) lib/responders/flash_responder.rb:105:in 'Responders::FlashResponder#to_html'
responders (3.1.1) lib/action_controller/responder.rb:168:in 'ActionController::Responder#respond'
responders (3.1.1) lib/action_controller/responder.rb:161:in 'ActionController::Responder.call'
responders (3.1.1) lib/action_controller/respond_with.rb:216:in 'ActionController::RespondWith#respond_with'
inherited_resources (1.14.0) lib/inherited_resources/actions.rb:7:in 'InheritedResources::Actions#index'
activeadmin (3.3.0) lib/active_admin/resource_controller/streaming.rb:13:in 'ActiveAdmin::ResourceController::Streaming#index'
actionpack (8.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:8:in 'ActionController::BasicImplicitRender#send_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:226:in 'AbstractController::Base#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:193:in 'ActionController::Rendering#process_action'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:261:in 'block in AbstractController::Callbacks#process_action'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:120:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'

Information for cause: RuntimeError (Ransack needs AdminUser attributes explicitly allowlisted as
searchable. Define a `ransackable_attributes` class method in your `AdminUser`
model, watching out for items you DON'T want searchable (for
example, `encrypted_password`, `password_reset_token`, `owner` or
other sensitive information). You can use the following as a base:

```ruby
class AdminUser < ApplicationRecord

  # ...

  def self.ransackable_attributes(auth_object = nil)
    ["created_at", "email", "encrypted_password", "id", "id_value", "remember_created_at", "reset_password_sent_at", "reset_password_token", "updated_at"]
  end

  # ...

end
```
):
  
ransack (4.3.0) lib/ransack/adapters/active_record/base.rb:112:in 'Ransack::Adapters::ActiveRecord::Base#deprecated_ransackable_list'
ransack (4.3.0) lib/ransack/adapters/active_record/base.rb:38:in 'Ransack::Adapters::ActiveRecord::Base#ransackable_attributes'
ransack (4.3.0) lib/ransack/context.rb:159:in 'Ransack::Context#ransackable_attribute?'
ransack (4.3.0) lib/ransack/adapters/active_record/context.rb:67:in 'Ransack::Adapters::ActiveRecord::Context#attribute_method?'
ransack (4.3.0) lib/ransack/nodes/grouping.rb:126:in 'Ransack::Nodes::Grouping#attribute_method?'
ransack (4.3.0) lib/ransack/search.rb:106:in 'Ransack::Search#method_missing'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:62:in 'Kernel#public_send'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:62:in 'block in ActiveAdmin::Inputs::Filters::Base::SearchMethodSelect#current_filter'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:62:in 'Array#each'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:62:in 'Enumerable#detect'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:62:in 'ActiveAdmin::Inputs::Filters::Base::SearchMethodSelect#current_filter'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:52:in 'ActiveAdmin::Inputs::Filters::Base::SearchMethodSelect#select_html'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:42:in 'block in ActiveAdmin::Inputs::Filters::Base::SearchMethodSelect#to_html'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'block in ActionView::Helpers::CaptureHelper#capture'
actionview (8.0.2.1) lib/action_view/buffers.rb:75:in 'ActionView::OutputBuffer#capture'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'ActionView::Helpers::CaptureHelper#capture'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base.rb:13:in 'ActiveAdmin::Inputs::Filters::Base#input_wrapping'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base/search_method_select.rb:40:in 'ActiveAdmin::Inputs::Filters::Base::SearchMethodSelect#to_html'
activeadmin (3.3.0) lib/active_admin/inputs/filters/string_input.rb:20:in 'ActiveAdmin::Inputs::Filters::StringInput#to_html'
formtastic (5.0.0) lib/formtastic/helpers/input_helper.rb:240:in 'Formtastic::Helpers::InputHelper#input'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:15:in 'ActiveAdmin::Filters::FormBuilder#filter'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:65:in 'block (2 levels) in ActiveAdmin::Filters::ViewHelper#active_admin_filters_form_for'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:58:in 'Hash#each'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:58:in 'block in ActiveAdmin::Filters::ViewHelper#active_admin_filters_form_for'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'block in ActionView::Helpers::CaptureHelper#capture'
actionview (8.0.2.1) lib/action_view/buffers.rb:75:in 'ActionView::OutputBuffer#capture'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'ActionView::Helpers::CaptureHelper#capture'
actionview (8.0.2.1) lib/action_view/helpers/form_helper.rb:776:in 'ActionView::Helpers::FormHelper#form_with'
actionview (8.0.2.1) lib/action_view/helpers/form_helper.rb:463:in 'ActionView::Helpers::FormHelper#form_for'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:57:in 'ActiveAdmin::Filters::ViewHelper#active_admin_filters_form_for'
arbre (1.7.0) lib/arbre/element.rb:183:in 'Arbre::Element#method_missing'
activeadmin (3.3.0) lib/active_admin/filters/resource_extension.rb:169:in 'block in ActiveAdmin::Filters::ResourceExtension#filters_sidebar_section'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar_section.rb:26:in 'BasicObject#instance_exec'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar_section.rb:26:in 'ActiveAdmin::Views::SidebarSection#build_sidebar_content'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar_section.rb:14:in 'ActiveAdmin::Views::SidebarSection#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#sidebar_section'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar.rb:10:in 'Array#map'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar.rb:10:in 'ActiveAdmin::Views::Sidebar#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#sidebar'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:88:in 'block in ActiveAdmin::Views::Pages::Base#build_page_content'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:86:in 'ActiveAdmin::Views::Pages::Base#build_page_content'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:63:in 'block (2 levels) in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:59:in 'block in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:58:in 'ActiveAdmin::Views::Pages::Base#build_page'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:10:in 'ActiveAdmin::Views::Pages::Base#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:3
arbre (1.7.0) lib/arbre/context.rb:47:in 'BasicObject#instance_eval'
arbre (1.7.0) lib/arbre/context.rb:47:in 'Arbre::Context#initialize'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1:in 'Class#new'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'Kernel#public_send'
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'ActionView::Base#_run'
actionview (8.0.2.1) lib/action_view/template.rb:284:in 'block in ActionView::Template#render'
activesupport (8.0.2.1) lib/active_support/notifications.rb:212:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/template.rb:583:in 'ActionView::Template#instrument_render_template'
actionview (8.0.2.1) lib/action_view/template.rb:272:in 'ActionView::Template#render'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:66:in 'block (2 levels) in ActionView::TemplateRenderer#render_template'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:60:in 'block in ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:80:in 'ActionView::TemplateRenderer#render_with_layout'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:59:in 'ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:11:in 'ActionView::TemplateRenderer#render'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:58:in 'ActionView::Renderer#render_template_to_object'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:31:in 'ActionView::Renderer#render_to_object'
actionview (8.0.2.1) lib/action_view/rendering.rb:136:in 'block in ActionView::Rendering#_render_template'
actionview (8.0.2.1) lib/action_view/base.rb:305:in 'ActionView::Base#in_rendering_context'
actionview (8.0.2.1) lib/action_view/rendering.rb:135:in 'ActionView::Rendering#_render_template'
actionpack (8.0.2.1) lib/action_controller/metal/streaming.rb:179:in 'ActionController::Streaming#_render_template'
actionview (8.0.2.1) lib/action_view/rendering.rb:122:in 'ActionView::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:186:in 'ActionController::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/renderers.rb:140:in 'ActionController::Renderers#render_to_body'
actionpack (8.0.2.1) lib/abstract_controller/rendering.rb:28:in 'AbstractController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:167:in 'ActionController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block (2 levels) in ActionController::Instrumentation#render'
activesupport (8.0.2.1) lib/active_support/benchmark.rb:17:in 'ActiveSupport::Benchmark.realtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block in ActionController::Instrumentation#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:100:in 'ActionController::Instrumentation#cleanup_view_runtime'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:46:in 'ActiveRecord::Railties::ControllerRuntime#cleanup_view_runtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:30:in 'ActionController::Instrumentation#render'
responders (3.1.1) lib/action_controller/responder.rb:245:in 'ActionController::Responder#default_render'
responders (3.1.1) lib/action_controller/responder.rb:175:in 'ActionController::Responder#to_html'
responders (3.1.1) lib/responders/flash_responder.rb:105:in 'Responders::FlashResponder#to_html'
responders (3.1.1) lib/action_controller/responder.rb:168:in 'ActionController::Responder#respond'
responders (3.1.1) lib/action_controller/responder.rb:161:in 'ActionController::Responder.call'
responders (3.1.1) lib/action_controller/respond_with.rb:216:in 'ActionController::RespondWith#respond_with'
inherited_resources (1.14.0) lib/inherited_resources/actions.rb:7:in 'InheritedResources::Actions#index'
activeadmin (3.3.0) lib/active_admin/resource_controller/streaming.rb:13:in 'ActiveAdmin::ResourceController::Streaming#index'
actionpack (8.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:8:in 'ActionController::BasicImplicitRender#send_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:226:in 'AbstractController::Base#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:193:in 'ActionController::Rendering#process_action'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:261:in 'block in AbstractController::Callbacks#process_action'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:120:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/admin/admin_users" for ::1 at 2025-08-24 14:32:28 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.7ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (2.9ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 30.2ms | GC: 6.7ms)
Completed 200 OK in 49ms (Views: 29.1ms | ActiveRecord: 5.9ms (2 queries, 0 cached) | GC: 9.8ms)


Started GET "/admin/users" for ::1 at 2025-08-24 14:32:33 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.7ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 12.8ms | GC: 1.8ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 4.1ms (2 queries, 0 cached) | GC: 1.8ms)


  
ActionView::Template::Error (Association named 'role' was not found on User; perhaps you misspelled it?)
Caused by: ActiveRecord::AssociationNotFoundError (Association named 'role' was not found on User; perhaps you misspelled it?)

Information for: ActionView::Template::Error (Association named 'role' was not found on User; perhaps you misspelled it?):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
activerecord (8.0.2.1) lib/active_record/associations.rb:56:in 'ActiveRecord::Associations#association'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:85:in 'block in ActiveRecord::Associations::Preloader::Branch#grouped_records'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:83:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:83:in 'ActiveRecord::Associations::Preloader::Branch#grouped_records'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:120:in 'ActiveRecord::Associations::Preloader::Branch#loaders'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:77:in 'ActiveRecord::Associations::Preloader::Branch#runnable_loaders'
activerecord (8.0.2.1) lib/active_record/associations/preloader/batch.rb:15:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/associations/preloader/batch.rb:15:in 'Enumerable#flat_map'
activerecord (8.0.2.1) lib/active_record/associations/preloader/batch.rb:15:in 'ActiveRecord::Associations::Preloader::Batch#call'
activerecord (8.0.2.1) lib/active_record/associations/preloader.rb:121:in 'ActiveRecord::Associations::Preloader#call'
activerecord (8.0.2.1) lib/active_record/relation.rb:1326:in 'block in ActiveRecord::Relation#preload_associations'
activerecord (8.0.2.1) lib/active_record/relation.rb:1325:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/relation.rb:1325:in 'ActiveRecord::Relation#preload_associations'
activerecord (8.0.2.1) lib/active_record/relation.rb:1414:in 'block in ActiveRecord::Relation#exec_queries'
activerecord (8.0.2.1) lib/active_record/relation.rb:1470:in 'ActiveRecord::Relation#skip_query_cache_if_necessary'
activerecord (8.0.2.1) lib/active_record/relation.rb:1404:in 'ActiveRecord::Relation#exec_queries'
activerecord (8.0.2.1) lib/active_record/relation.rb:1181:in 'ActiveRecord::Relation#load'
activerecord (8.0.2.1) lib/active_record/relation.rb:343:in 'ActiveRecord::Relation#records'
activerecord (8.0.2.1) lib/active_record/relation/delegation.rb:101:in 'ActiveRecord::Delegation#length'
activeadmin (3.3.0) lib/active_admin/helpers/collection.rb:9:in 'ActiveAdmin::Helpers::Collection#collection_size'
activeadmin (3.3.0) lib/active_admin/helpers/collection.rb:17:in 'ActiveAdmin::Helpers::Collection#collection_is_empty?'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:46:in 'ActiveAdmin::Views::Pages::Index#items_in_collection?'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:50:in 'ActiveAdmin::Views::Pages::Index#build_collection'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:29:in 'block in ActiveAdmin::Views::Pages::Index#main_content'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#batch_action_form'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:37:in 'ActiveAdmin::Views::Pages::Index#wrap_with_batch_action_form'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:27:in 'ActiveAdmin::Views::Pages::Index#main_content'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:105:in 'block (2 levels) in ActiveAdmin::Views::Pages::Base#build_main_content_wrapper'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:104:in 'block in ActiveAdmin::Views::Pages::Base#build_main_content_wrapper'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:103:in 'ActiveAdmin::Views::Pages::Base#build_main_content_wrapper'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:87:in 'block in ActiveAdmin::Views::Pages::Base#build_page_content'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:86:in 'ActiveAdmin::Views::Pages::Base#build_page_content'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:63:in 'block (2 levels) in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:59:in 'block in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:58:in 'ActiveAdmin::Views::Pages::Base#build_page'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:10:in 'ActiveAdmin::Views::Pages::Base#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:3
arbre (1.7.0) lib/arbre/context.rb:47:in 'BasicObject#instance_eval'
arbre (1.7.0) lib/arbre/context.rb:47:in 'Arbre::Context#initialize'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1:in 'Class#new'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'Kernel#public_send'
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'ActionView::Base#_run'
actionview (8.0.2.1) lib/action_view/template.rb:284:in 'block in ActionView::Template#render'
activesupport (8.0.2.1) lib/active_support/notifications.rb:212:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/template.rb:583:in 'ActionView::Template#instrument_render_template'
actionview (8.0.2.1) lib/action_view/template.rb:272:in 'ActionView::Template#render'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:66:in 'block (2 levels) in ActionView::TemplateRenderer#render_template'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:60:in 'block in ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:80:in 'ActionView::TemplateRenderer#render_with_layout'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:59:in 'ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:11:in 'ActionView::TemplateRenderer#render'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:58:in 'ActionView::Renderer#render_template_to_object'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:31:in 'ActionView::Renderer#render_to_object'
actionview (8.0.2.1) lib/action_view/rendering.rb:136:in 'block in ActionView::Rendering#_render_template'
actionview (8.0.2.1) lib/action_view/base.rb:305:in 'ActionView::Base#in_rendering_context'
actionview (8.0.2.1) lib/action_view/rendering.rb:135:in 'ActionView::Rendering#_render_template'
actionpack (8.0.2.1) lib/action_controller/metal/streaming.rb:179:in 'ActionController::Streaming#_render_template'
actionview (8.0.2.1) lib/action_view/rendering.rb:122:in 'ActionView::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:186:in 'ActionController::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/renderers.rb:140:in 'ActionController::Renderers#render_to_body'
actionpack (8.0.2.1) lib/abstract_controller/rendering.rb:28:in 'AbstractController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:167:in 'ActionController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block (2 levels) in ActionController::Instrumentation#render'
activesupport (8.0.2.1) lib/active_support/benchmark.rb:17:in 'ActiveSupport::Benchmark.realtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block in ActionController::Instrumentation#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:100:in 'ActionController::Instrumentation#cleanup_view_runtime'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:46:in 'ActiveRecord::Railties::ControllerRuntime#cleanup_view_runtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:30:in 'ActionController::Instrumentation#render'
responders (3.1.1) lib/action_controller/responder.rb:245:in 'ActionController::Responder#default_render'
responders (3.1.1) lib/action_controller/responder.rb:175:in 'ActionController::Responder#to_html'
responders (3.1.1) lib/responders/flash_responder.rb:105:in 'Responders::FlashResponder#to_html'
responders (3.1.1) lib/action_controller/responder.rb:168:in 'ActionController::Responder#respond'
responders (3.1.1) lib/action_controller/responder.rb:161:in 'ActionController::Responder.call'
responders (3.1.1) lib/action_controller/respond_with.rb:216:in 'ActionController::RespondWith#respond_with'
inherited_resources (1.14.0) lib/inherited_resources/actions.rb:7:in 'InheritedResources::Actions#index'
activeadmin (3.3.0) lib/active_admin/resource_controller/streaming.rb:13:in 'ActiveAdmin::ResourceController::Streaming#index'
actionpack (8.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:8:in 'ActionController::BasicImplicitRender#send_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:226:in 'AbstractController::Base#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:193:in 'ActionController::Rendering#process_action'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:261:in 'block in AbstractController::Callbacks#process_action'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:120:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'

Information for cause: ActiveRecord::AssociationNotFoundError (Association named 'role' was not found on User; perhaps you misspelled it?):
  
activerecord (8.0.2.1) lib/active_record/associations.rb:56:in 'ActiveRecord::Associations#association'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:85:in 'block in ActiveRecord::Associations::Preloader::Branch#grouped_records'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:83:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:83:in 'ActiveRecord::Associations::Preloader::Branch#grouped_records'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:120:in 'ActiveRecord::Associations::Preloader::Branch#loaders'
activerecord (8.0.2.1) lib/active_record/associations/preloader/branch.rb:77:in 'ActiveRecord::Associations::Preloader::Branch#runnable_loaders'
activerecord (8.0.2.1) lib/active_record/associations/preloader/batch.rb:15:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/associations/preloader/batch.rb:15:in 'Enumerable#flat_map'
activerecord (8.0.2.1) lib/active_record/associations/preloader/batch.rb:15:in 'ActiveRecord::Associations::Preloader::Batch#call'
activerecord (8.0.2.1) lib/active_record/associations/preloader.rb:121:in 'ActiveRecord::Associations::Preloader#call'
activerecord (8.0.2.1) lib/active_record/relation.rb:1326:in 'block in ActiveRecord::Relation#preload_associations'
activerecord (8.0.2.1) lib/active_record/relation.rb:1325:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/relation.rb:1325:in 'ActiveRecord::Relation#preload_associations'
activerecord (8.0.2.1) lib/active_record/relation.rb:1414:in 'block in ActiveRecord::Relation#exec_queries'
activerecord (8.0.2.1) lib/active_record/relation.rb:1470:in 'ActiveRecord::Relation#skip_query_cache_if_necessary'
activerecord (8.0.2.1) lib/active_record/relation.rb:1404:in 'ActiveRecord::Relation#exec_queries'
activerecord (8.0.2.1) lib/active_record/relation.rb:1181:in 'ActiveRecord::Relation#load'
activerecord (8.0.2.1) lib/active_record/relation.rb:343:in 'ActiveRecord::Relation#records'
activerecord (8.0.2.1) lib/active_record/relation/delegation.rb:101:in 'ActiveRecord::Delegation#length'
activeadmin (3.3.0) lib/active_admin/helpers/collection.rb:9:in 'ActiveAdmin::Helpers::Collection#collection_size'
activeadmin (3.3.0) lib/active_admin/helpers/collection.rb:17:in 'ActiveAdmin::Helpers::Collection#collection_is_empty?'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:46:in 'ActiveAdmin::Views::Pages::Index#items_in_collection?'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:50:in 'ActiveAdmin::Views::Pages::Index#build_collection'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:29:in 'block in ActiveAdmin::Views::Pages::Index#main_content'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#batch_action_form'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:37:in 'ActiveAdmin::Views::Pages::Index#wrap_with_batch_action_form'
activeadmin (3.3.0) lib/active_admin/views/pages/index.rb:27:in 'ActiveAdmin::Views::Pages::Index#main_content'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:105:in 'block (2 levels) in ActiveAdmin::Views::Pages::Base#build_main_content_wrapper'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:104:in 'block in ActiveAdmin::Views::Pages::Base#build_main_content_wrapper'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:103:in 'ActiveAdmin::Views::Pages::Base#build_main_content_wrapper'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:87:in 'block in ActiveAdmin::Views::Pages::Base#build_page_content'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:86:in 'ActiveAdmin::Views::Pages::Base#build_page_content'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:63:in 'block (2 levels) in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:59:in 'block in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:58:in 'ActiveAdmin::Views::Pages::Base#build_page'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:10:in 'ActiveAdmin::Views::Pages::Base#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:3
arbre (1.7.0) lib/arbre/context.rb:47:in 'BasicObject#instance_eval'
arbre (1.7.0) lib/arbre/context.rb:47:in 'Arbre::Context#initialize'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1:in 'Class#new'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'Kernel#public_send'
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'ActionView::Base#_run'
actionview (8.0.2.1) lib/action_view/template.rb:284:in 'block in ActionView::Template#render'
activesupport (8.0.2.1) lib/active_support/notifications.rb:212:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/template.rb:583:in 'ActionView::Template#instrument_render_template'
actionview (8.0.2.1) lib/action_view/template.rb:272:in 'ActionView::Template#render'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:66:in 'block (2 levels) in ActionView::TemplateRenderer#render_template'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:60:in 'block in ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:80:in 'ActionView::TemplateRenderer#render_with_layout'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:59:in 'ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:11:in 'ActionView::TemplateRenderer#render'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:58:in 'ActionView::Renderer#render_template_to_object'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:31:in 'ActionView::Renderer#render_to_object'
actionview (8.0.2.1) lib/action_view/rendering.rb:136:in 'block in ActionView::Rendering#_render_template'
actionview (8.0.2.1) lib/action_view/base.rb:305:in 'ActionView::Base#in_rendering_context'
actionview (8.0.2.1) lib/action_view/rendering.rb:135:in 'ActionView::Rendering#_render_template'
actionpack (8.0.2.1) lib/action_controller/metal/streaming.rb:179:in 'ActionController::Streaming#_render_template'
actionview (8.0.2.1) lib/action_view/rendering.rb:122:in 'ActionView::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:186:in 'ActionController::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/renderers.rb:140:in 'ActionController::Renderers#render_to_body'
actionpack (8.0.2.1) lib/abstract_controller/rendering.rb:28:in 'AbstractController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:167:in 'ActionController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block (2 levels) in ActionController::Instrumentation#render'
activesupport (8.0.2.1) lib/active_support/benchmark.rb:17:in 'ActiveSupport::Benchmark.realtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block in ActionController::Instrumentation#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:100:in 'ActionController::Instrumentation#cleanup_view_runtime'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:46:in 'ActiveRecord::Railties::ControllerRuntime#cleanup_view_runtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:30:in 'ActionController::Instrumentation#render'
responders (3.1.1) lib/action_controller/responder.rb:245:in 'ActionController::Responder#default_render'
responders (3.1.1) lib/action_controller/responder.rb:175:in 'ActionController::Responder#to_html'
responders (3.1.1) lib/responders/flash_responder.rb:105:in 'Responders::FlashResponder#to_html'
responders (3.1.1) lib/action_controller/responder.rb:168:in 'ActionController::Responder#respond'
responders (3.1.1) lib/action_controller/responder.rb:161:in 'ActionController::Responder.call'
responders (3.1.1) lib/action_controller/respond_with.rb:216:in 'ActionController::RespondWith#respond_with'
inherited_resources (1.14.0) lib/inherited_resources/actions.rb:7:in 'InheritedResources::Actions#index'
activeadmin (3.3.0) lib/active_admin/resource_controller/streaming.rb:13:in 'ActiveAdmin::ResourceController::Streaming#index'
actionpack (8.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:8:in 'ActionController::BasicImplicitRender#send_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:226:in 'AbstractController::Base#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:193:in 'ActionController::Rendering#process_action'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:261:in 'block in AbstractController::Callbacks#process_action'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:120:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/admin/users" for ::1 at 2025-08-24 14:33:26 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 32.0ms | GC: 6.8ms)
Completed 500 Internal Server Error in 53ms (ActiveRecord: 6.1ms (2 queries, 0 cached) | GC: 12.1ms)


  
ActionView::Template::Error (Ransack needs User associations explicitly allowlisted as
searchable. Define a `ransackable_associations` class method in your `User`
model, watching out for items you DON'T want searchable (for
example, `encrypted_password`, `password_reset_token`, `owner` or
other sensitive information). You can use the following as a base:

```ruby
class User < ApplicationRecord

  # ...

  def self.ransackable_associations(auth_object = nil)
    []
  end

  # ...

end
```
)
Caused by: RuntimeError (Ransack needs User associations explicitly allowlisted as
searchable. Define a `ransackable_associations` class method in your `User`
model, watching out for items you DON'T want searchable (for
example, `encrypted_password`, `password_reset_token`, `owner` or
other sensitive information). You can use the following as a base:

```ruby
class User < ApplicationRecord

  # ...

  def self.ransackable_associations(auth_object = nil)
    []
  end

  # ...

end
```
)

Information for: ActionView::Template::Error (Ransack needs User associations explicitly allowlisted as
searchable. Define a `ransackable_associations` class method in your `User`
model, watching out for items you DON'T want searchable (for
example, `encrypted_password`, `password_reset_token`, `owner` or
other sensitive information). You can use the following as a base:

```ruby
class User < ApplicationRecord

  # ...

  def self.ransackable_associations(auth_object = nil)
    []
  end

  # ...

end
```
):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
ransack (4.3.0) lib/ransack/adapters/active_record/base.rb:112:in 'Ransack::Adapters::ActiveRecord::Base#deprecated_ransackable_list'
ransack (4.3.0) lib/ransack/adapters/active_record/base.rb:46:in 'Ransack::Adapters::ActiveRecord::Base#ransackable_associations'
activeadmin (3.3.0) lib/active_admin/filters/formtastic_addons.rb:50:in 'ActiveAdmin::Filters::FormtasticAddons#searchable_has_many_through?'
activeadmin (3.3.0) lib/active_admin/inputs/filters/select_input.rb:15:in 'ActiveAdmin::Inputs::Filters::SelectInput#searchable_method_name'
activeadmin (3.3.0) lib/active_admin/inputs/filters/select_input.rb:11:in 'ActiveAdmin::Inputs::Filters::SelectInput#input_name'
formtastic (5.0.0) lib/formtastic/inputs/base/labelling.rb:10:in 'Formtastic::Inputs::Base::Labelling#label_html'
formtastic (5.0.0) lib/formtastic/inputs/select_input.rb:168:in 'block in Formtastic::Inputs::SelectInput#to_html'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'block in ActionView::Helpers::CaptureHelper#capture'
actionview (8.0.2.1) lib/action_view/buffers.rb:75:in 'ActionView::OutputBuffer#capture'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'ActionView::Helpers::CaptureHelper#capture'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base.rb:13:in 'ActiveAdmin::Inputs::Filters::Base#input_wrapping'
formtastic (5.0.0) lib/formtastic/inputs/select_input.rb:167:in 'Formtastic::Inputs::SelectInput#to_html'
formtastic (5.0.0) lib/formtastic/helpers/input_helper.rb:240:in 'Formtastic::Helpers::InputHelper#input'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:15:in 'ActiveAdmin::Filters::FormBuilder#filter'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:65:in 'block (2 levels) in ActiveAdmin::Filters::ViewHelper#active_admin_filters_form_for'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:58:in 'Hash#each'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:58:in 'block in ActiveAdmin::Filters::ViewHelper#active_admin_filters_form_for'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'block in ActionView::Helpers::CaptureHelper#capture'
actionview (8.0.2.1) lib/action_view/buffers.rb:75:in 'ActionView::OutputBuffer#capture'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'ActionView::Helpers::CaptureHelper#capture'
actionview (8.0.2.1) lib/action_view/helpers/form_helper.rb:776:in 'ActionView::Helpers::FormHelper#form_with'
actionview (8.0.2.1) lib/action_view/helpers/form_helper.rb:463:in 'ActionView::Helpers::FormHelper#form_for'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:57:in 'ActiveAdmin::Filters::ViewHelper#active_admin_filters_form_for'
arbre (1.7.0) lib/arbre/element.rb:183:in 'Arbre::Element#method_missing'
activeadmin (3.3.0) lib/active_admin/filters/resource_extension.rb:169:in 'block in ActiveAdmin::Filters::ResourceExtension#filters_sidebar_section'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar_section.rb:26:in 'BasicObject#instance_exec'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar_section.rb:26:in 'ActiveAdmin::Views::SidebarSection#build_sidebar_content'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar_section.rb:14:in 'ActiveAdmin::Views::SidebarSection#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#sidebar_section'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar.rb:10:in 'Array#map'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar.rb:10:in 'ActiveAdmin::Views::Sidebar#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#sidebar'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:88:in 'block in ActiveAdmin::Views::Pages::Base#build_page_content'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:86:in 'ActiveAdmin::Views::Pages::Base#build_page_content'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:63:in 'block (2 levels) in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:59:in 'block in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:58:in 'ActiveAdmin::Views::Pages::Base#build_page'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:10:in 'ActiveAdmin::Views::Pages::Base#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:3
arbre (1.7.0) lib/arbre/context.rb:47:in 'BasicObject#instance_eval'
arbre (1.7.0) lib/arbre/context.rb:47:in 'Arbre::Context#initialize'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1:in 'Class#new'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'Kernel#public_send'
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'ActionView::Base#_run'
actionview (8.0.2.1) lib/action_view/template.rb:284:in 'block in ActionView::Template#render'
activesupport (8.0.2.1) lib/active_support/notifications.rb:212:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/template.rb:583:in 'ActionView::Template#instrument_render_template'
actionview (8.0.2.1) lib/action_view/template.rb:272:in 'ActionView::Template#render'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:66:in 'block (2 levels) in ActionView::TemplateRenderer#render_template'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:60:in 'block in ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:80:in 'ActionView::TemplateRenderer#render_with_layout'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:59:in 'ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:11:in 'ActionView::TemplateRenderer#render'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:58:in 'ActionView::Renderer#render_template_to_object'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:31:in 'ActionView::Renderer#render_to_object'
actionview (8.0.2.1) lib/action_view/rendering.rb:136:in 'block in ActionView::Rendering#_render_template'
actionview (8.0.2.1) lib/action_view/base.rb:305:in 'ActionView::Base#in_rendering_context'
actionview (8.0.2.1) lib/action_view/rendering.rb:135:in 'ActionView::Rendering#_render_template'
actionpack (8.0.2.1) lib/action_controller/metal/streaming.rb:179:in 'ActionController::Streaming#_render_template'
actionview (8.0.2.1) lib/action_view/rendering.rb:122:in 'ActionView::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:186:in 'ActionController::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/renderers.rb:140:in 'ActionController::Renderers#render_to_body'
actionpack (8.0.2.1) lib/abstract_controller/rendering.rb:28:in 'AbstractController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:167:in 'ActionController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block (2 levels) in ActionController::Instrumentation#render'
activesupport (8.0.2.1) lib/active_support/benchmark.rb:17:in 'ActiveSupport::Benchmark.realtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block in ActionController::Instrumentation#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:100:in 'ActionController::Instrumentation#cleanup_view_runtime'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:46:in 'ActiveRecord::Railties::ControllerRuntime#cleanup_view_runtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:30:in 'ActionController::Instrumentation#render'
responders (3.1.1) lib/action_controller/responder.rb:245:in 'ActionController::Responder#default_render'
responders (3.1.1) lib/action_controller/responder.rb:175:in 'ActionController::Responder#to_html'
responders (3.1.1) lib/responders/flash_responder.rb:105:in 'Responders::FlashResponder#to_html'
responders (3.1.1) lib/action_controller/responder.rb:168:in 'ActionController::Responder#respond'
responders (3.1.1) lib/action_controller/responder.rb:161:in 'ActionController::Responder.call'
responders (3.1.1) lib/action_controller/respond_with.rb:216:in 'ActionController::RespondWith#respond_with'
inherited_resources (1.14.0) lib/inherited_resources/actions.rb:7:in 'InheritedResources::Actions#index'
activeadmin (3.3.0) lib/active_admin/resource_controller/streaming.rb:13:in 'ActiveAdmin::ResourceController::Streaming#index'
actionpack (8.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:8:in 'ActionController::BasicImplicitRender#send_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:226:in 'AbstractController::Base#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:193:in 'ActionController::Rendering#process_action'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:261:in 'block in AbstractController::Callbacks#process_action'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:120:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'

Information for cause: RuntimeError (Ransack needs User associations explicitly allowlisted as
searchable. Define a `ransackable_associations` class method in your `User`
model, watching out for items you DON'T want searchable (for
example, `encrypted_password`, `password_reset_token`, `owner` or
other sensitive information). You can use the following as a base:

```ruby
class User < ApplicationRecord

  # ...

  def self.ransackable_associations(auth_object = nil)
    []
  end

  # ...

end
```
):
  
ransack (4.3.0) lib/ransack/adapters/active_record/base.rb:112:in 'Ransack::Adapters::ActiveRecord::Base#deprecated_ransackable_list'
ransack (4.3.0) lib/ransack/adapters/active_record/base.rb:46:in 'Ransack::Adapters::ActiveRecord::Base#ransackable_associations'
activeadmin (3.3.0) lib/active_admin/filters/formtastic_addons.rb:50:in 'ActiveAdmin::Filters::FormtasticAddons#searchable_has_many_through?'
activeadmin (3.3.0) lib/active_admin/inputs/filters/select_input.rb:15:in 'ActiveAdmin::Inputs::Filters::SelectInput#searchable_method_name'
activeadmin (3.3.0) lib/active_admin/inputs/filters/select_input.rb:11:in 'ActiveAdmin::Inputs::Filters::SelectInput#input_name'
formtastic (5.0.0) lib/formtastic/inputs/base/labelling.rb:10:in 'Formtastic::Inputs::Base::Labelling#label_html'
formtastic (5.0.0) lib/formtastic/inputs/select_input.rb:168:in 'block in Formtastic::Inputs::SelectInput#to_html'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'block in ActionView::Helpers::CaptureHelper#capture'
actionview (8.0.2.1) lib/action_view/buffers.rb:75:in 'ActionView::OutputBuffer#capture'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'ActionView::Helpers::CaptureHelper#capture'
activeadmin (3.3.0) lib/active_admin/inputs/filters/base.rb:13:in 'ActiveAdmin::Inputs::Filters::Base#input_wrapping'
formtastic (5.0.0) lib/formtastic/inputs/select_input.rb:167:in 'Formtastic::Inputs::SelectInput#to_html'
formtastic (5.0.0) lib/formtastic/helpers/input_helper.rb:240:in 'Formtastic::Helpers::InputHelper#input'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:15:in 'ActiveAdmin::Filters::FormBuilder#filter'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:65:in 'block (2 levels) in ActiveAdmin::Filters::ViewHelper#active_admin_filters_form_for'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:58:in 'Hash#each'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:58:in 'block in ActiveAdmin::Filters::ViewHelper#active_admin_filters_form_for'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'block in ActionView::Helpers::CaptureHelper#capture'
actionview (8.0.2.1) lib/action_view/buffers.rb:75:in 'ActionView::OutputBuffer#capture'
actionview (8.0.2.1) lib/action_view/helpers/capture_helper.rb:50:in 'ActionView::Helpers::CaptureHelper#capture'
actionview (8.0.2.1) lib/action_view/helpers/form_helper.rb:776:in 'ActionView::Helpers::FormHelper#form_with'
actionview (8.0.2.1) lib/action_view/helpers/form_helper.rb:463:in 'ActionView::Helpers::FormHelper#form_for'
activeadmin (3.3.0) lib/active_admin/filters/forms.rb:57:in 'ActiveAdmin::Filters::ViewHelper#active_admin_filters_form_for'
arbre (1.7.0) lib/arbre/element.rb:183:in 'Arbre::Element#method_missing'
activeadmin (3.3.0) lib/active_admin/filters/resource_extension.rb:169:in 'block in ActiveAdmin::Filters::ResourceExtension#filters_sidebar_section'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar_section.rb:26:in 'BasicObject#instance_exec'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar_section.rb:26:in 'ActiveAdmin::Views::SidebarSection#build_sidebar_content'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar_section.rb:14:in 'ActiveAdmin::Views::SidebarSection#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#sidebar_section'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar.rb:10:in 'Array#map'
activeadmin (3.3.0) lib/active_admin/views/components/sidebar.rb:10:in 'ActiveAdmin::Views::Sidebar#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#sidebar'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:88:in 'block in ActiveAdmin::Views::Pages::Base#build_page_content'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:86:in 'ActiveAdmin::Views::Pages::Base#build_page_content'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:63:in 'block (2 levels) in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:32:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:15:in 'Arbre::Element::BuilderMethods#div'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:59:in 'block in ActiveAdmin::Views::Pages::Base#build_page'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:50:in 'Arbre::Element::BuilderMethods#with_current_arbre_element'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:58:in 'ActiveAdmin::Views::Pages::Base#build_page'
activeadmin (3.3.0) lib/active_admin/views/pages/base.rb:10:in 'ActiveAdmin::Views::Pages::Base#build'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:31:in 'block in Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/context.rb:94:in 'Arbre::Context#with_current_arbre_element'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:27:in 'Arbre::Element::BuilderMethods#build_tag'
arbre (1.7.0) lib/arbre/element/builder_methods.rb:40:in 'Arbre::Element::BuilderMethods#insert_tag'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:3
arbre (1.7.0) lib/arbre/context.rb:47:in 'BasicObject#instance_eval'
arbre (1.7.0) lib/arbre/context.rb:47:in 'Arbre::Context#initialize'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1:in 'Class#new'
activeadmin (3.3.0) app/views/active_admin/resource/index.html.arb:1
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'Kernel#public_send'
actionview (8.0.2.1) lib/action_view/base.rb:278:in 'ActionView::Base#_run'
actionview (8.0.2.1) lib/action_view/template.rb:284:in 'block in ActionView::Template#render'
activesupport (8.0.2.1) lib/active_support/notifications.rb:212:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/template.rb:583:in 'ActionView::Template#instrument_render_template'
actionview (8.0.2.1) lib/action_view/template.rb:272:in 'ActionView::Template#render'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:66:in 'block (2 levels) in ActionView::TemplateRenderer#render_template'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:60:in 'block in ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:80:in 'ActionView::TemplateRenderer#render_with_layout'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:59:in 'ActionView::TemplateRenderer#render_template'
actionview (8.0.2.1) lib/action_view/renderer/template_renderer.rb:11:in 'ActionView::TemplateRenderer#render'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:58:in 'ActionView::Renderer#render_template_to_object'
actionview (8.0.2.1) lib/action_view/renderer/renderer.rb:31:in 'ActionView::Renderer#render_to_object'
actionview (8.0.2.1) lib/action_view/rendering.rb:136:in 'block in ActionView::Rendering#_render_template'
actionview (8.0.2.1) lib/action_view/base.rb:305:in 'ActionView::Base#in_rendering_context'
actionview (8.0.2.1) lib/action_view/rendering.rb:135:in 'ActionView::Rendering#_render_template'
actionpack (8.0.2.1) lib/action_controller/metal/streaming.rb:179:in 'ActionController::Streaming#_render_template'
actionview (8.0.2.1) lib/action_view/rendering.rb:122:in 'ActionView::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:186:in 'ActionController::Rendering#render_to_body'
actionpack (8.0.2.1) lib/action_controller/metal/renderers.rb:140:in 'ActionController::Renderers#render_to_body'
actionpack (8.0.2.1) lib/abstract_controller/rendering.rb:28:in 'AbstractController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:167:in 'ActionController::Rendering#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block (2 levels) in ActionController::Instrumentation#render'
activesupport (8.0.2.1) lib/active_support/benchmark.rb:17:in 'ActiveSupport::Benchmark.realtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:31:in 'block in ActionController::Instrumentation#render'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:100:in 'ActionController::Instrumentation#cleanup_view_runtime'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:46:in 'ActiveRecord::Railties::ControllerRuntime#cleanup_view_runtime'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:30:in 'ActionController::Instrumentation#render'
responders (3.1.1) lib/action_controller/responder.rb:245:in 'ActionController::Responder#default_render'
responders (3.1.1) lib/action_controller/responder.rb:175:in 'ActionController::Responder#to_html'
responders (3.1.1) lib/responders/flash_responder.rb:105:in 'Responders::FlashResponder#to_html'
responders (3.1.1) lib/action_controller/responder.rb:168:in 'ActionController::Responder#respond'
responders (3.1.1) lib/action_controller/responder.rb:161:in 'ActionController::Responder.call'
responders (3.1.1) lib/action_controller/respond_with.rb:216:in 'ActionController::RespondWith#respond_with'
inherited_resources (1.14.0) lib/inherited_resources/actions.rb:7:in 'InheritedResources::Actions#index'
activeadmin (3.3.0) lib/active_admin/resource_controller/streaming.rb:13:in 'ActiveAdmin::ResourceController::Streaming#index'
actionpack (8.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:8:in 'ActionController::BasicImplicitRender#send_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:226:in 'AbstractController::Base#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:193:in 'ActionController::Rendering#process_action'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:261:in 'block in AbstractController::Callbacks#process_action'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:120:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/admin/users" for ::1 at 2025-08-24 14:33:50 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 20.6ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 21.8ms | ActiveRecord: 4.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/admin/users/2" for ::1 at 2025-08-24 14:44:06 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "2"}
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mUser Destroy (1.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 2 /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 35ms (ActiveRecord: 8.1ms (3 queries, 0 cached) | GC: 4.6ms)


Started GET "/admin/users" for ::1 at 2025-08-24 14:44:06 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 26.4ms | GC: 2.1ms)
Completed 200 OK in 32ms (Views: 27.1ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 2.3ms)


Started DELETE "/admin/users/3" for ::1 at 2025-08-24 14:44:08 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "3"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mUser Destroy (3.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 3 /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 14ms (ActiveRecord: 6.2ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/admin/users" for ::1 at 2025-08-24 14:44:08 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 29.8ms | GC: 10.9ms)
Completed 200 OK in 35ms (Views: 29.8ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 10.9ms)


Started DELETE "/admin/users/4" for ::1 at 2025-08-24 14:44:11 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "4"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mUser Destroy (2.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 4 /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='destroy',application='MbsPromoRetention',controller='users'*/[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 17ms (ActiveRecord: 4.3ms (3 queries, 0 cached) | GC: 3.2ms)


Started GET "/admin/users" for ::1 at 2025-08-24 14:44:11 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 21.0ms | GC: 3.0ms)
Completed 200 OK in 26ms (Views: 21.2ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 3.6ms)


Started GET "/admin/users" for ::1 at 2025-08-24 14:44:17 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 35.6ms | GC: 13.0ms)
Completed 200 OK in 42ms (Views: 36.3ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 14.0ms)


Started GET "/admin/users" for ::1 at 2025-08-24 14:44:35 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 28.0ms | GC: 14.5ms)
Completed 200 OK in 34ms (Views: 28.7ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 16.5ms)


Started GET "/admin/users" for ::1 at 2025-08-24 14:45:07 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 22.2ms | GC: 2.0ms)
Completed 200 OK in 48ms (Views: 23.7ms | ActiveRecord: 7.8ms (2 queries, 0 cached) | GC: 3.9ms)


Started GET "/admin/users" for ::1 at 2025-08-24 14:45:33 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (1.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 24.0ms | GC: 2.4ms)
Completed 200 OK in 33ms (Views: 24.0ms | ActiveRecord: 1.9ms (2 queries, 0 cached) | GC: 2.4ms)


Started GET "/admin/users" for ::1 at 2025-08-24 14:45:35 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 14.9ms | GC: 0.9ms)
Completed 200 OK in 20ms (Views: 15.0ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.9ms)


Started GET "/admin/users" for ::1 at 2025-08-24 14:46:06 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 15.3ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 16.5ms | ActiveRecord: 4.2ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mAdminUser Count (9.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "admin_users" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mAdminUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mAdminUser Create (0.3ms)[0m  [1m[32mINSERT INTO "admin_users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ('admin@example.com', '$2a$12$B7.F17PIKGq2s1lRAvAk5.DplGFJiL0oeFveHEbpK2ygJEpq/fhs6', NULL, NULL, NULL, '2025-08-24 11:55:57.134740', '2025-08-24 11:55:57.134740') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mAdminUser Count (8.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "admin_users" /*application='BMS'*/[0m
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mAdminUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@admin.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mAdminUser Create (0.4ms)[0m  [1m[32mINSERT INTO "admin_users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ('admin@admin.com', '$2a$12$uCYsHsjuaYHnXOAmIm3jdOeNlzvhum9hCnNU5s6MP0zhun0trv4kO', NULL, NULL, NULL, '2025-08-24 11:57:55.782932', '2025-08-24 11:57:55.782932') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mAdminUser Count (9.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "admin_users" /*application='BMS'*/[0m
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" /*application='BMS'*/[0m
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@admin.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to CreateBonusAuditLogs (20250824120142)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "bonus_audit_logs" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "user_id" bigint NOT NULL, "action" character varying, "changes_data" text, "metadata" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a5dcd55b76"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
, CONSTRAINT "fk_rails_a086348671"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='BMS'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_audit_logs_on_bonus_id" ON "bonus_audit_logs" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_bonus_audit_logs_on_user_id" ON "bonus_audit_logs" ("user_id") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250824120142') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('test@example.com', '$2a$12$FW3D6N9DHIu7bHzenNydgOSs/GxHUVz4u6L1LAvev1IT7f9z8G3Ky', NULL, NULL, NULL, '2025-08-24 12:05:30.664933', '2025-08-24 12:05:30.664933', 1, 'Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¹', 'ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('test@example.com', '$2a$12$caFk7ettpLrUpg82gnvGr.xaJ.VTuXSUMcKh7UI7pEdkpbAUygfXK', NULL, NULL, NULL, '2025-08-24 12:05:42.085997', '2025-08-24 12:05:42.085997', 1, 'Test', 'User') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (1.7ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Welcome Bonus 100%', 'WELCOME100', 'active', 10.0, 35.0, 1000.0, NULL, '2025-07-24 12:05:42.089154', '2025-09-24 12:05:42.089242', NULL, NULL, NULL, 5, NULL, '2025-08-24 12:05:42.106549', '2025-08-24 12:05:42.106549', 'VOLNA', 'welcome_bonus', 'deposit', '["USD","EUR"]', NULL, NULL, NULL, '{"USD":10.0,"EUR":8.0}', 'ÐŸÑ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð±Ð¾Ð½ÑƒÑ 100% Ð½Ð° Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð´ÐµÐ¿Ð¾Ð·Ð¸Ñ‚', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (1.9ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Welcome Bonus 100%', 'WELCOME100', 'active', 10.0, 35.0, 1000.0, NULL, '2025-07-24 12:06:08.876687', '2025-09-24 12:06:08.876831', NULL, NULL, NULL, 5, NULL, '2025-08-24 12:06:08.894712', '2025-08-24 12:06:08.894712', 'VOLNA', 'welcome_bonus', 'deposit', '["USD","EUR"]', NULL, NULL, NULL, '{"USD":10.0,"EUR":8.0}', 'Welcome bonus 100% on first deposit', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (1.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Welcome Bonus 100%', 'WELCOME100', 'active', 10.0, 35.0, 1000.0, NULL, '2025-07-24 12:06:21.396004', '2025-09-24 12:06:21.396232', NULL, NULL, NULL, 5, NULL, '2025-08-24 12:06:21.414603', '2025-08-24 12:06:21.414603', 'VOLNA', 'welcome_bonus', 'deposit', '["USD","EUR"]', NULL, NULL, NULL, '{"USD":10.0,"EUR":8.0}', 'Welcome bonus 100% on first deposit', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (1.5ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Welcome Bonus 100%', 'WELCOME100', 'active', 10.0, 35.0, 1000.0, NULL, '2025-07-24 12:06:41.309777', '2025-09-24 12:06:41.309949', NULL, NULL, NULL, 5, NULL, '2025-08-24 12:06:41.326893', '2025-08-24 12:06:41.326893', 'VOLNA', 'welcome_bonus', 'deposit', '["USD","EUR"]', NULL, NULL, NULL, '{"USD":10.0,"EUR":8.0}', 'Welcome bonus 100% on first deposit', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (1.9ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Welcome Bonus 100%', 'WELCOME100', 'active', 10.0, 35.0, 1000.0, NULL, '2025-07-24 12:07:18.053764', '2025-09-24 12:07:18.053926', NULL, NULL, NULL, 5, NULL, '2025-08-24 12:07:18.072472', '2025-08-24 12:07:18.072472', 'VOLNA', 'welcome_bonus', 'deposit', '["USD","EUR"]', NULL, NULL, NULL, '{"USD":10.0,"EUR":8.0}', 'Welcome bonus 100% on first deposit', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (1.7ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Welcome Bonus 100%', 'WELCOME100', 'active', 10.0, 35.0, 1000.0, NULL, '2025-07-24 12:07:44.920703', '2025-09-24 12:07:44.920962', NULL, NULL, NULL, 5, NULL, '2025-08-24 12:07:44.942854', '2025-08-24 12:07:44.942854', 'VOLNA', 'welcome_bonus', 'deposit', '["USD","EUR"]', NULL, NULL, NULL, '{"USD":10.0,"EUR":8.0}', 'Welcome bonus 100% on first deposit', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (1.5ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Welcome Bonus 100%', 'WELCOME100', 'active', 10.0, 35.0, 1000.0, NULL, '2025-07-24 12:08:03.691491', '2025-09-24 12:08:03.691715', NULL, NULL, NULL, 5, NULL, '2025-08-24 12:08:03.707861', '2025-08-24 12:08:03.707861', 'VOLNA', 'welcome_bonus', 'deposit', '["USD","EUR"]', NULL, NULL, NULL, '{"USD":10.0,"EUR":8.0}', 'Welcome bonus 100% on first deposit', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:72:in 'block (3 levels) in <main>'
  [1m[36mBonusAuditLog Create (2.0ms)[0m  [1m[32mINSERT INTO "bonus_audit_logs" ("bonus_id", "user_id", "action", "changes_data", "metadata", "created_at", "updated_at") VALUES (6, 5, 'updated', '{"status":["draft","active"],"minimum_deposit":[null,10.0]}', '{"ip_address":"127.0.0.1"}', '2025-08-24 12:08:03.756512', '2025-08-24 12:08:03.756512') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:72:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:72:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:82:in 'block (3 levels) in <main>'
  [1m[36mBonusAuditLog Create (1.1ms)[0m  [1m[32mINSERT INTO "bonus_audit_logs" ("bonus_id", "user_id", "action", "changes_data", "metadata", "created_at", "updated_at") VALUES (6, 5, 'updated', '{"description":["Welcome bonus","Welcome bonus 100% on first deposit"]}', '{"ip_address":"127.0.0.1"}', '2025-08-24 12:08:03.761894', '2025-08-24 12:08:03.761894') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:82:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:82:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (1.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Free Spins Friday', 'FREESPIN50', 'draft', NULL, NULL, NULL, NULL, '2025-08-24 12:08:03.691743', '2025-11-24 12:08:03.691746', NULL, NULL, NULL, 5, NULL, '2025-08-24 12:08:03.766723', '2025-08-24 12:08:03.766723', 'ROX', 'friday_spins', 'manual', '["USD","EUR","BTC"]', NULL, 'weekly', NULL, NULL, '50 free spins every Friday', 'multiplier') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:92:in 'block (3 levels) in <main>'
  [1m[36mBonusAuditLog Create (1.1ms)[0m  [1m[32mINSERT INTO "bonus_audit_logs" ("bonus_id", "user_id", "action", "changes_data", "metadata", "created_at", "updated_at") VALUES (7, 5, 'activated', '{"status":["draft","active"]}', '{"ip_address":"127.0.0.1"}', '2025-08-24 12:08:03.771335', '2025-08-24 12:08:03.771335') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:92:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:92:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:98:in 'block (3 levels) in <main>'
  [1m[36mBonusAuditLog Create (1.1ms)[0m  [1m[32mINSERT INTO "bonus_audit_logs" ("bonus_id", "user_id", "action", "changes_data", "metadata", "created_at", "updated_at") VALUES (7, 5, 'deactivated', '{"status":["active","draft"]}', '{"ip_address":"127.0.0.1"}', '2025-08-24 12:08:03.776103', '2025-08-24 12:08:03.776103') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:98:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:98:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Cashback 10%', 'CASHBACK10', 'inactive', NULL, 1.0, NULL, NULL, '2025-08-10 12:08:03.691764', '2025-09-07 12:08:03.691785', NULL, NULL, NULL, 5, NULL, '2025-08-24 12:08:03.780961', '2025-08-24 12:08:03.780961', 'FRESH', 'cashback', 'collection', '["USD","EUR"]', NULL, NULL, NULL, NULL, 'Cashback 10% on losses', 'multiplier') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:67:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:106:in 'block (3 levels) in <main>'
  [1m[36mBonusAuditLog Create (1.1ms)[0m  [1m[32mINSERT INTO "bonus_audit_logs" ("bonus_id", "user_id", "action", "changes_data", "metadata", "created_at", "updated_at") VALUES (8, 5, 'updated', '{"wager":[null,1.0],"currencies":[["USD"],["USD","EUR"]]}', '{"ip_address":"127.0.0.1"}', '2025-08-24 12:08:03.785064', '2025-08-24 12:08:03.785064') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:106:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_audit_data.rake:106:in 'block (3 levels) in <main>'
  [1m[36mBonus Count (11.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*application='BMS'*/[0m
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT "bonuses"."id" FROM "bonuses" /*application='BMS'*/[0m
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 8 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mBonus Count (9.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*application='BMS'*/[0m
  [1m[36mBonus Pluck (0.4ms)[0m  [1m[34mSELECT "bonuses"."groups" FROM "bonuses" /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:10:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:10:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:10:in 'block (2 levels) in <main>'
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('support@example.com', '$2a$12$CF725zWVYPVQsVNbOIWX1euaAZ/WY4g0gIWNaetpoWGymZuoJnuVu', NULL, NULL, NULL, '2025-08-24 12:31:26.501612', '2025-08-24 12:31:26.501612', 3, 'Support', 'Agent') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:10:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:10:in 'block (2 levels) in <main>'
Started HEAD "/" for 127.0.0.1 at 2025-08-24 15:38:26 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by HomeController#index as */*
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_out" for ::1 at 2025-08-24 15:38:59 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
Started GET "/users/sign_out" for ::1 at 2025-08-24 15:40:14 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
Started GET "/" for ::1 at 2025-08-24 15:40:17 +0300
Processing by HomeController#index as HTML
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:40:17 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 9.4ms | ActiveRecord: 6.8ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:40:19 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 15:40:38 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@bms.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 212ms (ActiveRecord: 0.9ms (1 query, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 208ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:40:48 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:40:53 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 15:40:54 +0300
Processing by BonusesController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:40:54 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 15:40:58 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mbscasino.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_out" for ::1 at 2025-08-24 15:41:03 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
Started GET "/users/sign_out" for ::1 at 2025-08-24 15:42:03 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
Started GET "/users/sign_in" for ::1 at 2025-08-24 15:42:04 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.9ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.2ms)
Completed 200 OK in 20ms (Views: 9.7ms | ActiveRecord: 3.8ms (0 queries, 0 cached) | GC: 0.3ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 15:42:06 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mbscasino.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 7ms (ActiveRecord: 2.3ms (1 query, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 214ms (Views: 6.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:43:12 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.6ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.4ms)
Completed 200 OK in 19ms (Views: 9.7ms | ActiveRecord: 3.2ms (0 queries, 0 cached) | GC: 1.1ms)


Started GET "/" for ::1 at 2025-08-24 15:43:13 +0300
Processing by HomeController#index as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:43:13 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:43:55 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 7.0ms | ActiveRecord: 2.7ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:44:14 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.5ms)
Completed 200 OK in 18ms (Views: 9.7ms | ActiveRecord: 3.0ms (0 queries, 0 cached) | GC: 1.9ms)


Started GET "/marketing" for ::1 at 2025-08-24 15:44:15 +0300
Processing by MarketingController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:44:15 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.7ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)


Started GET "/admin/users" for ::1 at 2025-08-24 15:44:16 +0300
Processing by Admin::UsersController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)


Started GET "/admin/login" for ::1 at 2025-08-24 15:44:16 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:44:16 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)


  [1m[36mAdminUser Count (9.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "admin_users" /*application='BMS'*/[0m
Started POST "/users/sign_in" for ::1 at 2025-08-24 15:45:15 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.2ms)
Completed 200 OK in 220ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 15:46:05 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 221ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 15:46:33 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@bms.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 211ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.2ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/users/sign_in" for ::1 at 2025-08-24 15:46:34 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 15:46:36 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mbscasino.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.9ms (1 query, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.8ms)
Completed 200 OK in 216ms (Views: 3.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)


  [1m[36mUser Count (7.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" /*application='BMS'*/[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" /*application='BMS'*/[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@bms.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "encrypted_password" = '$2a$12$fl3MRITdGM6gKYvUa.pAyO6BqvOgT.6vCmAFOpXz6RF2DpF6GvZYW', "updated_at" = '2025-08-24 12:46:57.707435' WHERE "users"."id" = 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" IN ('promo@bms.com', 'shift@bms.com', 'support@bms.com') /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "encrypted_password" = '$2a$12$Xzroj4gIjI.P3qeqOXO1z.bd9mb5NJlSIvAYQ7BfwooZE7TRSh0fS', "updated_at" = '2025-08-24 12:47:01.223605' WHERE "users"."id" = 2 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "encrypted_password" = '$2a$12$g8JhlywGRIwTGDna.FvQNeoqKILFdYFMhUGwi7N38tAR5YvGQ07Lu', "updated_at" = '2025-08-24 12:47:01.432905' WHERE "users"."id" = 3 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "encrypted_password" = '$2a$12$T.aq.1JwuSDgRBXY9GUdjulL2RK13p7E2yZzdxrnJZsmIT7fJCsme', "updated_at" = '2025-08-24 12:47:01.641063' WHERE "users"."id" = 4 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('test@test.com', '$2a$12$DRVarCQIio4PaGWY/5HJP.NjXz.8YbsxMeAseKqqIjujH45JTmGNa', NULL, NULL, NULL, '2025-08-24 12:47:09.820243', '2025-08-24 12:47:09.820243', 3, 'Test', 'User') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Started GET "/users/sign_in" for 127.0.0.1 at 2025-08-24 15:47:11 +0300
Processing by Users::SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.3ms)
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 15:47:45 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 214ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.5ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/users/sign_in" for ::1 at 2025-08-24 15:47:45 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 15:48:00 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@bms.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 215ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/users/sign_in" for ::1 at 2025-08-24 15:48:00 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1 /*application='BMS'*/[0m
Started POST "/users/sign_in" for 127.0.0.1 at 2025-08-24 15:48:36 +0300
Processing by Users::SessionsController#create as */*
  Parameters: {"user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 211ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1 /*application='BMS'*/[0m
Started POST "/users/sign_in" for ::1 at 2025-08-24 15:49:43 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 223ms (ActiveRecord: 2.7ms (1 query, 0 cached) | GC: 0.5ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/users/sign_in" for ::1 at 2025-08-24 15:49:44 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | GC: 1.2ms)
Completed 200 OK in 16ms (Views: 14.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 4.0ms)


  [1m[36mAdminUser Count (8.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "admin_users" /*application='BMS'*/[0m
  [1m[36mAdminUser Load (8.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" /*application='BMS'*/[0m
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@admin.com' LIMIT 1 /*application='BMS'*/[0m
Started POST "/admin/login" for 127.0.0.1 at 2025-08-24 15:50:50 +0300
Processing by ActiveAdmin::Devise::SessionsController#create as */*
  Parameters: {"admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@admin.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 213ms (ActiveRecord: 2.7ms (1 query, 0 cached) | GC: 0.4ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@admin.com' LIMIT 1 /*application='BMS'*/[0m
Started POST "/admin/login" for 127.0.0.1 at 2025-08-24 15:52:12 +0300
Processing by ActiveAdmin::Devise::SessionsController#create as */*
  Parameters: {"admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@admin.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 223ms (ActiveRecord: 3.0ms (1 query, 0 cached) | GC: 1.0ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started POST "/admin/login" for 127.0.0.1 at 2025-08-24 15:52:33 +0300
Processing by ActiveAdmin::Devise::SessionsController#create as */*
  Parameters: {"admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@admin.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 219ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 1.8ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/admin/login" for 127.0.0.1 at 2025-08-24 15:52:37 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as */*
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for 127.0.0.1 at 2025-08-24 15:53:10 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for 127.0.0.1 at 2025-08-24 15:53:12 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for 127.0.0.1 at 2025-08-24 15:53:29 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by ActiveAdmin::Devise::SessionsController#new as */*
  Rendering layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/shared/_links.erb (Duration: 1.4ms | GC: 0.2ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (Duration: 10.0ms | GC: 1.4ms)
  Rendered layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb (Duration: 11.6ms | GC: 1.4ms)
Completed 200 OK in 75ms (Views: 15.3ms | ActiveRecord: 12.7ms (0 queries, 0 cached) | GC: 36.6ms)


Started GET "/admin/login" for 127.0.0.1 at 2025-08-24 15:53:33 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as */*
  Rendering layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/shared/_links.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (Duration: 3.8ms | GC: 0.5ms)
  Rendered layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb (Duration: 4.5ms | GC: 0.5ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)


Started POST "/admin/login" for 127.0.0.1 at 2025-08-24 15:53:37 +0300
Processing by ActiveAdmin::Devise::SessionsController#create as */*
  Parameters: {"admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "authenticity_token" => "[FILTERED]"}
  [1m[36mAdminUser Load (4.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@admin.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 221ms (ActiveRecord: 4.6ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@admin.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mAdminUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "admin_users" /*application='BMS'*/[0m
Started POST "/users/sign_in" for ::1 at 2025-08-24 15:54:30 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@admin.com
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: false
Completed 401 Unauthorized in 8ms (ActiveRecord: 2.5ms (2 queries, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 221ms (Views: 6.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:54:31 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 15:54:40 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@admin.com
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: false
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 207ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mAdminUser Count (8.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "admin_users" /*application='BMS'*/[0m
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" /*application='BMS'*/[0m
Started GET "/admin" for ::1 at 2025-08-24 15:55:17 +0300
Processing by Admin::DashboardController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for ::1 at 2025-08-24 15:55:17 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 15:55:17 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mUser Count (11.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" /*application='BMS'*/[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" /*application='BMS'*/[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-08-24 15:55:26 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mUser Load (9.0ms)[0m  [1m[34mSELECT "users".* FROM "users" /*application='BMS'*/[0m
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" /*application='BMS'*/[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@bms.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@admin.com' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('admin@admin.com', '$2a$12$6dc5c73oH8p5B1ApoaXK3OqEXB9zWeza8L87OTQU5NaetcyuTem1a', NULL, NULL, NULL, '2025-08-24 12:55:59.951555', '2025-08-24 12:55:59.951555', 0, 'Admin', 'User') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Started POST "/users/sign_in" for ::1 at 2025-08-24 15:56:08 +0300
Processing by Users::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@bms.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 207ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/users/sign_in" for ::1 at 2025-08-24 15:56:09 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:7:in 'block (2 levels) in <main>'
Started GET "/users/sign_in" for ::1 at 2025-08-24 16:02:17 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 6.2ms | ActiveRecord: 2.5ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 16:02:40 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'support@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 216ms (ActiveRecord: 3.9ms (1 query, 0 cached) | GC: 1.2ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started POST "/users/sign_in" for ::1 at 2025-08-24 16:05:16 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'support@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: support@example.com
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'support@example.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: z1padfmAsX2GB99apqToEZEr9PkDqHWxrOKe2D1NirhRsCXNUmDDaTEsGw5udGZ-AHtuDYdN7jXiK4fH3oSJ4w
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 224ms (ActiveRecord: 2.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:05:16 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mCompPointReward Load (0.9ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  Rendered bonuses/index.html.erb within layouts/application (Duration: 57.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 61.4ms | GC: 0.0ms)
Completed 200 OK in 69ms (Views: 46.9ms | ActiveRecord: 17.1ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-08-24 16:05:24 +0300
Processing by HeatmapController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 5.4ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | GC: 1.8ms)
Completed 200 OK in 32ms (Views: 10.7ms | ActiveRecord: 4.4ms (3 queries, 0 cached) | GC: 6.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:05:25 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonus Load (0.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  Rendered bonuses/index.html.erb within layouts/application (Duration: 60.5ms | GC: 7.4ms)
  Rendered layout layouts/application.html.erb (Duration: 62.9ms | GC: 7.8ms)
Completed 200 OK in 68ms (Views: 47.6ms | ActiveRecord: 16.8ms (11 queries, 0 cached) | GC: 7.8ms)


Started GET "/heatmap" for ::1 at 2025-08-24 16:05:25 +0300
Processing by HeatmapController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.8ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.8ms)
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.8ms)


Started GET "/marketing" for ::1 at 2025-08-24 16:05:26 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | GC: 0.4ms)
Completed 200 OK in 20ms (Views: 6.8ms | ActiveRecord: 2.8ms (10 queries, 1 cached) | GC: 1.2ms)


Started GET "/marketing" for ::1 at 2025-08-24 16:05:30 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 4.0ms | ActiveRecord: 2.5ms (10 queries, 1 cached) | GC: 0.3ms)


Started GET "/settings/templates" for ::1 at 2025-08-24 16:05:33 +0300
Processing by Settings::BonusTemplatesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Pluck (0.4ms)[0m  [1m[34mSELECT DISTINCT "bonus_templates"."dsl_tag" FROM "bonus_templates" /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/controllers/settings/bonus_templates_controller.rb:7:in 'Settings::BonusTemplatesController#index'
  Rendering layout layouts/application.html.erb
  Rendering settings/bonus_templates/index.html.erb within layouts/application
  [1m[36mBonusTemplate Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_templates" LIMIT 1 /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/views/settings/bonus_templates/index.html.erb:58
  Rendered settings/bonus_templates/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 3.6ms | ActiveRecord: 1.8ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 16:05:38 +0300
Processing by Users::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
Redirected to http://localhost:3000/bonuses
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.3ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:05:38 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  Rendered bonuses/index.html.erb within layouts/application (Duration: 13.9ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | GC: 1.0ms)
Completed 200 OK in 19ms (Views: 14.4ms | ActiveRecord: 2.0ms (11 queries, 0 cached) | GC: 1.0ms)


Started GET "/admin" for ::1 at 2025-08-24 16:05:43 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 3ms (ActiveRecord: 1.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for ::1 at 2025-08-24 16:05:43 +0300
Processing by ActiveAdmin::Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/shared/_links.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/devise/sessions/new.html.erb within layouts/active_admin_logged_out (Duration: 5.8ms | GC: 0.5ms)
  Rendered layout /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/layouts/active_admin_logged_out.html.erb (Duration: 7.0ms | GC: 0.5ms)
Completed 200 OK in 15ms (Views: 8.4ms | ActiveRecord: 1.9ms (1 query, 0 cached) | GC: 0.8ms)


Started POST "/admin/login" for ::1 at 2025-08-24 16:06:03 +0300
Processing by ActiveAdmin::Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login"}
  [1m[36mAdminUser Load (2.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@admin.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 213ms (ActiveRecord: 2.4ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
  [1m[36mAdminUser Count (10.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "admin_users" /*application='BMS'*/[0m
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" LIMIT 3 /*application='BMS'*/[0m
Started POST "/admin/login" for ::1 at 2025-08-24 16:09:03 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20250824130703_add_devise_to_admin_users.rb


):
  
activerecord (8.0.2.1) lib/active_record/migration.rb:743:in 'ActiveRecord::Migration.check_pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:660:in 'block (2 levels) in ActiveRecord::Migration::CheckPending#call'
activesupport (8.0.2.1) lib/active_support/file_update_checker.rb:85:in 'ActiveSupport::FileUpdateChecker#execute'
activesupport (8.0.2.1) lib/active_support/file_update_checker.rb:95:in 'ActiveSupport::FileUpdateChecker#execute_if_updated'
activerecord (8.0.2.1) lib/active_record/migration.rb:667:in 'block in ActiveRecord::Migration::CheckPending#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'Thread::Mutex#synchronize'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to AddDeviseToAdminUsers (20250824130703)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "admin_users" ADD "email" character varying DEFAULT '' NOT NULL /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
Started POST "/admin/login" for ::1 at 2025-08-24 16:09:20 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20250824130703_add_devise_to_admin_users.rb


):
  
activerecord (8.0.2.1) lib/active_record/migration.rb:743:in 'ActiveRecord::Migration.check_pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:660:in 'block (2 levels) in ActiveRecord::Migration::CheckPending#call'
activesupport (8.0.2.1) lib/active_support/file_update_checker.rb:85:in 'ActiveSupport::FileUpdateChecker#execute'
activerecord (8.0.2.1) lib/active_record/migration.rb:665:in 'block in ActiveRecord::Migration::CheckPending#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'Thread::Mutex#synchronize'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to AddDeviseToAdminUsers (20250824130703)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "admin_users" ADD "email" character varying DEFAULT '' NOT NULL /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Started GET "/admin/login" for 127.0.0.1 at 2025-08-24 16:10:06 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by AdminUsers::SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 3.1ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 5.5ms)
Completed 200 OK in 24ms (Views: 16.9ms | ActiveRecord: 2.1ms (0 queries, 0 cached) | GC: 6.6ms)


Started POST "/admin/login" for ::1 at 2025-08-24 16:10:14 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login"}
  [1m[36mAdminUser Load (1.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@admin.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: admin@admin.com
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@admin.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Redirected to http://localhost:3000/admin
Completed 303 See Other in 233ms (ActiveRecord: 2.1ms (2 queries, 0 cached) | GC: 4.5ms)


Started GET "/admin" for ::1 at 2025-08-24 16:10:15 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 12.4ms | GC: 4.2ms)
Completed 200 OK in 22ms (Views: 15.0ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 7.2ms)


Started GET "/admin/admin_users" for ::1 at 2025-08-24 16:10:16 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 35.4ms | GC: 10.6ms)
Completed 200 OK in 49ms (Views: 37.5ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 13.4ms)


Started GET "/admin/users" for ::1 at 2025-08-24 16:10:18 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 30.3ms | GC: 5.6ms)
Completed 200 OK in 37ms (Views: 30.6ms | ActiveRecord: 2.3ms (2 queries, 0 cached) | GC: 5.6ms)


Started GET "/admin/users/new" for ::1 at 2025-08-24 16:10:23 +0300
Processing by Admin::UsersController#new as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 12.4ms | GC: 1.5ms)
Completed 200 OK in 19ms (Views: 15.0ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 2.3ms)


Started POST "/admin/users" for ::1 at 2025-08-24 16:10:50 +0300
Processing by Admin::UsersController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "first_name" => "", "last_name" => "", "role" => "admin", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Create User"}
  [1m[36mAdminUser Load (1.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:97:in 'Admin::UsersController#create'
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:97:in 'Admin::UsersController#create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1[0m
  â†³ app/admin/users.rb:97:in 'Admin::UsersController#create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='create',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:97:in 'Admin::UsersController#create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:98:in 'block in Admin::UsersController#create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1[0m
  â†³ app/admin/users.rb:98:in 'block in Admin::UsersController#create'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 13.3ms | GC: 2.8ms)
Completed 200 OK in 231ms (Views: 13.7ms | ActiveRecord: 3.3ms (5 queries, 2 cached) | GC: 3.3ms)


Started POST "/admin/users" for ::1 at 2025-08-24 16:10:52 +0300
Processing by Admin::UsersController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "first_name" => "", "last_name" => "", "role" => "admin", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Create User"}
  [1m[36mAdminUser Load (0.9ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:97:in 'Admin::UsersController#create'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:97:in 'Admin::UsersController#create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1[0m
  â†³ app/admin/users.rb:97:in 'Admin::UsersController#create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('p.rusakevich@jetmail.cc', '$2a$12$404wExwe/GX6ehMNgAbkaeALuwG3Ucga//.bkiLysTLfHTFctgOD.', NULL, NULL, NULL, '2025-08-24 13:10:52.999320', '2025-08-24 13:10:52.999320', 0, '', '') RETURNING "id" /*action='create',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:97:in 'Admin::UsersController#create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:97:in 'Admin::UsersController#create'
Redirected to http://localhost:3000/admin/users/9
Completed 302 Found in 226ms (ActiveRecord: 6.5ms (4 queries, 1 cached) | GC: 1.3ms)


Started GET "/admin/users/9" for ::1 at 2025-08-24 16:10:53 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id" => "9"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 34.6ms | GC: 4.5ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 5.2ms)


  
ActionView::Template::Error (undefined method 'delete' for an instance of Symbol)
Caused by: NoMethodError (undefined method 'delete' for an instance of Symbol)

Information for: ActionView::Template::Error (undefined method 'delete' for an instance of Symbol):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:show)
  
app/admin/users.rb:48:in 'block (5 levels) in <main>'
app/admin/users.rb:47:in 'block (4 levels) in <main>'
app/admin/users.rb:46:in 'block (3 levels) in <main>'
app/admin/users.rb:45:in 'block (2 levels) in <main>'

Information for cause: NoMethodError (undefined method 'delete' for an instance of Symbol):
  
app/admin/users.rb:48:in 'block (5 levels) in <main>'
app/admin/users.rb:47:in 'block (4 levels) in <main>'
app/admin/users.rb:46:in 'block (3 levels) in <main>'
app/admin/users.rb:45:in 'block (2 levels) in <main>'
Started GET "/admin/users" for 127.0.0.1 at 2025-08-24 16:12:00 +0300
Processing by Admin::UsersController#index as */*
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Count (10.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" /*application='BMS'*/[0m
Started GET "/admin/users/9" for ::1 at 2025-08-24 16:12:39 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id" => "9"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 8.7ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 10.6ms | ActiveRecord: 7.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users/9" for ::1 at 2025-08-24 16:13:07 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id" => "9"}
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 8.9ms | GC: 1.0ms)
Completed 200 OK in 26ms (Views: 10.7ms | ActiveRecord: 3.7ms (2 queries, 0 cached) | GC: 1.7ms)


Started GET "/admin/users" for ::1 at 2025-08-24 16:13:09 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 28.9ms | GC: 2.8ms)
Completed 200 OK in 33ms (Views: 29.2ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 3.1ms)


Started DELETE "/admin/users/8" for ::1 at 2025-08-24 16:13:12 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "8"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 8 LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mUser Destroy (1.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 8 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT /*action='destroy',application='BMS',controller='users'*/[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 13ms (ActiveRecord: 5.5ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users" for ::1 at 2025-08-24 16:13:12 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 20.7ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 21.0ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/admin/users/7" for ::1 at 2025-08-24 16:13:14 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "7"}
  [1m[36mAdminUser Load (1.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 7 LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mUser Destroy (1.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 7 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='destroy',application='BMS',controller='users'*/[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 11ms (ActiveRecord: 3.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users" for ::1 at 2025-08-24 16:13:14 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 18.5ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 18.6ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/admin/users/6" for ::1 at 2025-08-24 16:13:16 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "6"}
  [1m[36mAdminUser Load (0.8ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mUser Destroy (1.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 6 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='destroy',application='BMS',controller='users'*/[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 11ms (ActiveRecord: 3.3ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users" for ::1 at 2025-08-24 16:13:16 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 29.4ms | GC: 9.1ms)
Completed 200 OK in 33ms (Views: 29.6ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 9.1ms)


Started DELETE "/admin/users/5" for ::1 at 2025-08-24 16:13:18 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "5"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mUser Destroy (2.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 5 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='destroy',application='BMS',controller='users'*/[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.9ms (3 queries, 0 cached) | GC: 0.5ms)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  update or delete on table "users" violates foreign key constraint "fk_rails_a086348671" on table "bonus_audit_logs"
DETAIL:  Key (id)=(5) is still referenced from table "bonus_audit_logs".
)
Caused by: PG::ForeignKeyViolation (ERROR:  update or delete on table "users" violates foreign key constraint "fk_rails_a086348671" on table "bonus_audit_logs"
DETAIL:  Key (id)=(5) is still referenced from table "bonus_audit_logs".
)

Information for: ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  update or delete on table "users" violates foreign key constraint "fk_rails_a086348671" on table "bonus_audit_logs"
DETAIL:  Key (id)=(5) is still referenced from table "bonus_audit_logs".
):
  

Information for cause: PG::ForeignKeyViolation (ERROR:  update or delete on table "users" violates foreign key constraint "fk_rails_a086348671" on table "bonus_audit_logs"
DETAIL:  Key (id)=(5) is still referenced from table "bonus_audit_logs".
):
  
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/database_statements.rb:160:in 'PG::Connection#exec'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/database_statements.rb:160:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#perform_query'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:556:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::DatabaseStatements#raw_execute'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:1015:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:984:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:555:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#raw_execute'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:1135:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:554:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#raw_execute'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:591:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#internal_execute'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:166:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#exec_delete'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:214:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/query_cache.rb:27:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
activerecord (8.0.2.1) lib/active_record/persistence.rb:296:in 'block in ActiveRecord::Persistence::ClassMethods#_delete_record'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:412:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
activerecord (8.0.2.1) lib/active_record/connection_handling.rb:310:in 'ActiveRecord::ConnectionHandling#with_connection'
activerecord (8.0.2.1) lib/active_record/persistence.rb:295:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
activerecord (8.0.2.1) lib/active_record/persistence.rb:871:in 'ActiveRecord::Persistence#_delete_row'
activerecord (8.0.2.1) lib/active_record/persistence.rb:867:in 'ActiveRecord::Persistence#destroy_row'
activerecord (8.0.2.1) lib/active_record/counter_cache.rb:211:in 'ActiveRecord::CounterCache#destroy_row'
activerecord (8.0.2.1) lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
activerecord (8.0.2.1) lib/active_record/persistence.rb:456:in 'ActiveRecord::Persistence#destroy'
activerecord (8.0.2.1) lib/active_record/callbacks.rb:423:in 'block in ActiveRecord::Callbacks#destroy'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:913:in 'ActiveRecord::Base#_run_destroy_callbacks'
activerecord (8.0.2.1) lib/active_record/callbacks.rb:423:in 'ActiveRecord::Callbacks#destroy'
activerecord (8.0.2.1) lib/active_record/transactions.rb:357:in 'block in ActiveRecord::Transactions#destroy'
activerecord (8.0.2.1) lib/active_record/transactions.rb:417:in 'block (2 levels) in ActiveRecord::Transactions#with_transaction_returning_status'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/transaction.rb:626:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/transaction.rb:623:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:367:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#within_new_transaction'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:359:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
activerecord (8.0.2.1) lib/active_record/transactions.rb:413:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:418:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
activerecord (8.0.2.1) lib/active_record/connection_handling.rb:310:in 'ActiveRecord::ConnectionHandling#with_connection'
activerecord (8.0.2.1) lib/active_record/transactions.rb:409:in 'ActiveRecord::Transactions#with_transaction_returning_status'
activerecord (8.0.2.1) lib/active_record/transactions.rb:357:in 'ActiveRecord::Transactions#destroy'
activeadmin (3.3.0) lib/active_admin/resource_controller/data_access.rb:183:in 'block in ActiveAdmin::ResourceController::DataAccess#destroy_resource'
activesupport (8.0.2.1) lib/active_support/core_ext/object/try.rb:15:in 'Kernel#public_send'
activesupport (8.0.2.1) lib/active_support/core_ext/object/try.rb:15:in 'ActiveSupport::Tryable#try'
activeadmin (3.3.0) lib/active_admin/callbacks.rb:80:in 'block (2 levels) in ActiveAdmin::ResourceController#define_active_admin_callbacks'
activeadmin (3.3.0) lib/active_admin/resource_controller/data_access.rb:182:in 'ActiveAdmin::ResourceController::DataAccess#destroy_resource'
inherited_resources (1.14.0) lib/inherited_resources/actions.rb:58:in 'InheritedResources::Actions#destroy'
actionpack (8.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:8:in 'ActionController::BasicImplicitRender#send_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:226:in 'AbstractController::Base#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:193:in 'ActionController::Rendering#process_action'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:261:in 'block in AbstractController::Callbacks#process_action'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:120:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/admin/users" for ::1 at 2025-08-24 16:13:23 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 18.2ms | GC: 0.4ms)
Completed 200 OK in 22ms (Views: 18.3ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.4ms)


Started DELETE "/admin/users/4" for ::1 at 2025-08-24 16:13:26 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "4"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mUser Destroy (1.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 4 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='destroy',application='BMS',controller='users'*/[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 10ms (ActiveRecord: 2.8ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/admin/users" for ::1 at 2025-08-24 16:13:26 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 18.1ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 18.2ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 3.4ms)


Started DELETE "/admin/users/3" for ::1 at 2025-08-24 16:13:28 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "3"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mUser Destroy (1.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 3 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='destroy',application='BMS',controller='users'*/[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 10ms (ActiveRecord: 2.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users" for ::1 at 2025-08-24 16:13:28 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 15.8ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/admin/users/2" for ::1 at 2025-08-24 16:13:30 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "2"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mUser Destroy (1.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 2 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='destroy',application='BMS',controller='users'*/[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 9ms (ActiveRecord: 2.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users" for ::1 at 2025-08-24 16:13:30 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 14.2ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 14.4ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/admin/users/1" for ::1 at 2025-08-24 16:13:32 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "1"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mUser Destroy (1.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 1 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*action='destroy',application='BMS',controller='users'*/[0m
Redirected to http://localhost:3000/admin/users
Completed 302 Found in 10ms (ActiveRecord: 3.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users" for ::1 at 2025-08-24 16:13:32 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 13.7ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/admin/users/5" for ::1 at 2025-08-24 16:13:36 +0300
Processing by Admin::UsersController#destroy as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "5"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mUser Destroy (1.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 5 /*action='destroy',application='BMS',controller='users'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='destroy',application='BMS',controller='users'*/[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.3ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  update or delete on table "users" violates foreign key constraint "fk_rails_a086348671" on table "bonus_audit_logs"
DETAIL:  Key (id)=(5) is still referenced from table "bonus_audit_logs".
)
Caused by: PG::ForeignKeyViolation (ERROR:  update or delete on table "users" violates foreign key constraint "fk_rails_a086348671" on table "bonus_audit_logs"
DETAIL:  Key (id)=(5) is still referenced from table "bonus_audit_logs".
)

Information for: ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  update or delete on table "users" violates foreign key constraint "fk_rails_a086348671" on table "bonus_audit_logs"
DETAIL:  Key (id)=(5) is still referenced from table "bonus_audit_logs".
):
  

Information for cause: PG::ForeignKeyViolation (ERROR:  update or delete on table "users" violates foreign key constraint "fk_rails_a086348671" on table "bonus_audit_logs"
DETAIL:  Key (id)=(5) is still referenced from table "bonus_audit_logs".
):
  
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/database_statements.rb:160:in 'PG::Connection#exec'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/database_statements.rb:160:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#perform_query'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:556:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::DatabaseStatements#raw_execute'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:1015:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:984:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:555:in 'block in ActiveRecord::ConnectionAdapters::DatabaseStatements#raw_execute'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:1135:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:554:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#raw_execute'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:591:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#internal_execute'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:166:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#exec_delete'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:214:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/query_cache.rb:27:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
activerecord (8.0.2.1) lib/active_record/persistence.rb:296:in 'block in ActiveRecord::Persistence::ClassMethods#_delete_record'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:412:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
activerecord (8.0.2.1) lib/active_record/connection_handling.rb:310:in 'ActiveRecord::ConnectionHandling#with_connection'
activerecord (8.0.2.1) lib/active_record/persistence.rb:295:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
activerecord (8.0.2.1) lib/active_record/persistence.rb:871:in 'ActiveRecord::Persistence#_delete_row'
activerecord (8.0.2.1) lib/active_record/persistence.rb:867:in 'ActiveRecord::Persistence#destroy_row'
activerecord (8.0.2.1) lib/active_record/counter_cache.rb:211:in 'ActiveRecord::CounterCache#destroy_row'
activerecord (8.0.2.1) lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
activerecord (8.0.2.1) lib/active_record/persistence.rb:456:in 'ActiveRecord::Persistence#destroy'
activerecord (8.0.2.1) lib/active_record/callbacks.rb:423:in 'block in ActiveRecord::Callbacks#destroy'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:913:in 'ActiveRecord::Base#_run_destroy_callbacks'
activerecord (8.0.2.1) lib/active_record/callbacks.rb:423:in 'ActiveRecord::Callbacks#destroy'
activerecord (8.0.2.1) lib/active_record/transactions.rb:357:in 'block in ActiveRecord::Transactions#destroy'
activerecord (8.0.2.1) lib/active_record/transactions.rb:417:in 'block (2 levels) in ActiveRecord::Transactions#with_transaction_returning_status'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/transaction.rb:626:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/transaction.rb:623:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:367:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#within_new_transaction'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/database_statements.rb:359:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
activerecord (8.0.2.1) lib/active_record/transactions.rb:413:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:418:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
activerecord (8.0.2.1) lib/active_record/connection_handling.rb:310:in 'ActiveRecord::ConnectionHandling#with_connection'
activerecord (8.0.2.1) lib/active_record/transactions.rb:409:in 'ActiveRecord::Transactions#with_transaction_returning_status'
activerecord (8.0.2.1) lib/active_record/transactions.rb:357:in 'ActiveRecord::Transactions#destroy'
activeadmin (3.3.0) lib/active_admin/resource_controller/data_access.rb:183:in 'block in ActiveAdmin::ResourceController::DataAccess#destroy_resource'
activesupport (8.0.2.1) lib/active_support/core_ext/object/try.rb:15:in 'Kernel#public_send'
activesupport (8.0.2.1) lib/active_support/core_ext/object/try.rb:15:in 'ActiveSupport::Tryable#try'
activeadmin (3.3.0) lib/active_admin/callbacks.rb:80:in 'block (2 levels) in ActiveAdmin::ResourceController#define_active_admin_callbacks'
activeadmin (3.3.0) lib/active_admin/resource_controller/data_access.rb:182:in 'ActiveAdmin::ResourceController::DataAccess#destroy_resource'
inherited_resources (1.14.0) lib/inherited_resources/actions.rb:58:in 'InheritedResources::Actions#destroy'
actionpack (8.0.2.1) lib/action_controller/metal/basic_implicit_render.rb:8:in 'ActionController::BasicImplicitRender#send_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:226:in 'AbstractController::Base#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rendering.rb:193:in 'ActionController::Rendering#process_action'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:261:in 'block in AbstractController::Callbacks#process_action'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:120:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2.1) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2.1) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/admin/users" for ::1 at 2025-08-24 16:13:41 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 14.9ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 15.1ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/admin_users" for ::1 at 2025-08-24 16:13:51 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 12.9ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 13.3ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/admin_users/new" for ::1 at 2025-08-24 16:13:55 +0300
Processing by Admin::AdminUsersController#new as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 7.5ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/admin/admin_users" for ::1 at 2025-08-24 16:14:07 +0300
Processing by Admin::AdminUsersController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Create Admin user"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='admin_users'*/[0m
  [1m[36mAdminUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='admin_users'*/[0m
  [1m[36mCACHE AdminUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1[0m
  [1m[36mAdminUser Create (0.3ms)[0m  [1m[32mINSERT INTO "admin_users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ('p.rusakevich@jetmail.cc', '$2a$12$wu9s.sTwgxWLajeeePye0elACQmlPinHaJe8btxvh164aIgms1sni', NULL, NULL, NULL, '2025-08-24 13:14:07.791763', '2025-08-24 13:14:07.791763') RETURNING "id" /*action='create',application='BMS',controller='admin_users'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='admin_users'*/[0m
Redirected to http://localhost:3000/admin/admin_users/3
Completed 302 Found in 216ms (ActiveRecord: 2.7ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin/admin_users/3" for ::1 at 2025-08-24 16:14:07 +0300
Processing by Admin::AdminUsersController#show as HTML
  Parameters: {"id" => "3"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 LIMIT 1 /*action='show',application='BMS',controller='admin_users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mActiveAdmin::Comment Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_admin_comments" WHERE "active_admin_comments"."resource_type" = 'AdminUser' AND "active_admin_comments"."resource_id" = 3 AND "active_admin_comments"."namespace" = 'admin' /*action='show',application='BMS',controller='admin_users'*/[0m
  [1m[36mActiveAdmin::Comment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_admin_comments" WHERE "active_admin_comments"."resource_type" = 'AdminUser' AND "active_admin_comments"."resource_id" = 3 AND "active_admin_comments"."namespace" = 'admin' LIMIT 1 OFFSET 0 /*action='show',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 24.8ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 22.9ms | ActiveRecord: 2.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/admin_users" for ::1 at 2025-08-24 16:14:12 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.8ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 14.5ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 14.6ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/bonuses" for ::1 at 2025-08-24 16:14:13 +0300
Processing by Admin::BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 33.6ms | GC: 6.6ms)
Completed 200 OK in 40ms (Views: 33.7ms | ActiveRecord: 2.4ms (2 queries, 0 cached) | GC: 6.6ms)


Started GET "/admin/comments" for ::1 at 2025-08-24 16:14:13 +0300
Processing by Admin::CommentsController#index as HTML
  [1m[36mAdminUser Load (1.0ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='comments'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mActiveAdmin::Comment Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_admin_comments" WHERE "active_admin_comments"."namespace" = 'admin' /*action='index',application='BMS',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Load (0.2ms)[0m  [1m[34mSELECT "active_admin_comments".* FROM "active_admin_comments" WHERE "active_admin_comments"."namespace" = 'admin' ORDER BY "active_admin_comments"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "active_admin_comments"."resource_type" FROM "active_admin_comments" ORDER BY resource_type asc /*action='index',application='BMS',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "active_admin_comments"."author_type" FROM "active_admin_comments" ORDER BY author_type asc /*action='index',application='BMS',controller='comments'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 18.6ms | GC: 2.7ms)
Completed 200 OK in 25ms (Views: 18.3ms | ActiveRecord: 1.9ms (5 queries, 0 cached) | GC: 3.6ms)


Started GET "/" for ::1 at 2025-08-24 16:14:16 +0300
Processing by HomeController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 6 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 16:14:16 +0300
Processing by Users::SessionsController#new as HTML
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | GC: 2.0ms)
Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 2.9ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:14:16 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.9ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 16:14:16 +0300
Processing by Users::SessionsController#new as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.9ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 16:14:18 +0300
Processing by Users::SessionsController#new as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.3ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 16:14:28 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: p.rusakevich@jetmail.cc
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: 5W0fEgkOhpjT6yTgAY7QbCN_RK_gZDzbybZFRNGumEUmSZTswWKXxql5CcOB7iRx19saGOkQTINRG0Wwv-FeEQ
Session token: F-LldaxyhERk3DnCI82fSAlLWTcpAtoG0oNeAG-kimM
Form authenticity token valid: false
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:14:in 'Users::SessionsController#create'
Completed 401 Unauthorized in 210ms (ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 1.2ms)
Completed 200 OK in 209ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.2ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 16:14:33 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: p.rusakevich@jetmail.cc
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: R5dtDk14EK54miO_xphRnSpbkNDlrns4oySX9OlLpH6Es-bwhRQB8AIIDpxG-KWA3v_OZ-zaC2A7iZcAhwRiKg
Session token: F-LldaxyhERk3DnCI82fSAlLWTcpAtoG0oNeAG-kimM
Form authenticity token valid: false
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:14:in 'Users::SessionsController#create'
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 215ms (ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 1.5ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:14:33 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusCodeReward Load (0.5ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  Rendered bonuses/index.html.erb within layouts/application (Duration: 54.8ms | GC: 6.8ms)
  Rendered layout layouts/application.html.erb (Duration: 57.3ms | GC: 7.5ms)
Completed 200 OK in 66ms (Views: 45.2ms | ActiveRecord: 14.0ms (12 queries, 0 cached) | GC: 8.6ms)


Started GET "/marketing" for ::1 at 2025-08-24 16:23:11 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by MarketingController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | GC: 0.0ms)
Completed 200 OK in 84ms (Views: 11.9ms | ActiveRecord: 19.7ms (11 queries, 1 cached) | GC: 25.2ms)


Started GET "/marketing/new?request_type=promo_webs_50" for ::1 at 2025-08-24 16:23:41 +0300
Processing by MarketingController#new as HTML
  Parameters: {"request_type" => "promo_webs_50"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='marketing'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering marketing/new.html.erb within layouts/application
  Rendered marketing/new.html.erb within layouts/application (Duration: 12.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 14.9ms | ActiveRecord: 1.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/marketing" for ::1 at 2025-08-24 16:24:41 +0300
Processing by MarketingController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "marketing_request" => {"request_type" => "promo_webs_50", "manager" => "ÐŸÐ°ÑˆÐ°", "platform" => "", "partner_email" => "[FILTERED]", "promo_code" => "ABCDEFG", "stag" => "215512", "status" => "pending", "activation_date" => ""}, "commit" => "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð·Ð°ÑÐ²ÐºÑƒ"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='marketing'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (1.9ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" IS NOT NULL ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%ABCDEFG%') /*action='create',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Create (0.8ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('ÐŸÐ°ÑˆÐ°', '', 'paulrusakevich@abracadabra.ru', 'ABCDEFG', '215512', NULL, 'pending', 'promo_webs_50', '2025-08-24 13:24:41.644160', '2025-08-24 13:24:41.644160') RETURNING "id" /*action='create',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:50:in 'MarketingController#create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*action='create',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:50:in 'MarketingController#create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 4.1ms (5 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (PG::UntranslatableCharacter: ERROR:  character with byte sequence 0xd0 0x9f in encoding "UTF8" has no equivalent in encoding "LATIN1"
)
Caused by: PG::UntranslatableCharacter (ERROR:  character with byte sequence 0xd0 0x9f in encoding "UTF8" has no equivalent in encoding "LATIN1"
)

Information for: ActiveRecord::StatementInvalid (PG::UntranslatableCharacter: ERROR:  character with byte sequence 0xd0 0x9f in encoding "UTF8" has no equivalent in encoding "LATIN1"
):
  

Information for cause: PG::UntranslatableCharacter (ERROR:  character with byte sequence 0xd0 0x9f in encoding "UTF8" has no equivalent in encoding "LATIN1"
):
  
app/controllers/marketing_controller.rb:50:in 'MarketingController#create'
Started POST "/marketing" for ::1 at 2025-08-24 16:25:02 +0300
Processing by MarketingController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "marketing_request" => {"request_type" => "promo_webs_50", "manager" => "Paul", "platform" => "", "partner_email" => "[FILTERED]", "promo_code" => "ABCDEFG", "stag" => "215512", "status" => "pending", "activation_date" => ""}, "commit" => "Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð·Ð°ÑÐ²ÐºÑƒ"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='marketing'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (1.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" IS NOT NULL ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%ABCDEFG%') /*action='create',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Create (0.7ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Paul', '', 'paulrusakevich@abracadabra.ru', 'ABCDEFG', '215512', NULL, 'pending', 'promo_webs_50', '2025-08-24 13:25:02.199016', '2025-08-24 13:25:02.199016') RETURNING "id" /*action='create',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:50:in 'MarketingController#create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:50:in 'MarketingController#create'
Redirected to http://localhost:3000/marketing?tab=promo_webs_50
Completed 302 Found in 16ms (ActiveRecord: 3.8ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-24 16:25:02 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.4ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 7.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 8.8ms | ActiveRecord: 2.9ms (13 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-24 16:26:04 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  â†³ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 6.4ms | ActiveRecord: 5.7ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-24 16:26:06 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  â†³ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 5.9ms | ActiveRecord: 1.7ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-24 16:26:09 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  â†³ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 6.6ms | ActiveRecord: 2.0ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/bonuses?project=All" for ::1 at 2025-08-24 16:26:11 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "All"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'All' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.3ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'All' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 5.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 8.0ms | ActiveRecord: 5.4ms (13 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:26:16 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreespinReward Load (0.4ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusCodeReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mCompPointReward Load (1.4ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  Rendered bonuses/index.html.erb within layouts/application (Duration: 76.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 78.8ms | GC: 0.0ms)
Completed 200 OK in 86ms (Views: 60.7ms | ActiveRecord: 19.5ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/settings/templates" for ::1 at 2025-08-24 16:26:20 +0300
Processing by Settings::BonusTemplatesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonus_templates'*/[0m
  [1m[36mBonusTemplate Pluck (0.9ms)[0m  [1m[34mSELECT DISTINCT "bonus_templates"."dsl_tag" FROM "bonus_templates" /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/controllers/settings/bonus_templates_controller.rb:7:in 'Settings::BonusTemplatesController#index'
  Rendering layout layouts/application.html.erb
  Rendering settings/bonus_templates/index.html.erb within layouts/application
  [1m[36mBonusTemplate Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_templates" LIMIT 1 /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/views/settings/bonus_templates/index.html.erb:58
  Rendered settings/bonus_templates/index.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 5.5ms | ActiveRecord: 3.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-24 16:26:21 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusBuyReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  Rendered bonuses/index.html.erb within layouts/application (Duration: 16.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 16.6ms | ActiveRecord: 6.2ms (21 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:26:25 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonus Load (1.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:186
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 17.4ms | ActiveRecord: 3.6ms (12 queries, 0 cached) | GC: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 0 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 1 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 2 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'shift@bms.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'shift@bms.com' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('shift@bms.com', '$2a$12$iVAwBA6b2Q6QqSFV1jyiy.NMvl8SaK41rHNN81nPcsGVxd2HkRLZK', NULL, NULL, NULL, '2025-08-24 13:31:46.518871', '2025-08-24 13:31:46.518871', 2, 'Shift', 'Leader') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 3 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@bms.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@bms.com' LIMIT 1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('support@bms.com', '$2a$12$xK3YIYU68El8iI44w70J6O5RxVIr2a5TFoaSNy1UE9FIJ7Jpyidcy', NULL, NULL, NULL, '2025-08-24 13:31:46.743642', '2025-08-24 13:31:46.743642', 3, 'Support', 'Agent') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 0 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 1 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 2 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 3 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mAdminUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE AdminUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
Started GET "/" for ::1 at 2025-08-24 16:31:59 +0300
Processing by HomeController#index as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 16:31:59 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | GC: 0.8ms)
Completed 200 OK in 26ms (Views: 16.5ms | ActiveRecord: 2.7ms (0 queries, 0 cached) | GC: 2.7ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 16:32:08 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'support@bms.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: support@bms.com
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'support@bms.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: VwBnti3GGFcn_lUgstrTUyslLuclUWSJG_a4qQeGdlsOkcSMXkouA3rDOP6CtWqUd0wMQ2hwY-445Oy3lsHD8g
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 252ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.8ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:32:08 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.8ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 80.2ms | GC: 4.1ms)
  Rendered layout layouts/application.html.erb (Duration: 82.1ms | GC: 4.1ms)
Completed 200 OK in 96ms (Views: 63.3ms | ActiveRecord: 25.0ms (11 queries, 0 cached) | GC: 4.6ms)


Started GET "/marketing" for ::1 at 2025-08-24 16:32:18 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.4ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.4ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 11.3ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | GC: 0.6ms)
Completed 200 OK in 31ms (Views: 12.7ms | ActiveRecord: 6.4ms (12 queries, 1 cached) | GC: 0.8ms)


Started GET "/settings/templates" for ::1 at 2025-08-24 16:32:25 +0300
Processing by Settings::BonusTemplatesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Pluck (0.5ms)[0m  [1m[34mSELECT DISTINCT "bonus_templates"."dsl_tag" FROM "bonus_templates" /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/controllers/settings/bonus_templates_controller.rb:7:in 'Settings::BonusTemplatesController#index'
  Rendering layout layouts/application.html.erb
  Rendering settings/bonus_templates/index.html.erb within layouts/application
  [1m[36mBonusTemplate Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_templates" LIMIT 1 /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/views/settings/bonus_templates/index.html.erb:58
  Rendered settings/bonus_templates/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.3ms)
Completed 200 OK in 17ms (Views: 6.4ms | ActiveRecord: 2.3ms (3 queries, 0 cached) | GC: 0.7ms)


Started GET "/marketing" for ::1 at 2025-08-24 16:32:25 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.5ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.4ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 8.4ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | GC: 0.3ms)
Completed 200 OK in 25ms (Views: 10.0ms | ActiveRecord: 4.5ms (12 queries, 1 cached) | GC: 0.3ms)


Started GET "/api/v1/bonuses" for ::1 at 2025-08-24 16:32:30 +0300
Processing by Api::V1::BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-24 16:32:30 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 4ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:32:30 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 15.6ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | GC: 0.5ms)
Completed 200 OK in 26ms (Views: 16.6ms | ActiveRecord: 3.3ms (11 queries, 0 cached) | GC: 0.5ms)


Started GET "/marketing" for ::1 at 2025-08-24 16:32:30 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 7.6ms | ActiveRecord: 2.0ms (12 queries, 1 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 16:33:25 +0300
Processing by Users::SessionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
Redirected to http://localhost:3000/bonuses
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 2.6ms (1 query, 0 cached) | GC: 0.7ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:33:25 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.4ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.4ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.6ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 84.8ms | GC: 8.2ms)
  Rendered layout layouts/application.html.erb (Duration: 89.3ms | GC: 8.6ms)
Completed 200 OK in 101ms (Views: 72.1ms | ActiveRecord: 20.8ms (11 queries, 0 cached) | GC: 9.2ms)


Started GET "/settings/templates" for ::1 at 2025-08-24 16:33:32 +0300
Processing by Settings::BonusTemplatesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "bonus_templates"."dsl_tag" FROM "bonus_templates" /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/controllers/settings/bonus_templates_controller.rb:7:in 'Settings::BonusTemplatesController#index'
  Rendering layout layouts/application.html.erb
  Rendering settings/bonus_templates/index.html.erb within layouts/application
  [1m[36mBonusTemplate Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_templates" LIMIT 1 /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/views/settings/bonus_templates/index.html.erb:58
  Rendered settings/bonus_templates/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.4ms)
Completed 200 OK in 14ms (Views: 5.2ms | ActiveRecord: 2.0ms (3 queries, 0 cached) | GC: 0.9ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 16:36:42 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.9ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | GC: 4.4ms)
Completed 200 OK in 30ms (Views: 16.1ms | ActiveRecord: 2.2ms (0 queries, 0 cached) | GC: 11.7ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 16:36:51 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'support@bms.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: support@bms.com
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'support@bms.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: QfjxFVyR1lmZpUtOJuPrgI0ArTF6CjyMxwDuZfHVAVHkG5vC5wFinwaqxCUkAOzekrI04geOgMWwVi4fX9HWww
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 218ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 2.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:36:51 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.3ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.5ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 113.9ms | GC: 43.4ms)
  Rendered layout layouts/application.html.erb (Duration: 116.0ms | GC: 43.4ms)
Completed 200 OK in 125ms (Views: 96.8ms | ActiveRecord: 21.8ms (11 queries, 0 cached) | GC: 44.2ms)


Started GET "/settings/templates" for ::1 at 2025-08-24 16:36:59 +0300
Processing by Settings::BonusTemplatesController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonus_templates"."dsl_tag" FROM "bonus_templates" /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/controllers/settings/bonus_templates_controller.rb:7:in 'Settings::BonusTemplatesController#index'
  Rendering layout layouts/application.html.erb
  Rendering settings/bonus_templates/index.html.erb within layouts/application
  [1m[36mBonusTemplate Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_templates" LIMIT 1 /*action='index',application='BMS',controller='bonus_templates'*/[0m
  â†³ app/views/settings/bonus_templates/index.html.erb:60
  Rendered settings/bonus_templates/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.6ms)
Completed 200 OK in 16ms (Views: 6.0ms | ActiveRecord: 2.8ms (3 queries, 0 cached) | GC: 0.6ms)


Started GET "/marketing" for ::1 at 2025-08-24 16:37:07 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 17.1ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | GC: 1.6ms)
Completed 200 OK in 34ms (Views: 18.0ms | ActiveRecord: 4.9ms (12 queries, 1 cached) | GC: 2.7ms)


Started GET "/api/v1/bonuses" for ::1 at 2025-08-24 16:37:14 +0300
Processing by Api::V1::BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 1.0ms)


Started GET "/" for ::1 at 2025-08-24 16:37:14 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 4ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.5ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:37:14 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (1.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.5ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 31.6ms | GC: 2.9ms)
  Rendered layout layouts/application.html.erb (Duration: 34.8ms | GC: 2.9ms)
Completed 200 OK in 41ms (Views: 30.8ms | ActiveRecord: 5.9ms (11 queries, 0 cached) | GC: 2.9ms)


Started GET "/bonuses?project=All" for ::1 at 2025-08-24 16:37:27 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "All"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (1.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'All' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'All' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 7.2ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | GC: 0.9ms)
Completed 200 OK in 31ms (Views: 9.3ms | ActiveRecord: 6.1ms (12 queries, 0 cached) | GC: 1.7ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-24 16:37:27 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (1.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.8ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.6ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | GC: 1.2ms)
Completed 200 OK in 48ms (Views: 20.6ms | ActiveRecord: 8.7ms (20 queries, 0 cached) | GC: 1.6ms)


Started GET "/marketing" for ::1 at 2025-08-24 16:37:32 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.4ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 10.6ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | GC: 0.3ms)
Completed 200 OK in 29ms (Views: 11.9ms | ActiveRecord: 4.0ms (12 queries, 1 cached) | GC: 0.5ms)


Started GET "/heatmap" for ::1 at 2025-08-24 16:37:33 +0300
Processing by HeatmapController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 4.7ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.3ms)
Completed 200 OK in 24ms (Views: 7.8ms | ActiveRecord: 1.8ms (3 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses" for ::1 at 2025-08-24 16:37:33 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (1.0ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.4ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.6ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.7ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (1.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 25.0ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 27.2ms | GC: 0.8ms)
Completed 200 OK in 33ms (Views: 22.1ms | ActiveRecord: 6.3ms (11 queries, 0 cached) | GC: 1.1ms)


Started GET "/" for ::1 at 2025-08-24 17:29:43 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by HomeController#index as HTML
Completed 401 Unauthorized in 12ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 17:29:43 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | GC: 0.3ms)
Completed 200 OK in 85ms (Views: 16.2ms | ActiveRecord: 16.0ms (0 queries, 0 cached) | GC: 23.9ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 17:29:56 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: p.rusakevich@jetmail.cc
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: t8MNRxqrTtr3oWkgr8EE2B4iCd9MaWP4txuzQC7b6bHdokNnbWVGfHVHGHP5tnicrHWiLXPj5nCzvcPcPcZU_w
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 224ms (ActiveRecord: 2.2ms (2 queries, 0 cached) | GC: 0.3ms)


Started GET "/bonuses" for ::1 at 2025-08-24 17:29:56 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (4.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (1.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (1.6ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.8ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (1.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (1.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (1.0ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (1.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 83.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 85.2ms | GC: 0.0ms)
Completed 200 OK in 97ms (Views: 63.5ms | ActiveRecord: 29.3ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin" for ::1 at 2025-08-24 17:30:03 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for ::1 at 2025-08-24 17:30:03 +0300
Processing by AdminUsers::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 7.1ms | ActiveRecord: 2.2ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/admin/login" for ::1 at 2025-08-24 17:30:16 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "1"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (1.8ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'p.rusakevich@jetmail.cc' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mAdminUser Update (1.3ms)[0m  [1m[33mUPDATE "admin_users" SET "remember_created_at" = '2025-08-24 14:30:16.698833', "updated_at" = '2025-08-24 14:30:16.699197' WHERE "admin_users"."id" = 3 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: p.rusakevich@jetmail.cc
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Redirected to http://localhost:3000/admin
Completed 303 See Other in 233ms (ActiveRecord: 4.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin" for ::1 at 2025-08-24 17:30:16 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/favicon.ico" for ::1 at 2025-08-24 17:30:16 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for ::1 at 2025-08-24 17:30:19 +0300
Processing by HomeController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 7ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 17:30:19 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 24.0ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 25.7ms | GC: 0.7ms)
Completed 200 OK in 32ms (Views: 24.1ms | ActiveRecord: 2.7ms (12 queries, 0 cached) | GC: 1.2ms)


Started GET "/admin/admin_users" for ::1 at 2025-08-24 17:30:23 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 20.4ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 21.5ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users" for ::1 at 2025-08-24 17:30:25 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 8.2ms | GC: 0.0ms)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable)
Caused by: NoMethodError (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable)

Information for: ActionView::Template::Error (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/users.rb:17:in 'block (3 levels) in <main>'
app/admin/users.rb:16:in 'block (2 levels) in <main>'

Information for cause: NoMethodError (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable):
  
app/admin/users.rb:17:in 'block (3 levels) in <main>'
app/admin/users.rb:16:in 'block (2 levels) in <main>'
Started GET "/admin/users" for ::1 at 2025-08-24 17:31:24 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 31.5ms | GC: 7.1ms)
Completed 500 Internal Server Error in 67ms (ActiveRecord: 5.6ms (2 queries, 0 cached) | GC: 16.7ms)


  
ActionView::Template::Error (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable)
Caused by: NoMethodError (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable)

Information for: ActionView::Template::Error (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/users.rb:17:in 'block (3 levels) in <main>'
app/admin/users.rb:16:in 'block (2 levels) in <main>'

Information for cause: NoMethodError (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable):
  
app/admin/users.rb:17:in 'block (3 levels) in <main>'
app/admin/users.rb:16:in 'block (2 levels) in <main>'
Started GET "/admin/users" for ::1 at 2025-08-24 17:31:26 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 21.3ms | GC: 5.4ms)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 5.0ms (2 queries, 0 cached) | GC: 10.7ms)


  
ActionView::Template::Error (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable)
Caused by: NoMethodError (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable)

Information for: ActionView::Template::Error (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/users.rb:17:in 'block (3 levels) in <main>'
app/admin/users.rb:16:in 'block (2 levels) in <main>'

Information for cause: NoMethodError (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable):
  
app/admin/users.rb:17:in 'block (3 levels) in <main>'
app/admin/users.rb:16:in 'block (2 levels) in <main>'
Started GET "/admin/admin_users" for ::1 at 2025-08-24 17:31:29 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 18.5ms | GC: 2.8ms)
Completed 200 OK in 23ms (Views: 18.9ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 2.8ms)


Started GET "/admin/users" for ::1 at 2025-08-24 17:31:30 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 8.7ms | GC: 0.0ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable)
Caused by: NoMethodError (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable)

Information for: ActionView::Template::Error (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/users.rb:17:in 'block (3 levels) in <main>'
app/admin/users.rb:16:in 'block (2 levels) in <main>'

Information for cause: NoMethodError (undefined method 'role_status_class' for an instance of ActiveAdmin::Views::IndexAsTable):
  
app/admin/users.rb:17:in 'block (3 levels) in <main>'
app/admin/users.rb:16:in 'block (2 levels) in <main>'
Started GET "/admin/users" for ::1 at 2025-08-24 17:32:32 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 41.3ms | GC: 13.3ms)
Completed 200 OK in 63ms (Views: 45.0ms | ActiveRecord: 4.5ms (2 queries, 0 cached) | GC: 16.8ms)


Started GET "/admin/comments" for ::1 at 2025-08-24 17:32:35 +0300
Processing by Admin::CommentsController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='comments'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mActiveAdmin::Comment Count (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_admin_comments" WHERE "active_admin_comments"."namespace" = 'admin' /*action='index',application='BMS',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Load (0.3ms)[0m  [1m[34mSELECT "active_admin_comments".* FROM "active_admin_comments" WHERE "active_admin_comments"."namespace" = 'admin' ORDER BY "active_admin_comments"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Pluck (0.4ms)[0m  [1m[34mSELECT DISTINCT "active_admin_comments"."resource_type" FROM "active_admin_comments" ORDER BY resource_type asc /*action='index',application='BMS',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "active_admin_comments"."author_type" FROM "active_admin_comments" ORDER BY author_type asc /*action='index',application='BMS',controller='comments'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 27.8ms | GC: 3.4ms)
Completed 200 OK in 38ms (Views: 24.3ms | ActiveRecord: 6.6ms (5 queries, 0 cached) | GC: 4.4ms)


Started GET "/admin/bonuses" for ::1 at 2025-08-24 17:32:36 +0300
Processing by Admin::BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 49.1ms | GC: 5.1ms)
Completed 200 OK in 68ms (Views: 50.5ms | ActiveRecord: 4.8ms (2 queries, 0 cached) | GC: 5.8ms)


Started GET "/admin/admin_users" for ::1 at 2025-08-24 17:32:37 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.9ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 17.0ms | GC: 1.8ms)
Completed 200 OK in 23ms (Views: 17.4ms | ActiveRecord: 1.2ms (2 queries, 0 cached) | GC: 2.4ms)


Started GET "/admin/dashboard" for ::1 at 2025-08-24 17:32:37 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.3ms)


Started GET "/admin/admin_users" for ::1 at 2025-08-24 17:32:38 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (1.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 18.1ms | GC: 2.3ms)
Completed 200 OK in 22ms (Views: 17.0ms | ActiveRecord: 1.9ms (2 queries, 0 cached) | GC: 2.3ms)


Started GET "/admin/admin_users/3" for ::1 at 2025-08-24 17:32:39 +0300
Processing by Admin::AdminUsersController#show as HTML
  Parameters: {"id" => "3"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 LIMIT 1 /*action='show',application='BMS',controller='admin_users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mActiveAdmin::Comment Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_admin_comments" WHERE "active_admin_comments"."resource_type" = 'AdminUser' AND "active_admin_comments"."resource_id" = 3 AND "active_admin_comments"."namespace" = 'admin' /*action='show',application='BMS',controller='admin_users'*/[0m
  [1m[36mActiveAdmin::Comment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_admin_comments" WHERE "active_admin_comments"."resource_type" = 'AdminUser' AND "active_admin_comments"."resource_id" = 3 AND "active_admin_comments"."namespace" = 'admin' LIMIT 1 OFFSET 0 /*action='show',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 20.4ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 20.8ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/admin_users/3/edit" for ::1 at 2025-08-24 17:32:42 +0300
Processing by Admin::AdminUsersController#edit as HTML
  Parameters: {"id" => "3"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 LIMIT 1 /*action='edit',application='BMS',controller='admin_users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE AdminUser Load (0.0ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 LIMIT 1[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 11.7ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 13.0ms | ActiveRecord: 0.9ms (3 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin/bonuses" for ::1 at 2025-08-24 17:32:49 +0300
Processing by Admin::BonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 25.7ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 25.5ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/bonuses/8" for ::1 at 2025-08-24 17:32:50 +0300
Processing by Admin::BonusesController#show as HTML
  Parameters: {"id" => "8"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 8 LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/admin/bonuses.rb:104:in 'block (4 levels) in <main>'
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mFreespinReward Load (1.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (1.0ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (1.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusAuditLog Load (2.9ms)[0m  [1m[34mSELECT "bonus_audit_logs".* FROM "bonus_audit_logs" WHERE "bonus_audit_logs"."bonus_id" = 8 ORDER BY "bonus_audit_logs"."created_at" DESC LIMIT 10 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/admin/bonuses.rb:153:in 'block (3 levels) in <main>'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  â†³ app/admin/bonuses.rb:172:in 'block (5 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 102.6ms | GC: 12.0ms)
Completed 200 OK in 108ms (Views: 75.1ms | ActiveRecord: 29.0ms (12 queries, 1 cached) | GC: 12.0ms)


Started GET "/admin/bonuses/8/edit" for ::1 at 2025-08-24 17:32:51 +0300
Processing by Admin::BonusesController#edit as HTML
  Parameters: {"id" => "8"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 8 LIMIT 1 /*action='edit',application='BMS',controller='bonuses'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE Bonus Load (0.0ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 8 LIMIT 1[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 35.0ms | GC: 3.1ms)
Completed 200 OK in 40ms (Views: 35.7ms | ActiveRecord: 0.6ms (3 queries, 1 cached) | GC: 3.1ms)


Started GET "/admin/bonus_audit_logs?bonus_id=8" for ::1 at 2025-08-24 17:32:52 +0300
Processing by Admin::BonusAuditLogsController#index as HTML
  Parameters: {"bonus_id" => "8"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonus_audit_logs'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 8 LIMIT 1 /*action='index',application='BMS',controller='bonus_audit_logs'*/[0m
  â†³ app/admin/bonus_audit_logs.rb:120:in 'Admin::BonusAuditLogsController#scoped_collection'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mBonusAuditLog Load (0.4ms)[0m  [1m[34mSELECT "bonus_audit_logs".* FROM "bonus_audit_logs" WHERE "bonus_audit_logs"."bonus_id" = 8 ORDER BY "bonus_audit_logs"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='bonus_audit_logs'*/[0m
  â†³ app/admin/bonus_audit_logs.rb:130:in 'Admin::BonusAuditLogsController#index'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='index',application='BMS',controller='bonus_audit_logs'*/[0m
  â†³ app/admin/bonus_audit_logs.rb:38:in 'block (3 levels) in <main>'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='index',application='BMS',controller='bonus_audit_logs'*/[0m
  â†³ app/admin/bonus_audit_logs.rb:130:in 'Admin::BonusAuditLogsController#index'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" /*action='index',application='BMS',controller='bonus_audit_logs'*/[0m
  â†³ app/admin/bonus_audit_logs.rb:130:in 'Admin::BonusAuditLogsController#index'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 23.2ms | GC: 1.4ms)
Completed 200 OK in 31ms (Views: 21.9ms | ActiveRecord: 2.6ms (6 queries, 0 cached) | GC: 2.2ms)


Started GET "/admin/users" for ::1 at 2025-08-24 17:33:04 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 23.2ms | GC: 1.9ms)
Completed 200 OK in 27ms (Views: 22.4ms | ActiveRecord: 1.7ms (2 queries, 0 cached) | GC: 1.9ms)


Started GET "/admin/users/11" for ::1 at 2025-08-24 17:33:05 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id" => "11"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 19.5ms | GC: 2.8ms)
Completed 200 OK in 25ms (Views: 19.9ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 3.1ms)


Started GET "/admin/users/11/edit" for ::1 at 2025-08-24 17:33:05 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id" => "11"}
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 LIMIT 1 /*action='edit',application='BMS',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 11 LIMIT 1[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 10.7ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 11.1ms | ActiveRecord: 1.4ms (3 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin/users/new" for ::1 at 2025-08-24 17:33:39 +0300
Processing by Admin::UsersController#new as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 11.9ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 13.6ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'marketing_manager@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:17:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:17:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'marketing_manager@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:17:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'marketing_manager@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:17:in 'block (2 levels) in <main>'
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('marketing_manager@example.com', '$2a$12$bG.jU1pp1.C7HBLtKoAMmO1JYBootRABqr/0GDsatvUsh4hs9c6Z.', NULL, NULL, NULL, '2025-08-24 14:40:21.576584', '2025-08-24 14:40:21.576584', 4, 'Marketing', 'Manager') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:17:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:17:in 'block (2 levels) in <main>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:127:in 'block (2 levels) in <main>'
Started GET "/admin/users/new" for ::1 at 2025-08-24 18:00:05 +0300
Processing by Admin::UsersController#new as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 10.1ms | GC: 1.5ms)
Completed 200 OK in 31ms (Views: 11.7ms | ActiveRecord: 3.8ms (1 query, 0 cached) | GC: 3.0ms)


Started GET "/admin/users" for ::1 at 2025-08-24 18:00:08 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 23.4ms | GC: 2.8ms)
Completed 200 OK in 28ms (Views: 23.6ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 2.8ms)


Started GET "/users/sign_out" for ::1 at 2025-08-24 18:00:16 +0300
Processing by Users::SessionsController#destroy as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
[Devise] Could not find devise mapping for path "/users/sign_out".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 404 Not Found in 3ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
AbstractController::ActionNotFound (Could not find devise mapping for path "/users/sign_out".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]

):
  
devise (4.9.4) app/controllers/devise_controller.rb:104:in 'DeviseController#unknown_action!'
devise (4.9.4) app/controllers/devise_controller.rb:79:in 'DeviseController#assert_is_devise_resource!'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/users/sign_out" for ::1 at 2025-08-24 18:02:04 +0300
Processing by Users::SessionsController#destroy as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
[Devise] Could not find devise mapping for path "/users/sign_out".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 404 Not Found in 16ms (ActiveRecord: 5.8ms (2 queries, 0 cached) | GC: 0.0ms)


  
AbstractController::ActionNotFound (Could not find devise mapping for path "/users/sign_out".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]

):
  
devise (4.9.4) app/controllers/devise_controller.rb:104:in 'DeviseController#unknown_action!'
devise (4.9.4) app/controllers/devise_controller.rb:79:in 'DeviseController#assert_is_devise_resource!'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/bonuses" for ::1 at 2025-08-24 18:02:07 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 46.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 50.8ms | GC: 0.0ms)
Completed 200 OK in 60ms (Views: 38.8ms | ActiveRecord: 14.9ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_out" for ::1 at 2025-08-24 18:02:09 +0300
Processing by Users::SessionsController#destroy as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
[Devise] Could not find devise mapping for path "/users/sign_out".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]


Completed 404 Not Found in 5ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


  
AbstractController::ActionNotFound (Could not find devise mapping for path "/users/sign_out".
This may happen for two reasons:

1) You forgot to wrap your route inside the scope block. For example:

  devise_scope :user do
    get "/some/route" => "some_devise_controller"
  end

2) You are testing a Devise controller bypassing the router.
   If so, you can explicitly tell Devise which mapping to use:

   @request.env["devise.mapping"] = Devise.mappings[:user]

):
  
devise (4.9.4) app/controllers/devise_controller.rb:104:in 'DeviseController#unknown_action!'
devise (4.9.4) app/controllers/devise_controller.rb:79:in 'DeviseController#assert_is_devise_resource!'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/users/sign_out" for ::1 at 2025-08-24 18:03:14 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
Started GET "/users/sign_out" for ::1 at 2025-08-24 18:04:47 +0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
Started GET "/bonuses" for ::1 at 2025-08-24 18:04:50 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (1.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 66.6ms | GC: 4.0ms)
  Rendered layout layouts/application.html.erb (Duration: 73.7ms | GC: 4.4ms)
Completed 200 OK in 97ms (Views: 56.7ms | ActiveRecord: 24.3ms (12 queries, 0 cached) | GC: 5.1ms)


Started DELETE "/users/sign_out" for ::1 at 2025-08-24 18:04:51 +0300
Processing by Users::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mAdminUser Load (0.9ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='destroy',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:19:in 'Users::SessionsController#destroy'
  [1m[36mAdminUser Update (1.7ms)[0m  [1m[33mUPDATE "admin_users" SET "remember_created_at" = NULL, "updated_at" = '2025-08-24 15:04:51.849451' WHERE "admin_users"."id" = 3 /*action='destroy',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:19:in 'Users::SessionsController#destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='destroy',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:19:in 'Users::SessionsController#destroy'
Redirected to http://localhost:3000/users/sign_in
Completed 303 See Other in 14ms (ActiveRecord: 3.3ms (3 queries, 0 cached) | GC: 0.1ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 18:04:51 +0300
Processing by Users::SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 18:05:18 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'marketing_manager@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: marketing_manager@example.com
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'marketing_manager@example.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: 6MN_xwR4zPFUDmgON2-9wZbBzUHQq-by8fcoKKhJ5wUQ705Jty14-u8Oe4BwhCSqJDUVNob459BQnqN-2cPlog
Session token: 6X_xlwmOMoJpQOVMhdwRazhe6cYuTsWZAJrHnq7eCGY
Form authenticity token valid: false
Completed 401 Unauthorized in 214ms (ActiveRecord: 3.2ms (2 queries, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 6.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 18:05:21 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 18:05:30 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: p.rusakevich@jetmail.cc
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: Zct5VCcWVI0jwkvk5k-xYtOUB0vEA665bhoR81PGUb-d50jalEPghpjCWGqhpCgJYWDfPJJQr5vPc5qlIkxTGA
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 211ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:05:30 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.5ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.4ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.7ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 58.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 60.6ms | GC: 0.0ms)
Completed 200 OK in 69ms (Views: 43.8ms | ActiveRecord: 21.1ms (11 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/users/sign_out" for ::1 at 2025-08-24 18:05:32 +0300
Processing by Users::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
Redirected to http://localhost:3000/users/sign_in
Completed 303 See Other in 5ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 18:05:32 +0300
Processing by Users::SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 18:05:47 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'marketing_manager@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: marketing_manager@test.com
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'marketing_manager@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: false
Authenticity token from form: Rhb8Xb9kWZXTVkdnBecT5rL9LeChRK8M99ggXDvxBjEbVjO5qNbXnNeO0m30Ts2-4-Y-nZZcjBLBSKzVoll1HA
Session token: vfgeQ4-CkKdKiZN23cfzZrzpuHdGbUiAK5bvjwQNg58
Form authenticity token valid: false
Completed 401 Unauthorized in 5ms (ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 212ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 18:07:32 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'marketing_manager@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: marketing_manager@example.com
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'marketing_manager@example.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: QqlMBXAmBtBMApmu-3AITteBFTuVU1GCfFamEgrE5hQf6YPhZ5SI2UjaDKQK2dYWhpoGRqJLcpxKxiqbk2yVOQ
Session token: vfgeQ4-CkKdKiZN23cfzZrzpuHdGbUiAK5bvjwQNg58
Form authenticity token valid: false
Completed 401 Unauthorized in 235ms (ActiveRecord: 1.4ms (2 queries, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'marketing_manager@test.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:17:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:17:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'marketing_manager@test.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:17:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'marketing_manager@test.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:17:in 'block (2 levels) in <main>'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('marketing_manager@test.com', '$2a$12$iTYg1wgwSNoV9oOHoO83buSUmwjvea/70UBGv6pc/UpWeTNoaP8/m', NULL, NULL, NULL, '2025-08-24 15:08:11.857503', '2025-08-24 15:08:11.857503', 4, 'Marketing', 'Manager') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:17:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:17:in 'block (2 levels) in <main>'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:127:in 'block (2 levels) in <main>'
Started POST "/users/sign_in" for ::1 at 2025-08-24 18:08:39 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'marketing_manager@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: marketing_manager@test.com
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'marketing_manager@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: gtO5cYgYuOVsukBm2uH3Axx_iO77rmCQ6UFJsH48W8Lfk3aVn6o27Ghi1WwrSClbTWSbk8y2Q47f0cU555Qo7w
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 214ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:08:39 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (1.4ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 21.1ms | ActiveRecord: 3.5ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing" for ::1 at 2025-08-24 18:08:41 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.4ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 11.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 11.6ms | ActiveRecord: 5.8ms (12 queries, 1 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-24 18:08:42 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:08:42 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 11.4ms | ActiveRecord: 2.1ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-24 18:08:45 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:08:45 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 11.4ms | ActiveRecord: 1.6ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing" for ::1 at 2025-08-24 18:08:46 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 7.4ms | ActiveRecord: 2.1ms (12 queries, 1 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-24 18:08:47 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:08:47 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 11.7ms | ActiveRecord: 2.1ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-24 18:08:52 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:08:52 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 11.6ms | ActiveRecord: 2.0ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/8" for ::1 at 2025-08-24 18:09:09 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 8 LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:1263:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 8 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 8.8ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 14.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 14.4ms | ActiveRecord: 1.6ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:09:11 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.4ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 13.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 13.2ms | ActiveRecord: 2.3ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing" for ::1 at 2025-08-24 18:09:46 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 6.8ms | ActiveRecord: 2.0ms (12 queries, 1 cached) | GC: 0.0ms)


  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_marketing_manager.rake:127:in 'block (2 levels) in <main>'
Started GET "/marketing" for ::1 at 2025-08-24 18:12:41 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.7ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 22.3ms | GC: 2.9ms)
  Rendered layout layouts/application.html.erb (Duration: 27.7ms | GC: 3.6ms)
Completed 200 OK in 56ms (Views: 26.7ms | ActiveRecord: 8.6ms (12 queries, 1 cached) | GC: 5.9ms)


Started GET "/" for ::1 at 2025-08-24 18:12:42 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 6ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 1.3ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:12:42 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/marketing
Filter chain halted as :check_bonus_access rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/marketing" for ::1 at 2025-08-24 18:12:42 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 1.7ms)
Completed 200 OK in 21ms (Views: 8.9ms | ActiveRecord: 3.0ms (12 queries, 1 cached) | GC: 1.7ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:12:42 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/marketing
Filter chain halted as :check_bonus_access rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/marketing" for ::1 at 2025-08-24 18:12:43 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.5ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.8ms)
Completed 200 OK in 19ms (Views: 7.5ms | ActiveRecord: 2.5ms (12 queries, 1 cached) | GC: 1.4ms)


Started GET "/marketing" for ::1 at 2025-08-24 18:12:45 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 7.1ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 1.2ms)
Completed 200 OK in 19ms (Views: 9.1ms | ActiveRecord: 2.0ms (12 queries, 1 cached) | GC: 1.8ms)


Started GET "/marketing" for ::1 at 2025-08-24 18:12:46 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.8ms)
Completed 200 OK in 18ms (Views: 7.7ms | ActiveRecord: 2.7ms (12 queries, 1 cached) | GC: 1.3ms)


Started GET "/marketing/new?request_type=promo_webs_50" for ::1 at 2025-08-24 18:12:48 +0300
Processing by MarketingController#new as HTML
  Parameters: {"request_type" => "promo_webs_50"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering marketing/new.html.erb within layouts/application
  Rendered marketing/new.html.erb within layouts/application (Duration: 5.2ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.6ms)
Completed 200 OK in 11ms (Views: 7.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/marketing" for ::1 at 2025-08-24 18:12:48 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (1.8ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 10.5ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | GC: 0.9ms)
Completed 200 OK in 22ms (Views: 9.8ms | ActiveRecord: 4.1ms (12 queries, 1 cached) | GC: 1.5ms)


Started GET "/marketing" for ::1 at 2025-08-24 18:12:49 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.9ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 8.3ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | GC: 0.9ms)
Completed 200 OK in 34ms (Views: 8.8ms | ActiveRecord: 7.0ms (12 queries, 1 cached) | GC: 0.9ms)


Started GET "/marketing" for ::1 at 2025-08-24 18:12:50 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.4ms)
Completed 200 OK in 18ms (Views: 6.6ms | ActiveRecord: 3.1ms (12 queries, 1 cached) | GC: 0.9ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-24 18:12:50 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:32:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 19.4ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 22.7ms | GC: 0.9ms)
Completed 200 OK in 44ms (Views: 22.5ms | ActiveRecord: 6.6ms (12 queries, 1 cached) | GC: 1.8ms)


Started DELETE "/users/sign_out" for ::1 at 2025-08-24 18:15:06 +0300
Processing by Users::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 13 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
Redirected to http://localhost:3000/users/sign_in
Completed 303 See Other in 11ms (ActiveRecord: 2.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 18:15:06 +0300
Processing by Users::SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 18:15:14 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: p.rusakevich@jetmail.cc
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: NDff6wlqsMee7QT82sZQyPdUPobudPQEwPLNwMu3tbai9RDHswRWdRspwswMH9MQ1irs1Rza1ryz3sdDFN5gjw
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 211ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:15:15 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 56.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 58.3ms | GC: 0.0ms)
Completed 200 OK in 65ms (Views: 42.6ms | ActiveRecord: 18.2ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:27:43 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.5ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.4ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.5ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.4ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.5ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.5ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 45.2ms | GC: 5.0ms)
  Rendered layout layouts/application.html.erb (Duration: 52.7ms | GC: 6.3ms)
Completed 200 OK in 74ms (Views: 51.0ms | ActiveRecord: 8.7ms (11 queries, 0 cached) | GC: 7.9ms)


Started GET "/admin/users" for ::1 at 2025-08-24 18:27:44 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for ::1 at 2025-08-24 18:27:44 +0300
Processing by AdminUsers::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.8ms)
Completed 200 OK in 15ms (Views: 6.5ms | ActiveRecord: 2.8ms (1 query, 0 cached) | GC: 1.4ms)


Started DELETE "/users/sign_out" for ::1 at 2025-08-24 18:27:59 +0300
Processing by Users::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
Redirected to http://localhost:3000/users/sign_in
Completed 303 See Other in 11ms (ActiveRecord: 2.6ms (1 query, 0 cached) | GC: 0.9ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 18:27:59 +0300
Processing by Users::SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.8ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 18:28:18 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: p.rusakevich@jetmail.cc
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: Amc4yXlwOFBgHva6DPT6an8rw7kLneKqzoiOEW3zb55U95KYSB1-eXuZY4oGABlGfU-yVqNx3f3uiw8EcpoHTg
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 216ms (ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:28:18 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 49.3ms | GC: 2.5ms)
  Rendered layout layouts/application.html.erb (Duration: 51.1ms | GC: 2.5ms)
Completed 200 OK in 58ms (Views: 39.2ms | ActiveRecord: 14.4ms (11 queries, 0 cached) | GC: 2.7ms)


Started GET "/admin" for ::1 at 2025-08-24 18:28:28 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.3ms)


Started GET "/admin/login" for ::1 at 2025-08-24 18:28:28 +0300
Processing by AdminUsers::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 5.1ms | ActiveRecord: 1.6ms (1 query, 0 cached) | GC: 0.2ms)


Started POST "/admin/login" for ::1 at 2025-08-24 18:28:39 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'p.rusakevich@jetmail.cc' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: p.rusakevich@jetmail.cc
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Redirected to http://localhost:3000/admin
Completed 303 See Other in 213ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin" for ::1 at 2025-08-24 18:28:39 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 4.0ms | GC: 0.2ms)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.4ms)


Started GET "/admin/bonuses" for ::1 at 2025-08-24 18:28:41 +0300
Processing by Admin::BonusesController#index as HTML
  [1m[36mAdminUser Load (0.8ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 27.0ms | GC: 2.1ms)
Completed 200 OK in 33ms (Views: 27.7ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 2.1ms)


Started GET "/admin/admin_users" for ::1 at 2025-08-24 18:28:41 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 23.7ms | GC: 7.6ms)
Completed 200 OK in 29ms (Views: 24.2ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 7.9ms)


Started GET "/admin/users" for ::1 at 2025-08-24 18:28:43 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 26.4ms | GC: 6.6ms)
Completed 200 OK in 32ms (Views: 26.8ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 7.8ms)


Started DELETE "/users/sign_out" for ::1 at 2025-08-24 18:28:51 +0300
Processing by Users::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 9ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.3ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/bonuses" for ::1 at 2025-08-24 18:28:51 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 15.6ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | GC: 0.4ms)
Completed 200 OK in 23ms (Views: 15.9ms | ActiveRecord: 2.7ms (12 queries, 0 cached) | GC: 0.4ms)


Started GET "/admin/users/5/edit" for ::1 at 2025-08-24 18:28:54 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id" => "5"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='edit',application='BMS',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 14.7ms | GC: 0.5ms)
Completed 200 OK in 23ms (Views: 15.8ms | ActiveRecord: 1.0ms (3 queries, 1 cached) | GC: 0.5ms)


Started PATCH "/admin/users/5" for ::1 at 2025-08-24 18:29:01 +0300
Processing by Admin::UsersController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "first_name" => "Test", "last_name" => "User", "role" => "promo_manager", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Update User", "id" => "5"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:126:in 'Admin::UsersController#update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:126:in 'Admin::UsersController#update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:126:in 'Admin::UsersController#update'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 10.3ms | GC: 0.8ms)
Completed 200 OK in 226ms (Views: 10.7ms | ActiveRecord: 4.1ms (2 queries, 0 cached) | GC: 1.1ms)


Started PATCH "/admin/users/5" for ::1 at 2025-08-24 18:29:06 +0300
Processing by Admin::UsersController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "first_name" => "Test", "last_name" => "User", "role" => "promo_manager", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Update User", "id" => "5"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:126:in 'Admin::UsersController#update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:126:in 'Admin::UsersController#update'
  [1m[36mUser Update (2.2ms)[0m  [1m[33mUPDATE "users" SET "encrypted_password" = '$2a$12$5b2.UFv5sCv.fU9hvwblG.pzDSHGSyhP3n5OKOTaIqcp4suDAjapW', "updated_at" = '2025-08-24 15:29:06.895766' WHERE "users"."id" = 5 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:126:in 'Admin::UsersController#update'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:126:in 'Admin::UsersController#update'
Redirected to http://localhost:3000/admin/users/5
Completed 302 Found in 219ms (ActiveRecord: 3.9ms (3 queries, 0 cached) | GC: 0.6ms)


Started GET "/admin/users/5" for ::1 at 2025-08-24 18:29:06 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id" => "5"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 7.9ms | GC: 0.2ms)
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.2ms)


Started DELETE "/users/sign_out" for ::1 at 2025-08-24 18:29:11 +0300
Processing by Users::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mAdminUser Load (1.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
Redirected to http://localhost:3000/users/sign_in
Completed 303 See Other in 8ms (ActiveRecord: 1.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 18:29:11 +0300
Processing by Users::SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 18:29:19 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: test@example.com
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: zBatS7CgKU5Tz2JcjBAKvnyUjXAaYbteeKWWqzSQ1JHFUAPIuAm_DVqazK0F3EL4wWuiMICoppRyzWnOuW9rgg
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 209ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.1ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:29:19 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.4ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.0ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 0.1ms)
Completed 200 OK in 28ms (Views: 14.4ms | ActiveRecord: 2.8ms (11 queries, 0 cached) | GC: 0.3ms)


Started GET "/heatmap" for ::1 at 2025-08-24 18:29:21 +0300
Processing by HeatmapController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.1ms)
Completed 200 OK in 11ms (Views: 5.7ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.1ms)


Started GET "/heatmap" for ::1 at 2025-08-24 18:29:23 +0300
Processing by HeatmapController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.4ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.1ms)
Completed 200 OK in 11ms (Views: 4.9ms | ActiveRecord: 1.5ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/heatmap" for ::1 at 2025-08-24 18:29:28 +0300
Processing by HeatmapController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.1ms)
Completed 200 OK in 10ms (Views: 4.4ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.1ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:29:30 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 13.4ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | GC: 0.2ms)
Completed 200 OK in 19ms (Views: 13.6ms | ActiveRecord: 2.4ms (11 queries, 0 cached) | GC: 0.3ms)


Started DELETE "/users/sign_out" for ::1 at 2025-08-24 18:29:35 +0300
Processing by Users::SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 5 ORDER BY "users"."id" ASC LIMIT 1 /*action='destroy',application='BMS',controller='sessions'*/[0m
Redirected to http://localhost:3000/users/sign_in
Completed 303 See Other in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 18:29:35 +0300
Processing by Users::SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users/10/edit" for ::1 at 2025-08-24 18:29:42 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id" => "10"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for ::1 at 2025-08-24 18:29:42 +0300
Processing by AdminUsers::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/login" for ::1 at 2025-08-24 18:29:48 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'p.rusakevich@jetmail.cc' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: p.rusakevich@jetmail.cc
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Redirected to http://localhost:3000/admin
Completed 303 See Other in 210ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin" for ::1 at 2025-08-24 18:29:48 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin/users" for ::1 at 2025-08-24 18:29:50 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 19.5ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 19.5ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users/10/edit" for ::1 at 2025-08-24 18:29:59 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id" => "10"}
  [1m[36mAdminUser Load (0.8ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 10 LIMIT 1 /*action='edit',application='BMS',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 10 LIMIT 1[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 13.0ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 13.4ms | ActiveRecord: 1.0ms (3 queries, 1 cached) | GC: 0.0ms)


Started PATCH "/admin/users/10" for ::1 at 2025-08-24 18:30:04 +0300
Processing by Admin::UsersController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "first_name" => "Shift", "last_name" => "Leader", "role" => "shift_leader", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Update User", "id" => "10"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 10 LIMIT 1 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:126:in 'Admin::UsersController#update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:126:in 'Admin::UsersController#update'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "encrypted_password" = '$2a$12$OHt/vW9TR5zM8vUKbf2a4.erHFscM7D2eNk9JxbhpmAxY6ckgqLze', "updated_at" = '2025-08-24 15:30:04.885386' WHERE "users"."id" = 10 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:126:in 'Admin::UsersController#update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:126:in 'Admin::UsersController#update'
Redirected to http://localhost:3000/admin/users/10
Completed 302 Found in 214ms (ActiveRecord: 2.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users/10" for ::1 at 2025-08-24 18:30:04 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id" => "10"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 10 LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.5ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 18:30:10 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
devise (4.9.4) lib/devise/controllers/helpers.rb:257:in 'Devise::Controllers::Helpers#handle_unverified_request'
actionpack (8.0.2.1) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2.1) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2.1) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2.1) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2.1) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2.1) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2.1) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2.1) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2.1) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2.1) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:32:in 'block in <class:Constraints>'
actionpack (8.0.2.1) lib/action_dispatch/routing/mapper.rb:62:in 'ActionDispatch::Routing::Mapper::Constraints#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2.1) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2.1) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2.1) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
warden (1.2.9) lib/warden/manager.rb:36:in 'block in Warden::Manager#call'
warden (1.2.9) lib/warden/manager.rb:34:in 'Kernel#catch'
warden (1.2.9) lib/warden/manager.rb:34:in 'Warden::Manager#call'
rack (3.2.0) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.2.0) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.2.0) lib/rack/conditional_get.rb:44:in 'Rack::ConditionalGet#call'
rack (3.2.0) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2.1) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/users/sign_in" for ::1 at 2025-08-24 18:30:14 +0300
Processing by Users::SessionsController#new as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 2.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.8ms)


Started GET "/users/sign_in" for ::1 at 2025-08-24 18:30:15 +0300
Processing by Users::SessionsController#new as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.5ms)


Started POST "/users/sign_in" for ::1 at 2025-08-24 18:30:20 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: shift@bms.com
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'shift@bms.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: lWW0ecLeAHjTtoadieLgcjIso4sG7Xp7Ji6ayMDvozoerr_DXMyYOo8AexSIQt14yWHuequ1xwErVCig4xuIDg
Session token: 0EsnSEHAFhmG1sbPRuj5pQnyMWa-kumj_73KouNhFCY
Form authenticity token valid: false
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'shift@bms.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:14:in 'Users::SessionsController#create'
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 212ms (ActiveRecord: 2.1ms (3 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses" for ::1 at 2025-08-24 18:30:21 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 10 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.1ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | GC: 0.9ms)
Completed 200 OK in 23ms (Views: 15.2ms | ActiveRecord: 2.3ms (12 queries, 0 cached) | GC: 2.1ms)


Started GET "/marketing" for ::1 at 2025-08-24 18:30:26 +0300
Processing by MarketingController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 10 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.5ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 12.8ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | GC: 1.0ms)
Completed 200 OK in 30ms (Views: 14.7ms | ActiveRecord: 4.9ms (13 queries, 1 cached) | GC: 1.6ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-24 18:30:27 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 10 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 5.7ms | ActiveRecord: 2.7ms (11 queries, 1 cached) | GC: 0.9ms)


Started GET "/marketing" for ::1 at 2025-08-24 18:32:36 +0300
Processing by MarketingController#index as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:12:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 10 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:33:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:72
  [1m[36mMarketingRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:81
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:101
  [1m[36mMarketingRequest Load (0.5ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '215512' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 12.7ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | GC: 0.7ms)
Completed 200 OK in 50ms (Views: 16.0ms | ActiveRecord: 9.3ms (13 queries, 1 cached) | GC: 1.8ms)


  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:31:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:34:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:34:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:34:in 'block (2 levels) in <main>'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('admin@test.com', '$2a$12$FzmDdhsmxYT1vaNzrq7GWu6JLb542sVKvY77y6i6NIDa26P6L.kIO', NULL, NULL, NULL, '2025-08-25 21:57:02.241009', '2025-08-25 21:57:02.241009', 0, 'Test', 'Admin') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:34:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:34:in 'block (2 levels) in <main>'
Started GET "/" for 127.0.0.1 at 2025-08-28 22:05:43 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by HomeController#index as */*
Completed 401 Unauthorized in 13ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 6.8ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-08-28 22:05:44 +0300
Processing by Users::SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 145.7ms | GC: 0.4ms)
Completed 200 OK in 185ms (Views: 152.0ms | ActiveRecord: 14.8ms (0 queries, 0 cached) | GC: 2.9ms)


Started GET "/" for 127.0.0.1 at 2025-08-28 22:05:44 +0300
Processing by HomeController#index as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-08-28 22:05:44 +0300
Processing by Users::SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:05:45 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:05:45 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 4.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:05:45 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:05:45 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (6.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: YVeQm2ctv4dvK7GY86fP4oGCdIeixZyvN_0XMcWdcApNAsyOOTjDGf8qh7YGnqDjKbS6breo_j4vMyej09MmIw
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 278ms (ActiveRecord: 6.4ms (2 queries, 0 cached) | GC: 25.5ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:05:46 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (5.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (1.4ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (1.0ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (1.6ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (2.5ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (1.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (1.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (1.4ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 96.1ms | GC: 2.5ms)
  Rendered layout layouts/application.html.erb (Duration: 99.5ms | GC: 2.6ms)
Completed 200 OK in 115ms (Views: 70.4ms | ActiveRecord: 37.5ms (11 queries, 0 cached) | GC: 3.5ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:05:46 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.7ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.5ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 16.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 20.0ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 1.9ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:05:47 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:05:47 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:05:47 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:05:47 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: CmoT71VWaT-7-c4oXFQnUlbgVAWr87ZQ0q3KBCexQOcm_gG3nhhZtOJlEhLn8hwDepgV-jBjuZ_A2xdYfVtcEQ
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 228ms (ActiveRecord: 1.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:05:47 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.5ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.4ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 24.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 27.2ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 25.3ms | ActiveRecord: 3.1ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:05:48 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.8ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 7.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 11.7ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:05:49 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:05:49 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:05:49 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:05:49 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: qxZ7x-gso5SuqzZIMYMknWUqzJqcL7G0eJPkdO12d2RLNDHR4b7XCMb1ZZOj5tJHpgqSQQ91CV9ILJR5w_HtQA
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 232ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:05:49 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 20.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 22.0ms | ActiveRecord: 2.8ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:05:49 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-08-28 22:06:19 +0300
Processing by HomeController#index as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-08-28 22:06:19 +0300
Processing by Users::SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-08-28 22:06:19 +0300
Processing by HomeController#index as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-08-28 22:06:19 +0300
Processing by Users::SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:06:20 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:06:20 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:06:20 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:06:20 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: cFaXEsM2hepJkPiNjTbs1OCRT5ligITD2VM34_Alj1b6WLKw409LYKCsprywM53mYTtNmV-cVZtCN4yQEFwU_g
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 228ms (ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:06:21 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.7ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 25.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.8ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 26.7ms | ActiveRecord: 4.5ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:06:21 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 7.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 12.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/find_template?dsl_tag=test_freespin&name=Test%20Freespin%20Bonus&project=VOLNA" for ::1 at 2025-08-28 22:06:21 +0300
Processing by BonusesController#find_template as */*
  Parameters: {"dsl_tag" => "test_freespin", "name" => "Test Freespin Bonus", "project" => "VOLNA"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Load (4.1ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_freespin' AND "bonus_templates"."name" = 'Test Freespin Bonus' AND "bonus_templates"."project" = 'VOLNA' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:47:in 'BonusTemplate.find_template_by_dsl_and_name'
  [1m[36mBonusTemplate Load (1.9ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_freespin' AND "bonus_templates"."name" = 'Test Freespin Bonus' AND "bonus_templates"."project" = 'All' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:52:in 'BonusTemplate.find_template_by_dsl_and_name'
Completed 404 Not Found in 34ms (Views: 0.2ms | ActiveRecord: 9.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:06:51 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:06:51 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:06:51 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:06:52 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: vqG0SLx_6IWOCVgfey9vz7ECNZTxuA-G3ycnsdOFsimOt5XwoWnDQZia5kOzi73TJxXCFHD1DL2oJZWPqM2ncA
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 216ms (ActiveRecord: 1.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:06:52 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 22.7ms | ActiveRecord: 3.1ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:06:52 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/find_template?dsl_tag=test_multiple_freespins&name=Test%20Multiple%20Freespins%20Bonus&project=VOLNA" for ::1 at 2025-08-28 22:06:53 +0300
Processing by BonusesController#find_template as */*
  Parameters: {"dsl_tag" => "test_multiple_freespins", "name" => "Test Multiple Freespins Bonus", "project" => "VOLNA"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Load (0.5ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_multiple_freespins' AND "bonus_templates"."name" = 'Test Multiple Freespins Bonus' AND "bonus_templates"."project" = 'VOLNA' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:47:in 'BonusTemplate.find_template_by_dsl_and_name'
  [1m[36mBonusTemplate Load (1.3ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_multiple_freespins' AND "bonus_templates"."name" = 'Test Multiple Freespins Bonus' AND "bonus_templates"."project" = 'All' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:52:in 'BonusTemplate.find_template_by_dsl_and_name'
Completed 404 Not Found in 8ms (Views: 0.1ms | ActiveRecord: 2.3ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-28 22:07:10 +0300
Processing by HomeController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:07:10 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:07:10 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:07:18 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: p.rusakevich@jetmail.cc
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: u2xmoN7fSlNabGHLspIxSbwN83OsmzQ2bSqUqPIIdy6k6qws0mrLRx0Kt7y-tHqWIA9lk-eERcfA_jFRYVMeSA
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 221ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:07:18 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (1.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 47.0ms | GC: 23.3ms)
  Rendered layout layouts/application.html.erb (Duration: 50.9ms | GC: 23.8ms)
Completed 200 OK in 56ms (Views: 48.4ms | ActiveRecord: 3.6ms (11 queries, 0 cached) | GC: 23.8ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:07:23 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:07:23 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:07:23 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:07:23 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: Wq7Z76VRA2-c2OfiO24rd2jvTCjup0Mns9s6g0K7y83Ubl0l5LiC2q7e8ts3es94ASJozkXeK66syv74xELq1w
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 223ms (ActiveRecord: 5.0ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:07:23 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.6ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (2.4ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.4ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 26.8ms | GC: 2.3ms)
  Rendered layout layouts/application.html.erb (Duration: 30.6ms | GC: 3.0ms)
Completed 200 OK in 35ms (Views: 26.0ms | ActiveRecord: 5.7ms (11 queries, 0 cached) | GC: 3.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:07:24 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.5ms | GC: 0.4ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 8.1ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | GC: 1.1ms)
Completed 200 OK in 18ms (Views: 14.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 1.5ms)


Started GET "/bonuses/find_template?dsl_tag=test_mixed_freespins&name=Test%20Mixed%20Freespins%20Bonus&project=VOLNA" for ::1 at 2025-08-28 22:07:24 +0300
Processing by BonusesController#find_template as */*
  Parameters: {"dsl_tag" => "test_mixed_freespins", "name" => "Test Mixed Freespins Bonus", "project" => "VOLNA"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Load (0.3ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_mixed_freespins' AND "bonus_templates"."name" = 'Test Mixed Freespins Bonus' AND "bonus_templates"."project" = 'VOLNA' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:47:in 'BonusTemplate.find_template_by_dsl_and_name'
  [1m[36mBonusTemplate Load (0.3ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_mixed_freespins' AND "bonus_templates"."name" = 'Test Mixed Freespins Bonus' AND "bonus_templates"."project" = 'All' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:52:in 'BonusTemplate.find_template_by_dsl_and_name'
Completed 404 Not Found in 6ms (Views: 0.2ms | ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/" for 127.0.0.1 at 2025-08-28 22:08:43 +0300
Processing by HomeController#index as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-08-28 22:08:43 +0300
Processing by Users::SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.5ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)


Started GET "/" for 127.0.0.1 at 2025-08-28 22:08:43 +0300
Processing by HomeController#index as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-08-28 22:08:43 +0300
Processing by Users::SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.5ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:08:44 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:08:44 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.4ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:08:44 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:08:44 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: jR4NTEmXHCGuFCt4izk0mwy1mhRKWm-4M8Uk_bQMi9N5jVVz9L2ubkpxEQXX4B_BMXiildMhOOTU0DdATsSrmw
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 246ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:08:45 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.4ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.8ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 23.1ms | GC: 1.6ms)
Completed 200 OK in 29ms (Views: 21.3ms | ActiveRecord: 3.2ms (11 queries, 0 cached) | GC: 1.6ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:08:45 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.4ms | GC: 0.3ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 8.2ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | GC: 0.7ms)
Completed 200 OK in 18ms (Views: 12.3ms | ActiveRecord: 2.0ms (1 query, 0 cached) | GC: 0.7ms)


Started GET "/bonuses/find_template?dsl_tag=test_freespin&name=Test%20Freespin%20Bonus&project=VOLNA" for ::1 at 2025-08-28 22:08:46 +0300
Processing by BonusesController#find_template as */*
  Parameters: {"dsl_tag" => "test_freespin", "name" => "Test Freespin Bonus", "project" => "VOLNA"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Load (0.3ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_freespin' AND "bonus_templates"."name" = 'Test Freespin Bonus' AND "bonus_templates"."project" = 'VOLNA' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:47:in 'BonusTemplate.find_template_by_dsl_and_name'
  [1m[36mBonusTemplate Load (0.3ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_freespin' AND "bonus_templates"."name" = 'Test Freespin Bonus' AND "bonus_templates"."project" = 'All' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:52:in 'BonusTemplate.find_template_by_dsl_and_name'
Completed 404 Not Found in 10ms (Views: 0.2ms | ActiveRecord: 1.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:09:15 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:09:15 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:09:15 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:09:15 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: F2w0Nty-ViUncjN4YPqao_AGKZY85i331p5Xth40WKX_4LZ5p6Bo6TvcZhuEVKa58HaK6xA3uQJGG5omZxAFGw
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 223ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:09:15 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.9ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 27.4ms | GC: 1.1ms)
Completed 200 OK in 31ms (Views: 25.6ms | ActiveRecord: 2.7ms (11 queries, 0 cached) | GC: 1.1ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:09:16 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.2ms | GC: 0.2ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.0ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 0.4ms)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.4ms)


Started GET "/bonuses/find_template?dsl_tag=test_multiple_freespins&name=Test%20Multiple%20Freespins%20Bonus&project=VOLNA" for ::1 at 2025-08-28 22:09:16 +0300
Processing by BonusesController#find_template as */*
  Parameters: {"dsl_tag" => "test_multiple_freespins", "name" => "Test Multiple Freespins Bonus", "project" => "VOLNA"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Load (0.3ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_multiple_freespins' AND "bonus_templates"."name" = 'Test Multiple Freespins Bonus' AND "bonus_templates"."project" = 'VOLNA' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:47:in 'BonusTemplate.find_template_by_dsl_and_name'
  [1m[36mBonusTemplate Load (2.9ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_multiple_freespins' AND "bonus_templates"."name" = 'Test Multiple Freespins Bonus' AND "bonus_templates"."project" = 'All' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:52:in 'BonusTemplate.find_template_by_dsl_and_name'
Completed 404 Not Found in 10ms (Views: 0.2ms | ActiveRecord: 3.6ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:09:46 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:09:46 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 1.7ms)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.7ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:09:46 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:09:46 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: HQoXMRHQfZFOFZmy7Gn1s7cDZlmxKsMcdae5mK7N88thCtRu2VSMlQOutK2TaCMqDvl5A5R0hcua9RLfJcfZOQ
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 230ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 3.1ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:09:46 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (1.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 39.1ms | GC: 14.8ms)
  Rendered layout layouts/application.html.erb (Duration: 44.8ms | GC: 16.6ms)
Completed 200 OK in 51ms (Views: 42.1ms | ActiveRecord: 3.8ms (11 queries, 0 cached) | GC: 18.4ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:09:46 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 2.7ms | GC: 1.4ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 9.9ms | GC: 2.9ms)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | GC: 3.4ms)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 3.5ms)


Started GET "/bonuses/find_template?dsl_tag=test_mixed_freespins&name=Test%20Mixed%20Freespins%20Bonus&project=VOLNA" for ::1 at 2025-08-28 22:09:47 +0300
Processing by BonusesController#find_template as */*
  Parameters: {"dsl_tag" => "test_mixed_freespins", "name" => "Test Mixed Freespins Bonus", "project" => "VOLNA"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Load (0.4ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_mixed_freespins' AND "bonus_templates"."name" = 'Test Mixed Freespins Bonus' AND "bonus_templates"."project" = 'VOLNA' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:47:in 'BonusTemplate.find_template_by_dsl_and_name'
  [1m[36mBonusTemplate Load (0.2ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_mixed_freespins' AND "bonus_templates"."name" = 'Test Mixed Freespins Bonus' AND "bonus_templates"."project" = 'All' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:52:in 'BonusTemplate.find_template_by_dsl_and_name'
Completed 404 Not Found in 7ms (Views: 0.1ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/" for 127.0.0.1 at 2025-08-28 22:12:02 +0300
Processing by HomeController#index as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-08-28 22:12:02 +0300
Processing by Users::SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 1.9ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.0ms)


Started GET "/" for 127.0.0.1 at 2025-08-28 22:12:02 +0300
Processing by HomeController#index as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-08-28 22:12:02 +0300
Processing by Users::SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 1.8ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.1ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:12:03 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:12:03 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.6ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:12:03 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:12:03 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: 7YTG71Jit3gExkJ1uYNwaEzCR2RQyuwboBx26cpw2aBqgC8yQrRJB0pswot8kFYT_H2Ag8LAFOVvB37R9hdrxA
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 231ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:12:03 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.7ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.4ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.5ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | GC: 2.1ms)
Completed 200 OK in 32ms (Views: 23.4ms | ActiveRecord: 4.0ms (11 queries, 0 cached) | GC: 2.1ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:12:04 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.9ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | GC: 0.7ms)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 1.2ms)


Started GET "/bonuses/find_template?dsl_tag=test_freespin&name=Test%20Freespin%20Bonus&project=VOLNA" for ::1 at 2025-08-28 22:12:04 +0300
Processing by BonusesController#find_template as */*
  Parameters: {"dsl_tag" => "test_freespin", "name" => "Test Freespin Bonus", "project" => "VOLNA"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Load (0.3ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_freespin' AND "bonus_templates"."name" = 'Test Freespin Bonus' AND "bonus_templates"."project" = 'VOLNA' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:47:in 'BonusTemplate.find_template_by_dsl_and_name'
  [1m[36mBonusTemplate Load (3.3ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_freespin' AND "bonus_templates"."name" = 'Test Freespin Bonus' AND "bonus_templates"."project" = 'All' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:52:in 'BonusTemplate.find_template_by_dsl_and_name'
Completed 404 Not Found in 12ms (Views: 0.2ms | ActiveRecord: 4.4ms (3 queries, 0 cached) | GC: 0.4ms)


Started POST "/bonuses" for ::1 at 2025-08-28 22:12:10 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Freespin Bonus", "code" => "FREESPIN100", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_freespin", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "50", "USD" => "50"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "1000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:12", "availability_end_date" => "2025-09-27T19:12"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
CREATE METHOD CALLED with params: #<ActionController::Parameters {"authenticity_token" => "_24WuMGUzqQbxJQz5vRvQjRyP_-3RpFu5n2TP1pXitheZFqkJSu02xWxvUJLW3FUvtmL5kkfVQjrCtBWwj5NUQ", "bonus" => {"name" => "Test Freespin Bonus", "code" => "FREESPIN100", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_freespin", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "50", "USD" => "50"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "1000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:12", "availability_end_date" => "2025-09-27T19:12"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} permitted: false>
[31mUnpermitted parameters: :groups, :minimum_deposit. Context: { controller: BonusesController, action: create, request: #<ActionDispatch::Request:0x000073260c01c638>, params: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Freespin Bonus", "code" => "FREESPIN100", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_freespin", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "50", "USD" => "50"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "1000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:12", "availability_end_date" => "2025-09-27T19:12"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} }[0m
[31mUnpermitted parameters: :groups, :minimum_deposit. Context: { controller: BonusesController, action: create, request: #<ActionDispatch::Request:0x000073260c01c638>, params: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Freespin Bonus", "code" => "FREESPIN100", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_freespin", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "50", "USD" => "50"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "1000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:12", "availability_end_date" => "2025-09-27T19:12"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} }[0m
Bonus created with params: #<ActionController::Parameters {"name" => "Test Freespin Bonus", "code" => "FREESPIN100", "event" => "deposit", "status" => "draft", "wager" => "", "maximum_winnings" => "1000", "maximum_winnings_type" => "fixed", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:12", "availability_end_date" => "2025-09-27T19:12", "project" => "VOLNA", "dsl_tag" => "test_freespin", "no_more" => "", "totally_no_more" => "", "description" => "", "currencies" => ["EUR", "USD"], "currency_minimum_deposits" => #<ActionController::Parameters {"EUR" => "50", "USD" => "50"} permitted: true>} permitted: true>
Bonus valid: true
Bonus errors: []
[31mUnpermitted parameter: :currency_freespin_bet_levels. Context: { controller: BonusesController, action: create, request: #<ActionDispatch::Request:0x000073260c01c638>, params: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Freespin Bonus", "code" => "FREESPIN100", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_freespin", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "50", "USD" => "50"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "1000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:12", "availability_end_date" => "2025-09-27T19:12"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} }[0m
Freespin reward params: #<ActionController::Parameters {"spins_count" => "100", "games" => ["slots"], "bet_level" => "0.1", "stag" => "", "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""} permitted: true>
Checking spins_count: 100 (type: String)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:145:in 'block in BonusesController#create'
  [1m[36mBonus Create (4.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Test Freespin Bonus', 'FREESPIN100', 'draft', NULL, NULL, 1000.0, '', '2025-08-28 19:12:00', '2025-09-27 19:12:00', NULL, NULL, NULL, 15, NULL, '2025-08-28 19:12:10.170173', '2025-08-28 19:12:10.170173', 'VOLNA', 'test_freespin', 'deposit', '["EUR","USD"]', NULL, '', NULL, '{"EUR":50.0,"USD":50.0}', '', 'fixed') RETURNING "id" /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:145:in 'block in BonusesController#create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:145:in 'block in BonusesController#create'
Creating multiple freespin rewards with params: [#<ActionController::Parameters {"spins_count" => "100", "games" => ["slots"], "bet_level" => "0.1", "stag" => "", "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => "", "currency_freespin_bet_levels" => #<ActionController::Parameters {"EUR" => "0.1", "USD" => "0.1"} permitted: true>} permitted: true>]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mFreespinReward Create (5.9ms)[0m  [1m[32mINSERT INTO "freespin_rewards" ("bonus_id", "spins_count", "game_restrictions", "config", "created_at", "updated_at", "games", "bet_level", "code", "stag", "max_win_value", "max_win_type", "available") VALUES (13, 100, NULL, '{"currency_freespin_bet_levels":{"EUR":"0.1","USD":"0.1"}}', '2025-08-28 19:12:10.207368', '2025-08-28 19:12:10.207368', '---
- slots
', 0.1, NULL, NULL, NULL, 'fixed', NULL) RETURNING "id" /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
Redirected to http://localhost:3000/bonuses/13
Completed 302 Found in 70ms (ActiveRecord: 15.9ms (3 queries, 0 cached) | GC: 3.1ms)


Started GET "/bonuses/13" for ::1 at 2025-08-28 22:12:10 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "13"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 13 LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:1277:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.6ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 13 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.4ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 13 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 13 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 13 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (2.5ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 13 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.4ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 13 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mCompPointReward Load (1.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 13 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 23.1ms | GC: 0.8ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 30.0ms | GC: 2.3ms)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | GC: 2.3ms)
Completed 200 OK in 41ms (Views: 28.9ms | ActiveRecord: 6.7ms (9 queries, 0 cached) | GC: 2.3ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:12:11 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:12:11 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:12:11 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:12:11 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: I20iAY-dnnOe4KVwOp0Bm2RYWLxKfg-UXDtuPw7C3YbFKjtEa2WTmM1jYAsY2H_wJNSC60_p5kAJXJzwcEbDcw
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 243ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:12:11 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.2ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 25.4ms | GC: 0.9ms)
Completed 200 OK in 31ms (Views: 23.7ms | ActiveRecord: 2.8ms (11 queries, 0 cached) | GC: 0.9ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:12:11 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 2.2ms | GC: 0.4ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 9.5ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | GC: 1.1ms)
Completed 200 OK in 19ms (Views: 15.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.1ms)


Started GET "/bonuses/find_template?dsl_tag=test_multiple_freespins&name=Test%20Multiple%20Freespins%20Bonus&project=VOLNA" for ::1 at 2025-08-28 22:12:12 +0300
Processing by BonusesController#find_template as */*
  Parameters: {"dsl_tag" => "test_multiple_freespins", "name" => "Test Multiple Freespins Bonus", "project" => "VOLNA"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Load (0.5ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_multiple_freespins' AND "bonus_templates"."name" = 'Test Multiple Freespins Bonus' AND "bonus_templates"."project" = 'VOLNA' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:47:in 'BonusTemplate.find_template_by_dsl_and_name'
  [1m[36mBonusTemplate Load (0.5ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_multiple_freespins' AND "bonus_templates"."name" = 'Test Multiple Freespins Bonus' AND "bonus_templates"."project" = 'All' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:52:in 'BonusTemplate.find_template_by_dsl_and_name'
Completed 404 Not Found in 13ms (Views: 0.2ms | ActiveRecord: 2.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/bonuses" for ::1 at 2025-08-28 22:12:19 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Multiple Freespins Bonus", "code" => "MULTIFREE", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_multiple_freespins", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "100", "USD" => "100"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "2000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:12", "availability_end_date" => "2025-09-27T19:12"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "50", "bet_level" => "0.05", "currency_freespin_bet_levels" => {"EUR" => "0.05", "USD" => "0.05"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}, "1" => {"games" => "table_games", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
CREATE METHOD CALLED with params: #<ActionController::Parameters {"authenticity_token" => "eKsPE56pwDPtwuB2jyFtt1yN45iTUo6ADoTuFH2JCKTJBzJZ_cxlls6mW18XeRVyI-iBcm6y-ZELsl9eCGGm8g", "bonus" => {"name" => "Test Multiple Freespins Bonus", "code" => "MULTIFREE", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_multiple_freespins", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "100", "USD" => "100"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "2000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:12", "availability_end_date" => "2025-09-27T19:12"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "50", "bet_level" => "0.05", "currency_freespin_bet_levels" => {"EUR" => "0.05", "USD" => "0.05"}, "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}, "1" => {"games" => "table_games", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} permitted: false>
[31mUnpermitted parameters: :groups, :minimum_deposit. Context: { controller: BonusesController, action: create, request: #<ActionDispatch::Request:0x000073260c0642f8>, params: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Multiple Freespins Bonus", "code" => "MULTIFREE", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_multiple_freespins", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "100", "USD" => "100"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "2000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:12", "availability_end_date" => "2025-09-27T19:12"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "50", "bet_level" => "0.05", "currency_freespin_bet_levels" => {"EUR" => "0.05", "USD" => "0.05"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}, "1" => {"games" => "table_games", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} }[0m
[31mUnpermitted parameters: :groups, :minimum_deposit. Context: { controller: BonusesController, action: create, request: #<ActionDispatch::Request:0x000073260c0642f8>, params: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Multiple Freespins Bonus", "code" => "MULTIFREE", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_multiple_freespins", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "100", "USD" => "100"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "2000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:12", "availability_end_date" => "2025-09-27T19:12"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "50", "bet_level" => "0.05", "currency_freespin_bet_levels" => {"EUR" => "0.05", "USD" => "0.05"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}, "1" => {"games" => "table_games", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} }[0m
Bonus created with params: #<ActionController::Parameters {"name" => "Test Multiple Freespins Bonus", "code" => "MULTIFREE", "event" => "deposit", "status" => "draft", "wager" => "", "maximum_winnings" => "2000", "maximum_winnings_type" => "fixed", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:12", "availability_end_date" => "2025-09-27T19:12", "project" => "VOLNA", "dsl_tag" => "test_multiple_freespins", "no_more" => "", "totally_no_more" => "", "description" => "", "currencies" => ["EUR", "USD"], "currency_minimum_deposits" => #<ActionController::Parameters {"EUR" => "100", "USD" => "100"} permitted: true>} permitted: true>
Bonus valid: true
Bonus errors: []
[31mUnpermitted parameter: :currency_freespin_bet_levels. Context: { controller: BonusesController, action: create, request: #<ActionDispatch::Request:0x000073260c0642f8>, params: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Multiple Freespins Bonus", "code" => "MULTIFREE", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_multiple_freespins", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "100", "USD" => "100"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "2000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:12", "availability_end_date" => "2025-09-27T19:12"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "50", "bet_level" => "0.05", "currency_freespin_bet_levels" => {"EUR" => "0.05", "USD" => "0.05"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}, "1" => {"games" => "table_games", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} }[0m
Freespin reward params: #<ActionController::Parameters {"spins_count" => "50", "games" => ["slots"], "bet_level" => "0.05", "stag" => "", "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""} permitted: true>
Checking spins_count: 50 (type: String)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:145:in 'block in BonusesController#create'
  [1m[36mBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Test Multiple Freespins Bonus', 'MULTIFREE', 'draft', NULL, NULL, 2000.0, '', '2025-08-28 19:12:00', '2025-09-27 19:12:00', NULL, NULL, NULL, 15, NULL, '2025-08-28 19:12:19.019959', '2025-08-28 19:12:19.019959', 'VOLNA', 'test_multiple_freespins', 'deposit', '["EUR","USD"]', NULL, '', NULL, '{"EUR":100.0,"USD":100.0}', '', 'fixed') RETURNING "id" /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:145:in 'block in BonusesController#create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:145:in 'block in BonusesController#create'
Creating multiple freespin rewards with params: [#<ActionController::Parameters {"spins_count" => "50", "games" => ["slots"], "bet_level" => "0.05", "stag" => "", "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => "", "currency_freespin_bet_levels" => #<ActionController::Parameters {"EUR" => "0.05", "USD" => "0.05"} permitted: true>} permitted: true>, #<ActionController::Parameters {"spins_count" => "100", "games" => ["table_games"], "bet_level" => "0.1", "stag" => "", "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => "", "currency_freespin_bet_levels" => #<ActionController::Parameters {"EUR" => "0.1", "USD" => "0.1"} permitted: true>} permitted: true>]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mFreespinReward Create (1.7ms)[0m  [1m[32mINSERT INTO "freespin_rewards" ("bonus_id", "spins_count", "game_restrictions", "config", "created_at", "updated_at", "games", "bet_level", "code", "stag", "max_win_value", "max_win_type", "available") VALUES (14, 50, NULL, '{"currency_freespin_bet_levels":{"EUR":"0.05","USD":"0.05"}}', '2025-08-28 19:12:19.026187', '2025-08-28 19:12:19.026187', '---
- slots
', 0.05, NULL, NULL, NULL, 'fixed', NULL) RETURNING "id" /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mFreespinReward Create (2.2ms)[0m  [1m[32mINSERT INTO "freespin_rewards" ("bonus_id", "spins_count", "game_restrictions", "config", "created_at", "updated_at", "games", "bet_level", "code", "stag", "max_win_value", "max_win_type", "available") VALUES (14, 100, NULL, '{"currency_freespin_bet_levels":{"EUR":"0.1","USD":"0.1"}}', '2025-08-28 19:12:19.031617', '2025-08-28 19:12:19.031617', '---
- table_games
', 0.1, NULL, NULL, NULL, 'fixed', NULL) RETURNING "id" /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
Redirected to http://localhost:3000/bonuses/14
Completed 302 Found in 25ms (ActiveRecord: 11.3ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses/14" for ::1 at 2025-08-28 22:12:19 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "14"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 14 LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:1277:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 14 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 14 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 14 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mFreechipReward Load (1.0ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 14 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.5ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 14 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 14 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 14 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 12.7ms | GC: 1.7ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 14.3ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | GC: 1.7ms)
Completed 200 OK in 23ms (Views: 15.7ms | ActiveRecord: 4.0ms (9 queries, 0 cached) | GC: 1.8ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:12:19 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:12:19 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:12:20 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:12:20 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: TZjSFK9SnjeQGgFRvjBbOZAlbwLUkk33fzTHroqbrVEjz0ZPbtP_auTQRs8HEGgXgSSUdY-9kNSswh-xqK7VVw
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 231ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:12:20 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.4ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (1.8ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 22.3ms | ActiveRecord: 4.9ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:12:20 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 5.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/find_template?dsl_tag=test_mixed_freespins&name=Test%20Mixed%20Freespins%20Bonus&project=VOLNA" for ::1 at 2025-08-28 22:12:21 +0300
Processing by BonusesController#find_template as */*
  Parameters: {"dsl_tag" => "test_mixed_freespins", "name" => "Test Mixed Freespins Bonus", "project" => "VOLNA"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Load (2.4ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_mixed_freespins' AND "bonus_templates"."name" = 'Test Mixed Freespins Bonus' AND "bonus_templates"."project" = 'VOLNA' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:47:in 'BonusTemplate.find_template_by_dsl_and_name'
  [1m[36mBonusTemplate Load (1.1ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_mixed_freespins' AND "bonus_templates"."name" = 'Test Mixed Freespins Bonus' AND "bonus_templates"."project" = 'All' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:52:in 'BonusTemplate.find_template_by_dsl_and_name'
Completed 404 Not Found in 12ms (Views: 0.4ms | ActiveRecord: 3.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-08-28 22:13:30 +0300
Processing by HomeController#index as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-08-28 22:13:30 +0300
Processing by Users::SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-08-28 22:13:30 +0300
Processing by HomeController#index as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2025-08-28 22:13:30 +0300
Processing by Users::SessionsController#new as */*
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:13:31 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:13:31 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:13:31 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:13:32 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: B7nM18qH2xSL9qqZ5WUOPTJC9xvVuzmwlsW-NZJuL4f-5jLwUeDcg0I847n1xS6rlZLmC_t27ba1dc1uwWl2mw
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 239ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:13:32 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.4ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.9ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 30.8ms | GC: 8.6ms)
  Rendered layout layouts/application.html.erb (Duration: 34.2ms | GC: 9.1ms)
Completed 200 OK in 38ms (Views: 31.6ms | ActiveRecord: 3.4ms (11 queries, 0 cached) | GC: 9.1ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:13:32 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.6ms | GC: 0.4ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.5ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | GC: 0.9ms)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 1.4ms)


Started GET "/bonuses/find_template?dsl_tag=test_freespin&name=Test%20Freespin%20Bonus&project=VOLNA" for ::1 at 2025-08-28 22:13:33 +0300
Processing by BonusesController#find_template as */*
  Parameters: {"dsl_tag" => "test_freespin", "name" => "Test Freespin Bonus", "project" => "VOLNA"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Load (0.7ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_freespin' AND "bonus_templates"."name" = 'Test Freespin Bonus' AND "bonus_templates"."project" = 'VOLNA' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:47:in 'BonusTemplate.find_template_by_dsl_and_name'
  [1m[36mBonusTemplate Load (0.3ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_freespin' AND "bonus_templates"."name" = 'Test Freespin Bonus' AND "bonus_templates"."project" = 'All' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:52:in 'BonusTemplate.find_template_by_dsl_and_name'
Completed 404 Not Found in 10ms (Views: 0.2ms | ActiveRecord: 1.3ms (3 queries, 0 cached) | GC: 0.6ms)


Started POST "/bonuses" for ::1 at 2025-08-28 22:13:38 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Freespin Bonus", "code" => "FREESPIN100", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_freespin", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "50", "USD" => "50"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "1000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:13", "availability_end_date" => "2025-09-27T19:13"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
CREATE METHOD CALLED with params: #<ActionController::Parameters {"authenticity_token" => "VZu4BUk_PTWE6Fm0yI92fnNcw5Ma5ub_uwMdByLYq7I55mGHb8X7egfkJPCk642DZF_DcpRmtn-mRPpDHg2Grg", "bonus" => {"name" => "Test Freespin Bonus", "code" => "FREESPIN100", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_freespin", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "50", "USD" => "50"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "1000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:13", "availability_end_date" => "2025-09-27T19:13"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} permitted: false>
[31mUnpermitted parameters: :groups, :minimum_deposit. Context: { controller: BonusesController, action: create, request: #<ActionDispatch::Request:0x000073260c689ed0>, params: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Freespin Bonus", "code" => "FREESPIN100", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_freespin", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "50", "USD" => "50"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "1000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:13", "availability_end_date" => "2025-09-27T19:13"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} }[0m
[31mUnpermitted parameters: :groups, :minimum_deposit. Context: { controller: BonusesController, action: create, request: #<ActionDispatch::Request:0x000073260c689ed0>, params: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Freespin Bonus", "code" => "FREESPIN100", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_freespin", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "50", "USD" => "50"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "1000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:13", "availability_end_date" => "2025-09-27T19:13"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} }[0m
Bonus created with params: #<ActionController::Parameters {"name" => "Test Freespin Bonus", "code" => "FREESPIN100", "event" => "deposit", "status" => "draft", "wager" => "", "maximum_winnings" => "1000", "maximum_winnings_type" => "fixed", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:13", "availability_end_date" => "2025-09-27T19:13", "project" => "VOLNA", "dsl_tag" => "test_freespin", "no_more" => "", "totally_no_more" => "", "description" => "", "currencies" => ["EUR", "USD"], "currency_minimum_deposits" => #<ActionController::Parameters {"EUR" => "50", "USD" => "50"} permitted: true>} permitted: true>
Bonus valid: true
Bonus errors: []
[31mUnpermitted parameter: :currency_freespin_bet_levels. Context: { controller: BonusesController, action: create, request: #<ActionDispatch::Request:0x000073260c689ed0>, params: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Freespin Bonus", "code" => "FREESPIN100", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_freespin", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "50", "USD" => "50"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "1000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:13", "availability_end_date" => "2025-09-27T19:13"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} }[0m
Freespin reward params: #<ActionController::Parameters {"spins_count" => "100", "games" => ["slots"], "bet_level" => "0.1", "stag" => "", "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""} permitted: true>
Checking spins_count: 100 (type: String)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:145:in 'block in BonusesController#create'
  [1m[36mBonus Create (2.9ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Test Freespin Bonus', 'FREESPIN100', 'draft', NULL, NULL, 1000.0, '', '2025-08-28 19:13:00', '2025-09-27 19:13:00', NULL, NULL, NULL, 15, NULL, '2025-08-28 19:13:38.451658', '2025-08-28 19:13:38.451658', 'VOLNA', 'test_freespin', 'deposit', '["EUR","USD"]', NULL, '', NULL, '{"EUR":50.0,"USD":50.0}', '', 'fixed') RETURNING "id" /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:145:in 'block in BonusesController#create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:145:in 'block in BonusesController#create'
Creating multiple freespin rewards with params: [#<ActionController::Parameters {"spins_count" => "100", "games" => ["slots"], "bet_level" => "0.1", "stag" => "", "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => "", "currency_freespin_bet_levels" => #<ActionController::Parameters {"EUR" => "0.1", "USD" => "0.1"} permitted: true>} permitted: true>]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mFreespinReward Create (1.3ms)[0m  [1m[32mINSERT INTO "freespin_rewards" ("bonus_id", "spins_count", "game_restrictions", "config", "created_at", "updated_at", "games", "bet_level", "code", "stag", "max_win_value", "max_win_type", "available") VALUES (15, 100, NULL, '{"currency_freespin_bet_levels":{"EUR":"0.1","USD":"0.1"}}', '2025-08-28 19:13:38.464183', '2025-08-28 19:13:38.464183', '---
- slots
', 0.1, NULL, NULL, NULL, 'fixed', NULL) RETURNING "id" /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
Redirected to http://localhost:3000/bonuses/15
Completed 302 Found in 29ms (ActiveRecord: 9.8ms (3 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses/15" for ::1 at 2025-08-28 22:13:38 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "15"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 15 LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:1277:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.8ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 15 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.6ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 15 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 15 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.5ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 15 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 15 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 15 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 15 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 12.8ms | GC: 0.7ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 15.0ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | GC: 0.7ms)
Completed 200 OK in 28ms (Views: 20.0ms | ActiveRecord: 4.4ms (9 queries, 0 cached) | GC: 0.7ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:13:38 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:13:38 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:13:38 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:13:39 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: NjNGFV13uo98ewvUYA8N9RS3CddcVw_rs0kfH9HFTQ4SOVoNpfS3MMjWB2rXv7an4kc6PG3hmLbJwsj6mTw2WA
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 228ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:13:39 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (1.0ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.8ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 26.6ms | GC: 2.9ms)
  Rendered layout layouts/application.html.erb (Duration: 30.8ms | GC: 2.9ms)
Completed 200 OK in 41ms (Views: 27.9ms | ActiveRecord: 6.9ms (11 queries, 0 cached) | GC: 3.4ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:13:39 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 9.8ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | GC: 1.5ms)
Completed 200 OK in 21ms (Views: 14.4ms | ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 2.5ms)


Started GET "/bonuses/find_template?dsl_tag=test_multiple_freespins&name=Test%20Multiple%20Freespins%20Bonus&project=VOLNA" for ::1 at 2025-08-28 22:13:40 +0300
Processing by BonusesController#find_template as */*
  Parameters: {"dsl_tag" => "test_multiple_freespins", "name" => "Test Multiple Freespins Bonus", "project" => "VOLNA"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Load (0.3ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_multiple_freespins' AND "bonus_templates"."name" = 'Test Multiple Freespins Bonus' AND "bonus_templates"."project" = 'VOLNA' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:47:in 'BonusTemplate.find_template_by_dsl_and_name'
  [1m[36mBonusTemplate Load (0.2ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_multiple_freespins' AND "bonus_templates"."name" = 'Test Multiple Freespins Bonus' AND "bonus_templates"."project" = 'All' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:52:in 'BonusTemplate.find_template_by_dsl_and_name'
Completed 404 Not Found in 6ms (Views: 0.1ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.4ms)


Started POST "/bonuses" for ::1 at 2025-08-28 22:13:47 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Multiple Freespins Bonus", "code" => "MULTIFREE", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_multiple_freespins", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "100", "USD" => "100"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "2000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:13", "availability_end_date" => "2025-09-27T19:13"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "50", "bet_level" => "0.05", "currency_freespin_bet_levels" => {"EUR" => "0.05", "USD" => "0.05"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}, "1" => {"games" => "table_games", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
CREATE METHOD CALLED with params: #<ActionController::Parameters {"authenticity_token" => "dYtFVSo53t5oSD6Z15fRRAnpny9pgNj8Yfb9u7_IbvB3h_Rn1sWFodas1L50kx5ZfXBb3Gvfgro2C9CodB5Mxw", "bonus" => {"name" => "Test Multiple Freespins Bonus", "code" => "MULTIFREE", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_multiple_freespins", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "100", "USD" => "100"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "2000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:13", "availability_end_date" => "2025-09-27T19:13"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "50", "bet_level" => "0.05", "currency_freespin_bet_levels" => {"EUR" => "0.05", "USD" => "0.05"}, "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}, "1" => {"games" => "table_games", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} permitted: false>
[31mUnpermitted parameters: :groups, :minimum_deposit. Context: { controller: BonusesController, action: create, request: #<ActionDispatch::Request:0x00007325d6e9e930>, params: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Multiple Freespins Bonus", "code" => "MULTIFREE", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_multiple_freespins", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "100", "USD" => "100"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "2000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:13", "availability_end_date" => "2025-09-27T19:13"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "50", "bet_level" => "0.05", "currency_freespin_bet_levels" => {"EUR" => "0.05", "USD" => "0.05"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}, "1" => {"games" => "table_games", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} }[0m
[31mUnpermitted parameters: :groups, :minimum_deposit. Context: { controller: BonusesController, action: create, request: #<ActionDispatch::Request:0x00007325d6e9e930>, params: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Multiple Freespins Bonus", "code" => "MULTIFREE", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_multiple_freespins", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "100", "USD" => "100"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "2000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:13", "availability_end_date" => "2025-09-27T19:13"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "50", "bet_level" => "0.05", "currency_freespin_bet_levels" => {"EUR" => "0.05", "USD" => "0.05"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}, "1" => {"games" => "table_games", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} }[0m
Bonus created with params: #<ActionController::Parameters {"name" => "Test Multiple Freespins Bonus", "code" => "MULTIFREE", "event" => "deposit", "status" => "draft", "wager" => "", "maximum_winnings" => "2000", "maximum_winnings_type" => "fixed", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:13", "availability_end_date" => "2025-09-27T19:13", "project" => "VOLNA", "dsl_tag" => "test_multiple_freespins", "no_more" => "", "totally_no_more" => "", "description" => "", "currencies" => ["EUR", "USD"], "currency_minimum_deposits" => #<ActionController::Parameters {"EUR" => "100", "USD" => "100"} permitted: true>} permitted: true>
Bonus valid: true
Bonus errors: []
[31mUnpermitted parameter: :currency_freespin_bet_levels. Context: { controller: BonusesController, action: create, request: #<ActionDispatch::Request:0x00007325d6e9e930>, params: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Multiple Freespins Bonus", "code" => "MULTIFREE", "description" => "", "event" => "deposit", "status" => "draft", "project" => "VOLNA", "dsl_tag" => "test_multiple_freespins", "currencies" => ["EUR", "USD"], "groups" => "", "no_more" => "", "totally_no_more" => "", "currency_minimum_deposits" => {"EUR" => "100", "USD" => "100"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings_type" => "fixed", "maximum_winnings" => "2000", "wagering_strategy" => "", "availability_start_date" => "2025-08-28T19:13", "availability_end_date" => "2025-09-27T19:13"}, "freespin_rewards" => {"0" => {"games" => "slots", "spins_count" => "50", "bet_level" => "0.05", "currency_freespin_bet_levels" => {"EUR" => "0.05", "USD" => "0.05"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}, "1" => {"games" => "table_games", "spins_count" => "100", "bet_level" => "0.1", "currency_freespin_bet_levels" => {"EUR" => "0.1", "USD" => "0.1"}, "duration" => "", "activation_duration" => "", "email_template" => "[FILTERED]", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "stag" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""}}, "commit" => "Create Bonus", "controller" => "bonuses", "action" => "create"} }[0m
Freespin reward params: #<ActionController::Parameters {"spins_count" => "50", "games" => ["slots"], "bet_level" => "0.05", "stag" => "", "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => ""} permitted: true>
Checking spins_count: 50 (type: String)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:145:in 'block in BonusesController#create'
  [1m[36mBonus Create (1.7ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Test Multiple Freespins Bonus', 'MULTIFREE', 'draft', NULL, NULL, 2000.0, '', '2025-08-28 19:13:00', '2025-09-27 19:13:00', NULL, NULL, NULL, 15, NULL, '2025-08-28 19:13:47.421574', '2025-08-28 19:13:47.421574', 'VOLNA', 'test_multiple_freespins', 'deposit', '["EUR","USD"]', NULL, '', NULL, '{"EUR":100.0,"USD":100.0}', '', 'fixed') RETURNING "id" /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:145:in 'block in BonusesController#create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:145:in 'block in BonusesController#create'
Creating multiple freespin rewards with params: [#<ActionController::Parameters {"spins_count" => "50", "games" => ["slots"], "bet_level" => "0.05", "stag" => "", "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => "", "currency_freespin_bet_levels" => #<ActionController::Parameters {"EUR" => "0.05", "USD" => "0.05"} permitted: true>} permitted: true>, #<ActionController::Parameters {"spins_count" => "100", "games" => ["table_games"], "bet_level" => "0.1", "stag" => "", "duration" => "", "activation_duration" => "", "email_template" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "wager_done" => "", "hold_min" => "", "hold_max" => "", "currency_freespin_bet_levels" => #<ActionController::Parameters {"EUR" => "0.1", "USD" => "0.1"} permitted: true>} permitted: true>]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mFreespinReward Create (2.1ms)[0m  [1m[32mINSERT INTO "freespin_rewards" ("bonus_id", "spins_count", "game_restrictions", "config", "created_at", "updated_at", "games", "bet_level", "code", "stag", "max_win_value", "max_win_type", "available") VALUES (16, 50, NULL, '{"currency_freespin_bet_levels":{"EUR":"0.05","USD":"0.05"}}', '2025-08-28 19:13:47.429470', '2025-08-28 19:13:47.429470', '---
- slots
', 0.05, NULL, NULL, NULL, 'fixed', NULL) RETURNING "id" /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mFreespinReward Create (1.5ms)[0m  [1m[32mINSERT INTO "freespin_rewards" ("bonus_id", "spins_count", "game_restrictions", "config", "created_at", "updated_at", "games", "bet_level", "code", "stag", "max_win_value", "max_win_type", "available") VALUES (16, 100, NULL, '{"currency_freespin_bet_levels":{"EUR":"0.1","USD":"0.1"}}', '2025-08-28 19:13:47.438762', '2025-08-28 19:13:47.438762', '---
- table_games
', 0.1, NULL, NULL, NULL, 'fixed', NULL) RETURNING "id" /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:811:in 'block in BonusesController#create_multiple_freespin_rewards_if_provided'
Redirected to http://localhost:3000/bonuses/16
Completed 302 Found in 32ms (ActiveRecord: 8.4ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses/16" for ::1 at 2025-08-28 22:13:47 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "16"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 16 LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:1277:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 16 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 16 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 16 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 16 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 16 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 16 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 16 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:148:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 9.2ms | GC: 0.2ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 10.8ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | GC: 0.4ms)
Completed 200 OK in 19ms (Views: 12.6ms | ActiveRecord: 3.0ms (9 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:13:47 +0300
Processing by BonusesController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-28 22:13:47 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.2ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/assets/app-1d4254cab1250bf7690feba0dfc469d03fbbcf6d1b4964d4b6fa7e55b685c385.css" for ::1 at 2025-08-28 22:13:47 +0300
Started POST "/users/sign_in" for ::1 at 2025-08-28 22:13:48 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: dmP0jysG0yZoa2kPZq6Mujm_REHnwljVfCNNe8-yF3NSrvtjgXau2b8Wa7pGQZGsgj34PiTOtagedH-SUe3m5Q
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 225ms (ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:13:48 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 25.3ms | GC: 2.7ms)
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | GC: 2.7ms)
Completed 200 OK in 33ms (Views: 26.7ms | ActiveRecord: 3.0ms (11 queries, 0 cached) | GC: 2.7ms)


Started GET "/bonuses/new" for ::1 at 2025-08-28 22:13:48 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 10.8ms | ActiveRecord: 0.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/find_template?dsl_tag=test_mixed_freespins&name=Test%20Mixed%20Freespins%20Bonus&project=VOLNA" for ::1 at 2025-08-28 22:13:49 +0300
Processing by BonusesController#find_template as */*
  Parameters: {"dsl_tag" => "test_mixed_freespins", "name" => "Test Mixed Freespins Bonus", "project" => "VOLNA"}
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 15 ORDER BY "users"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonusTemplate Load (0.5ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_mixed_freespins' AND "bonus_templates"."name" = 'Test Mixed Freespins Bonus' AND "bonus_templates"."project" = 'VOLNA' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:47:in 'BonusTemplate.find_template_by_dsl_and_name'
  [1m[36mBonusTemplate Load (2.3ms)[0m  [1m[34mSELECT "bonus_templates".* FROM "bonus_templates" WHERE "bonus_templates"."dsl_tag" = 'test_mixed_freespins' AND "bonus_templates"."name" = 'Test Mixed Freespins Bonus' AND "bonus_templates"."project" = 'All' ORDER BY "bonus_templates"."id" ASC LIMIT 1 /*action='find_template',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus_template.rb:52:in 'BonusTemplate.find_template_by_dsl_and_name'
Completed 404 Not Found in 12ms (Views: 0.2ms | ActiveRecord: 6.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-28 22:15:29 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 20.8ms | ActiveRecord: 2.2ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-29 13:08:32 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by HomeController#index as HTML
Completed 401 Unauthorized in 11ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-08-29 13:08:33 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.7ms | GC: 4.8ms)
  Rendered layout layouts/application.html.erb (Duration: 34.2ms | GC: 23.6ms)
Completed 200 OK in 111ms (Views: 42.5ms | ActiveRecord: 22.7ms (0 queries, 0 cached) | GC: 52.9ms)


Started POST "/users/sign_in" for ::1 at 2025-08-29 13:08:39 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: p.rusakevich@jetmail.cc
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'p.rusakevich@jetmail.cc' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: ZTU_waO-PAdftMC7xgG-8rrRsX9L0pZ5A2JUKNyNPIji4SGVXhbGB53hf4ylGyguovWJ-3sCFJ_CXgXRi8I8vg
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 224ms (ActiveRecord: 2.6ms (2 queries, 0 cached) | GC: 0.9ms)


Started GET "/bonuses" for ::1 at 2025-08-29 13:08:39 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (4.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusReward Load (1.0ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreespinReward Load (1.5ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusBuyReward Load (3.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mFreechipReward Load (3.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mBonusCodeReward Load (1.4ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mMaterialPrizeReward Load (1.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  [1m[36mCompPointReward Load (1.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:188
  Rendered bonuses/index.html.erb within layouts/application (Duration: 106.2ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 108.5ms | GC: 1.3ms)
Completed 200 OK in 119ms (Views: 80.0ms | ActiveRecord: 34.6ms (11 queries, 0 cached) | GC: 1.4ms)


Started GET "/heatmap" for ::1 at 2025-08-29 13:11:47 +0300
Processing by HeatmapController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 9 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 5.2ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.0ms)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test_marketing@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test_marketing@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('test_marketing@test.com', '$2a$12$jFlRRPWLaAOeXtTVIVJMU.K90lc/trx805ZM.1ml718NL5CK4oy4e', NULL, NULL, NULL, '2025-08-29 10:23:48.733302', '2025-08-29 10:23:48.733302', 4, 'Test', 'Marketing') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test_admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test_admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('test_admin@test.com', '$2a$12$UoBWbrXvsoRDfxgHA3JZXOguPcpRSuBagz0dp8wmjBdcsS7Y4bzPC', NULL, NULL, NULL, '2025-08-29 10:23:48.952123', '2025-08-29 10:23:48.952123', 0, 'Test', 'Admin') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Destroy (3.0ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 16 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Destroy (1.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 17 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (20.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test_marketing@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test_marketing@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('test_marketing@test.com', '$2a$12$3p3s1rd14Js0P1B9RIIKF.ujeN/hmBwr77eqxCVy9WQcr4ndszUX2', NULL, NULL, NULL, '2025-08-29 10:24:23.407410', '2025-08-29 10:24:23.407410', 4, 'Test', 'Marketing') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test_admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test_admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('test_admin@test.com', '$2a$12$J3O/EYy5RA4Mr0SfEAkeOulY0HGa8Y/TStYTrmTfETxtQdKjj2uN.', NULL, NULL, NULL, '2025-08-29 10:24:23.618991', '2025-08-29 10:24:23.618991', 0, 'Test', 'Admin') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Destroy (1.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 18 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Destroy (1.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 19 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (19.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'debug_marketing@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'debug_marketing@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('debug_marketing@test.com', '$2a$12$naZQk9tTawbLyY3FijehMeh3MDso55SK96FwzRIe7.n9B1S/86zXu', NULL, NULL, NULL, '2025-08-29 10:26:58.216449', '2025-08-29 10:26:58.216449', 4, 'Debug', 'Marketing') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'debug_admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'debug_admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "role", "first_name", "last_name") VALUES ('debug_admin@test.com', '$2a$12$bkQOdhZVUblO5PPKPT5OgeosbWMgDKk8Tv8kcm6eRF6uqAq/.BxQ.', NULL, NULL, NULL, '2025-08-29 10:26:58.430615', '2025-08-29 10:26:58.430615', 0, 'Debug', 'Admin') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Started GET "/" for ::1 at 2025-10-13 19:41:39 +0300
  
ActiveRecord::ConnectionNotEstablished (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/tmp/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
)
Caused by: PG::ConnectionBad (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/tmp/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
)

Information for: ActiveRecord::ConnectionNotEstablished (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/tmp/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
):
  
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:69:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter.new_client'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:939:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#connect'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:951:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#reconnect'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:667:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#reconnect!'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:666:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#reconnect!'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:771:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#verify!'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:761:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#verify!'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:779:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#connect!'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:985:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:984:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/quoting.rb:128:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::Quoting#quote_string'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/quoting.rb:76:in 'ActiveRecord::ConnectionAdapters::Quoting#quote'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/quoting.rb:122:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::Quoting#quote'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/schema_statements.rb:1142:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::SchemaStatements#quoted_scope'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/schema_statements.rb:1119:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::SchemaStatements#data_source_sql'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/schema_statements.rb:60:in 'ActiveRecord::ConnectionAdapters::SchemaStatements#table_exists?'
activerecord (8.0.2.1) lib/active_record/schema_migration.rb:55:in 'block in ActiveRecord::SchemaMigration#create_table'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:418:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
activerecord (8.0.2.1) lib/active_record/schema_migration.rb:54:in 'ActiveRecord::SchemaMigration#create_table'
activerecord (8.0.2.1) lib/active_record/migration.rb:1431:in 'ActiveRecord::Migrator#initialize'
activerecord (8.0.2.1) lib/active_record/migration.rb:1279:in 'Class#new'
activerecord (8.0.2.1) lib/active_record/migration.rb:1279:in 'ActiveRecord::MigrationContext#open'
activerecord (8.0.2.1) lib/active_record/migration.rb:763:in 'block (2 levels) in ActiveRecord::Migration.pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration/pending_migration_connection.rb:8:in 'ActiveRecord::PendingMigrationConnection.with_temporary_pool'
activerecord (8.0.2.1) lib/active_record/migration.rb:762:in 'block in ActiveRecord::Migration.pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:761:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/migration.rb:761:in 'ActiveRecord::Migration.pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:740:in 'ActiveRecord::Migration.check_pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:660:in 'block (2 levels) in ActiveRecord::Migration::CheckPending#call'
activesupport (8.0.2.1) lib/active_support/file_update_checker.rb:85:in 'ActiveSupport::FileUpdateChecker#execute'
activerecord (8.0.2.1) lib/active_record/migration.rb:665:in 'block in ActiveRecord::Migration::CheckPending#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'Thread::Mutex#synchronize'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'

Information for cause: PG::ConnectionBad (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/tmp/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
):
  
pg-1.6.1-x86_64 (linux) lib/pg/connection.rb:944:in 'PG::Connection.connect_start'
pg-1.6.1-x86_64 (linux) lib/pg/connection.rb:944:in 'PG::Connection.connect_to_hosts'
pg-1.6.1-x86_64 (linux) lib/pg/connection.rb:871:in 'PG::Connection.new'
pg-1.6.1-x86_64 (linux) lib/pg.rb:67:in 'PG.connect'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:58:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter.new_client'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:939:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#connect'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:951:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#reconnect'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:667:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#reconnect!'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:666:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#reconnect!'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:771:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#verify!'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:761:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#verify!'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:779:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#connect!'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:985:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:984:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/quoting.rb:128:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::Quoting#quote_string'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/quoting.rb:76:in 'ActiveRecord::ConnectionAdapters::Quoting#quote'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/quoting.rb:122:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::Quoting#quote'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/schema_statements.rb:1142:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::SchemaStatements#quoted_scope'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/schema_statements.rb:1119:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::SchemaStatements#data_source_sql'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/schema_statements.rb:60:in 'ActiveRecord::ConnectionAdapters::SchemaStatements#table_exists?'
activerecord (8.0.2.1) lib/active_record/schema_migration.rb:55:in 'block in ActiveRecord::SchemaMigration#create_table'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:418:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
activerecord (8.0.2.1) lib/active_record/schema_migration.rb:54:in 'ActiveRecord::SchemaMigration#create_table'
activerecord (8.0.2.1) lib/active_record/migration.rb:1431:in 'ActiveRecord::Migrator#initialize'
activerecord (8.0.2.1) lib/active_record/migration.rb:1279:in 'Class#new'
activerecord (8.0.2.1) lib/active_record/migration.rb:1279:in 'ActiveRecord::MigrationContext#open'
activerecord (8.0.2.1) lib/active_record/migration.rb:763:in 'block (2 levels) in ActiveRecord::Migration.pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration/pending_migration_connection.rb:8:in 'ActiveRecord::PendingMigrationConnection.with_temporary_pool'
activerecord (8.0.2.1) lib/active_record/migration.rb:762:in 'block in ActiveRecord::Migration.pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:761:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/migration.rb:761:in 'ActiveRecord::Migration.pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:740:in 'ActiveRecord::Migration.check_pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:660:in 'block (2 levels) in ActiveRecord::Migration::CheckPending#call'
activesupport (8.0.2.1) lib/active_support/file_update_checker.rb:85:in 'ActiveSupport::FileUpdateChecker#execute'
activerecord (8.0.2.1) lib/active_record/migration.rb:665:in 'block in ActiveRecord::Migration::CheckPending#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'Thread::Mutex#synchronize'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/favicon.ico" for ::1 at 2025-10-13 19:41:40 +0300
  
ActiveRecord::ConnectionNotEstablished (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/tmp/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
)
Caused by: PG::ConnectionBad (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/tmp/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
)

Information for: ActiveRecord::ConnectionNotEstablished (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/tmp/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
):
  
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:69:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter.new_client'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:939:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#connect'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:951:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#reconnect'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:667:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#reconnect!'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:666:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#reconnect!'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:771:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#verify!'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:761:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#verify!'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:779:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#connect!'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:985:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:984:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/quoting.rb:128:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::Quoting#quote_string'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/quoting.rb:76:in 'ActiveRecord::ConnectionAdapters::Quoting#quote'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/quoting.rb:122:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::Quoting#quote'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/schema_statements.rb:1142:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::SchemaStatements#quoted_scope'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/schema_statements.rb:1119:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::SchemaStatements#data_source_sql'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/schema_statements.rb:60:in 'ActiveRecord::ConnectionAdapters::SchemaStatements#table_exists?'
activerecord (8.0.2.1) lib/active_record/schema_migration.rb:55:in 'block in ActiveRecord::SchemaMigration#create_table'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:418:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
activerecord (8.0.2.1) lib/active_record/schema_migration.rb:54:in 'ActiveRecord::SchemaMigration#create_table'
activerecord (8.0.2.1) lib/active_record/migration.rb:1431:in 'ActiveRecord::Migrator#initialize'
activerecord (8.0.2.1) lib/active_record/migration.rb:1279:in 'Class#new'
activerecord (8.0.2.1) lib/active_record/migration.rb:1279:in 'ActiveRecord::MigrationContext#open'
activerecord (8.0.2.1) lib/active_record/migration.rb:763:in 'block (2 levels) in ActiveRecord::Migration.pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration/pending_migration_connection.rb:8:in 'ActiveRecord::PendingMigrationConnection.with_temporary_pool'
activerecord (8.0.2.1) lib/active_record/migration.rb:762:in 'block in ActiveRecord::Migration.pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:761:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/migration.rb:761:in 'ActiveRecord::Migration.pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:740:in 'ActiveRecord::Migration.check_pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:660:in 'block (2 levels) in ActiveRecord::Migration::CheckPending#call'
activesupport (8.0.2.1) lib/active_support/file_update_checker.rb:85:in 'ActiveSupport::FileUpdateChecker#execute'
activerecord (8.0.2.1) lib/active_record/migration.rb:665:in 'block in ActiveRecord::Migration::CheckPending#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'Thread::Mutex#synchronize'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'

Information for cause: PG::ConnectionBad (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/run/postgresql/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
connection to server on socket "/tmp/.s.PGSQL.5432" failed: No such file or directory
	Is the server running locally and accepting connections on that socket?
):
  
pg-1.6.1-x86_64 (linux) lib/pg/connection.rb:944:in 'PG::Connection.connect_start'
pg-1.6.1-x86_64 (linux) lib/pg/connection.rb:944:in 'PG::Connection.connect_to_hosts'
pg-1.6.1-x86_64 (linux) lib/pg/connection.rb:871:in 'PG::Connection.new'
pg-1.6.1-x86_64 (linux) lib/pg.rb:67:in 'PG.connect'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:58:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter.new_client'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:939:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#connect'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:951:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#reconnect'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:667:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#reconnect!'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:666:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#reconnect!'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:771:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#verify!'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:761:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#verify!'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:779:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#connect!'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:985:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
activesupport (8.0.2.1) lib/active_support/concurrency/null_lock.rb:9:in 'ActiveSupport::Concurrency::NullLock#synchronize'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract_adapter.rb:984:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#with_raw_connection'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/quoting.rb:128:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::Quoting#quote_string'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/quoting.rb:76:in 'ActiveRecord::ConnectionAdapters::Quoting#quote'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/quoting.rb:122:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::Quoting#quote'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/schema_statements.rb:1142:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::SchemaStatements#quoted_scope'
activerecord (8.0.2.1) lib/active_record/connection_adapters/postgresql/schema_statements.rb:1119:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::SchemaStatements#data_source_sql'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/schema_statements.rb:60:in 'ActiveRecord::ConnectionAdapters::SchemaStatements#table_exists?'
activerecord (8.0.2.1) lib/active_record/schema_migration.rb:55:in 'block in ActiveRecord::SchemaMigration#create_table'
activerecord (8.0.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:418:in 'ActiveRecord::ConnectionAdapters::ConnectionPool#with_connection'
activerecord (8.0.2.1) lib/active_record/schema_migration.rb:54:in 'ActiveRecord::SchemaMigration#create_table'
activerecord (8.0.2.1) lib/active_record/migration.rb:1431:in 'ActiveRecord::Migrator#initialize'
activerecord (8.0.2.1) lib/active_record/migration.rb:1279:in 'Class#new'
activerecord (8.0.2.1) lib/active_record/migration.rb:1279:in 'ActiveRecord::MigrationContext#open'
activerecord (8.0.2.1) lib/active_record/migration.rb:763:in 'block (2 levels) in ActiveRecord::Migration.pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration/pending_migration_connection.rb:8:in 'ActiveRecord::PendingMigrationConnection.with_temporary_pool'
activerecord (8.0.2.1) lib/active_record/migration.rb:762:in 'block in ActiveRecord::Migration.pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:761:in 'Array#each'
activerecord (8.0.2.1) lib/active_record/migration.rb:761:in 'ActiveRecord::Migration.pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:740:in 'ActiveRecord::Migration.check_pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:660:in 'block (2 levels) in ActiveRecord::Migration::CheckPending#call'
activesupport (8.0.2.1) lib/active_support/file_update_checker.rb:85:in 'ActiveSupport::FileUpdateChecker#execute'
activerecord (8.0.2.1) lib/active_record/migration.rb:665:in 'block in ActiveRecord::Migration::CheckPending#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'Thread::Mutex#synchronize'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/" for ::1 at 2025-10-13 19:44:33 +0300
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='BMS'*/[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 45 pending migrations:

db/migrate/20250124001001_devise_create_users.rb
db/migrate/20250811204823_create_bonuses.rb
db/migrate/20250811204831_create_deposit_bonuses.rb
db/migrate/20250811204839_create_input_coupon_bonuses.rb
db/migrate/20250811204844_create_manual_bonuses.rb
db/migrate/20250811204849_create_collect_bonuses.rb
db/migrate/20250811204906_create_groups_update_bonuses.rb
db/migrate/20250811204912_create_scheduler_bonuses.rb
db/migrate/20250811210559_fix_foreign_key_references.rb
db/migrate/20250812193953_add_project_and_dsl_tag_to_bonuses.rb
db/migrate/20250814194905_add_event_to_bonuses.rb
db/migrate/20250814194927_create_bonus_rewards.rb
db/migrate/20250814194929_create_freespin_rewards.rb
db/migrate/20250814194930_create_bonus_buy_rewards.rb
db/migrate/20250814194931_create_freechip_rewards.rb
db/migrate/20250814194933_create_bonus_code_rewards.rb
db/migrate/20250814194934_create_material_prize_rewards.rb
db/migrate/20250814194935_create_comp_point_rewards.rb
db/migrate/20250814195218_remove_old_bonus_tables.rb
db/migrate/20250816094114_add_common_fields_to_bonuses.rb
db/migrate/20250816113809_add_limitations_to_bonuses.rb
db/migrate/20250816195250_add_currency_minimum_deposits_to_bonuses.rb
db/migrate/20250817091841_add_description_to_bonuses.rb
db/migrate/20250817112210_create_marketing_requests.rb
db/migrate/20250817114030_change_promo_code_to_text_in_marketing_requests.rb
db/migrate/20250820132726_create_bonus_templates.rb
db/migrate/20250820141850_remove_currency_from_bonuses.rb
db/migrate/20250820141944_remove_currency_from_bonus_templates.rb
db/migrate/20250822204526_add_fields_to_bonus_rewards.rb
db/migrate/20250822204706_add_fields_to_freespin_rewards.rb
db/migrate/20250822205017_add_fields_to_bonus_buy_rewards.rb
db/migrate/20250822205208_add_title_to_bonus_code_rewards.rb
db/migrate/20250822205319_add_title_to_comp_point_rewards.rb
db/migrate/20250823122343_remove_wager_max_win_available_from_rewards.rb
db/migrate/20250823123802_add_maximum_winnings_type_to_bonus.rb
db/migrate/20250823130628_add_currency_amounts_to_bonus_rewards.rb
db/migrate/20250823132555_add_missing_columns_to_rewards.rb
db/migrate/20250823145159_fix_bonus_data.rb
db/migrate/20250823161747_remove_unique_index_from_bonus_code.rb
db/migrate/20250823215138_add_devise_to_users.rb
db/migrate/20250823215146_add_role_to_users.rb
db/migrate/20250823215336_devise_create_admin_users.rb
db/migrate/20250823215337_create_active_admin_comments.rb
db/migrate/20250823215528_add_names_to_users.rb
db/migrate/20250824120142_create_bonus_audit_logs.rb


):
  
activerecord (8.0.2.1) lib/active_record/migration.rb:743:in 'ActiveRecord::Migration.check_pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:660:in 'block (2 levels) in ActiveRecord::Migration::CheckPending#call'
activesupport (8.0.2.1) lib/active_support/file_update_checker.rb:85:in 'ActiveSupport::FileUpdateChecker#execute'
activerecord (8.0.2.1) lib/active_record/migration.rb:665:in 'block in ActiveRecord::Migration::CheckPending#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'Thread::Mutex#synchronize'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/favicon.ico" for ::1 at 2025-10-13 19:44:33 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 45 pending migrations:

db/migrate/20250124001001_devise_create_users.rb
db/migrate/20250811204823_create_bonuses.rb
db/migrate/20250811204831_create_deposit_bonuses.rb
db/migrate/20250811204839_create_input_coupon_bonuses.rb
db/migrate/20250811204844_create_manual_bonuses.rb
db/migrate/20250811204849_create_collect_bonuses.rb
db/migrate/20250811204906_create_groups_update_bonuses.rb
db/migrate/20250811204912_create_scheduler_bonuses.rb
db/migrate/20250811210559_fix_foreign_key_references.rb
db/migrate/20250812193953_add_project_and_dsl_tag_to_bonuses.rb
db/migrate/20250814194905_add_event_to_bonuses.rb
db/migrate/20250814194927_create_bonus_rewards.rb
db/migrate/20250814194929_create_freespin_rewards.rb
db/migrate/20250814194930_create_bonus_buy_rewards.rb
db/migrate/20250814194931_create_freechip_rewards.rb
db/migrate/20250814194933_create_bonus_code_rewards.rb
db/migrate/20250814194934_create_material_prize_rewards.rb
db/migrate/20250814194935_create_comp_point_rewards.rb
db/migrate/20250814195218_remove_old_bonus_tables.rb
db/migrate/20250816094114_add_common_fields_to_bonuses.rb
db/migrate/20250816113809_add_limitations_to_bonuses.rb
db/migrate/20250816195250_add_currency_minimum_deposits_to_bonuses.rb
db/migrate/20250817091841_add_description_to_bonuses.rb
db/migrate/20250817112210_create_marketing_requests.rb
db/migrate/20250817114030_change_promo_code_to_text_in_marketing_requests.rb
db/migrate/20250820132726_create_bonus_templates.rb
db/migrate/20250820141850_remove_currency_from_bonuses.rb
db/migrate/20250820141944_remove_currency_from_bonus_templates.rb
db/migrate/20250822204526_add_fields_to_bonus_rewards.rb
db/migrate/20250822204706_add_fields_to_freespin_rewards.rb
db/migrate/20250822205017_add_fields_to_bonus_buy_rewards.rb
db/migrate/20250822205208_add_title_to_bonus_code_rewards.rb
db/migrate/20250822205319_add_title_to_comp_point_rewards.rb
db/migrate/20250823122343_remove_wager_max_win_available_from_rewards.rb
db/migrate/20250823123802_add_maximum_winnings_type_to_bonus.rb
db/migrate/20250823130628_add_currency_amounts_to_bonus_rewards.rb
db/migrate/20250823132555_add_missing_columns_to_rewards.rb
db/migrate/20250823145159_fix_bonus_data.rb
db/migrate/20250823161747_remove_unique_index_from_bonus_code.rb
db/migrate/20250823215138_add_devise_to_users.rb
db/migrate/20250823215146_add_role_to_users.rb
db/migrate/20250823215336_devise_create_admin_users.rb
db/migrate/20250823215337_create_active_admin_comments.rb
db/migrate/20250823215528_add_names_to_users.rb
db/migrate/20250824120142_create_bonus_audit_logs.rb


):
  
activerecord (8.0.2.1) lib/active_record/migration.rb:743:in 'ActiveRecord::Migration.check_pending_migrations'
activerecord (8.0.2.1) lib/active_record/migration.rb:660:in 'block (2 levels) in ActiveRecord::Migration::CheckPending#call'
activesupport (8.0.2.1) lib/active_support/file_update_checker.rb:85:in 'ActiveSupport::FileUpdateChecker#execute'
activerecord (8.0.2.1) lib/active_record/migration.rb:665:in 'block in ActiveRecord::Migration::CheckPending#call'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'Thread::Mutex#synchronize'
activerecord (8.0.2.1) lib/active_record/migration.rb:657:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2.1) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2.1) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2.1) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2.1) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
request_store (1.7.0) lib/request_store/middleware.rb:19:in 'RequestStore::Middleware#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.2.0) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.2.0) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2.1) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.2.0) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2.1) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2.1) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.1) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.1) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.1) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.1) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.1) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.1) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.1) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (4.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-10-13 16:44:41.345976', '2025-10-13 16:44:41.345977') RETURNING "key" /*application='BMS'*/[0m
Migrating to DeviseCreateUsers (20250124001001)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "first_name" character varying, "last_name" character varying, "role" integer DEFAULT 3, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp(6), "last_sign_in_at" timestamp(6), "current_sign_in_ip" character varying, "last_sign_in_ip" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='BMS'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='BMS'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_role" ON "users" ("role") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250124001001') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateBonuses (20250811204823)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "bonuses" ("id" bigserial primary key, "name" character varying NOT NULL, "code" character varying NOT NULL, "bonus_type" character varying NOT NULL, "status" character varying DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" character varying, "availability_start_date" timestamp(6) NOT NULL, "availability_end_date" timestamp(6) NOT NULL, "user_group" character varying, "tags" text, "country" character varying, "currency" character varying NOT NULL, "created_by" integer, "updated_by" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_bonus_type" ON "bonuses" ("bonus_type") /*application='BMS'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_status" ON "bonuses" ("status") /*application='BMS'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_start_date" ON "bonuses" ("availability_start_date") /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_end_date" ON "bonuses" ("availability_end_date") /*application='BMS'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_user_group" ON "bonuses" ("user_group") /*application='BMS'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_country" ON "bonuses" ("country") /*application='BMS'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_currency" ON "bonuses" ("currency") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204823') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateDepositBonuses (20250811204831)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "deposit_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT FALSE, "recurring_eligible" boolean DEFAULT FALSE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_2448ff73ca"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_deposit_bonuses_on_bonus_id" ON "deposit_bonuses" ("bonus_id") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204831') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateInputCouponBonuses (20250811204839)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "input_coupon_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "coupon_code" character varying NOT NULL, "usage_limit" integer DEFAULT 1, "usage_count" integer DEFAULT 0, "expires_at" timestamp(6), "single_use" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_196a679410"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_bonus_id" ON "input_coupon_bonuses" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_input_coupon_bonuses_on_coupon_code" ON "input_coupon_bonuses" ("coupon_code") /*application='BMS'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_expires_at" ON "input_coupon_bonuses" ("expires_at") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204839') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateManualBonuses (20250811204844)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "manual_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "admin_notes" text, "approval_required" boolean DEFAULT TRUE, "auto_apply" boolean DEFAULT FALSE, "conditions" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_342825fcc9"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_bonus_id" ON "manual_bonuses" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_approval_required" ON "manual_bonuses" ("approval_required") /*application='BMS'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_auto_apply" ON "manual_bonuses" ("auto_apply") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204844') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateCollectBonuses (20250811204849)
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "collect_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "collection_type" character varying NOT NULL, "collection_amount" decimal(15,2), "collection_frequency" character varying DEFAULT 'daily', "collection_limit" integer DEFAULT 1, "collected_count" integer DEFAULT 0, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_39036008a7"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_bonus_id" ON "collect_bonuses" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_type" ON "collect_bonuses" ("collection_type") /*application='BMS'*/[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_frequency" ON "collect_bonuses" ("collection_frequency") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204849') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateGroupsUpdateBonuses (20250811204906)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "groups_update_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "target_groups" text NOT NULL, "update_type" character varying NOT NULL, "update_parameters" text, "batch_size" integer DEFAULT 100, "processing_status" character varying DEFAULT 'pending', "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ed7bb087a7"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_bonus_id" ON "groups_update_bonuses" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_update_type" ON "groups_update_bonuses" ("update_type") /*application='BMS'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_processing_status" ON "groups_update_bonuses" ("processing_status") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204906') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateSchedulerBonuses (20250811204912)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "scheduler_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "schedule_type" character varying NOT NULL, "cron_expression" character varying, "next_run_at" timestamp(6), "last_run_at" timestamp(6), "execution_count" integer DEFAULT 0, "max_executions" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_f9f29eae23"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_bonus_id" ON "scheduler_bonuses" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_schedule_type" ON "scheduler_bonuses" ("schedule_type") /*application='BMS'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_next_run_at" ON "scheduler_bonuses" ("next_run_at") /*application='BMS'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_last_run_at" ON "scheduler_bonuses" ("last_run_at") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204912') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to FixForeignKeyReferences (20250811210559)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to FixForeignKeyReferences (20250811210559)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to FixForeignKeyReferences (20250811210559)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "collect_bonuses" DROP CONSTRAINT "fk_rails_39036008a7" /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "deposit_bonuses" DROP CONSTRAINT "fk_rails_2448ff73ca" /*application='BMS'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "groups_update_bonuses" DROP CONSTRAINT "fk_rails_ed7bb087a7" /*application='BMS'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "input_coupon_bonuses" DROP CONSTRAINT "fk_rails_196a679410" /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "manual_bonuses" DROP CONSTRAINT "fk_rails_342825fcc9" /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "scheduler_bonuses" DROP CONSTRAINT "fk_rails_f9f29eae23" /*application='BMS'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "collect_bonuses" ADD CONSTRAINT "fk_rails_39036008a7"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "deposit_bonuses" ADD CONSTRAINT "fk_rails_2448ff73ca"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "groups_update_bonuses" ADD CONSTRAINT "fk_rails_ed7bb087a7"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "input_coupon_bonuses" ADD CONSTRAINT "fk_rails_196a679410"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "manual_bonuses" ADD CONSTRAINT "fk_rails_342825fcc9"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "scheduler_bonuses" ADD CONSTRAINT "fk_rails_f9f29eae23"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811210559') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddProjectAndDslTagToBonuses (20250812193953)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "project" character varying /*application='BMS'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "dsl_tag" character varying /*application='BMS'*/[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_project" ON "bonuses" ("project") /*application='BMS'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_dsl_tag" ON "bonuses" ("dsl_tag") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250812193953') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddEventToBonuses (20250814194905)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "event" character varying /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[33m          UPDATE bonuses SET event = bonus_type WHERE bonus_type IS NOT NULL;
 /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bonuses" ALTER COLUMN "event" SET NOT NULL /*application='BMS'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_event" ON "bonuses" ("event") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194905') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateBonusRewards (20250814194927)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "bonus_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "reward_type" character varying NOT NULL, "amount" decimal(15,2), "percentage" decimal(5,2), "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_04dc838556"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_bonus_id" ON "bonus_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_reward_type" ON "bonus_rewards" ("reward_type") /*application='BMS'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_bonus_id_and_reward_type" ON "bonus_rewards" ("bonus_id", "reward_type") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194927') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateFreespinRewards (20250814194929)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "freespin_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "spins_count" integer NOT NULL, "game_restrictions" text, "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_7e8de4db09"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_freespin_rewards_on_bonus_id" ON "freespin_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_freespin_rewards_on_spins_count" ON "freespin_rewards" ("spins_count") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194929') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateBonusBuyRewards (20250814194930)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "bonus_buy_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "buy_amount" decimal(15,2), "multiplier" decimal(5,2), "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_80a3d11f32"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_bonus_buy_rewards_on_bonus_id" ON "bonus_buy_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_bonus_buy_rewards_on_buy_amount" ON "bonus_buy_rewards" ("buy_amount") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194930') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateFreechipRewards (20250814194931)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "freechip_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "chip_value" decimal(15,2) NOT NULL, "chips_count" integer NOT NULL, "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e619079d60"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_freechip_rewards_on_bonus_id" ON "freechip_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_freechip_rewards_on_chip_value" ON "freechip_rewards" ("chip_value") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194931') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateBonusCodeRewards (20250814194933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "bonus_code_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "code" character varying NOT NULL, "code_type" character varying NOT NULL, "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b43566cf88"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_bonus_code_rewards_on_bonus_id" ON "bonus_code_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonus_code_rewards_on_code" ON "bonus_code_rewards" ("code") /*application='BMS'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_bonus_code_rewards_on_code_type" ON "bonus_code_rewards" ("code_type") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194933') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateMaterialPrizeRewards (20250814194934)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "material_prize_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "prize_name" character varying NOT NULL, "prize_value" decimal(15,2), "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0fa35ff8bd"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_material_prize_rewards_on_bonus_id" ON "material_prize_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE INDEX "index_material_prize_rewards_on_prize_name" ON "material_prize_rewards" ("prize_name") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194934') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateCompPointRewards (20250814194935)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE "comp_point_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "points_amount" integer NOT NULL, "multiplier" decimal(5,2), "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_1c06028258"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_comp_point_rewards_on_bonus_id" ON "comp_point_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_comp_point_rewards_on_points_amount" ON "comp_point_rewards" ("points_amount") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194935') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to RemoveOldBonusTables (20250814195218)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "deposit_bonuses" DROP CONSTRAINT "fk_rails_2448ff73ca" /*application='BMS'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "input_coupon_bonuses" DROP CONSTRAINT "fk_rails_196a679410" /*application='BMS'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "manual_bonuses" DROP CONSTRAINT "fk_rails_342825fcc9" /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "collect_bonuses" DROP CONSTRAINT "fk_rails_39036008a7" /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "groups_update_bonuses" DROP CONSTRAINT "fk_rails_ed7bb087a7" /*application='BMS'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "scheduler_bonuses" DROP CONSTRAINT "fk_rails_f9f29eae23" /*application='BMS'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "deposit_bonuses" /*application='BMS'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "input_coupon_bonuses" /*application='BMS'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "manual_bonuses" /*application='BMS'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "collect_bonuses" /*application='BMS'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "groups_update_bonuses" /*application='BMS'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "scheduler_bonuses" /*application='BMS'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "bonuses" DROP COLUMN "bonus_type" /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814195218') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddCommonFieldsToBonuses (20250816094114)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "currencies" text /*application='BMS'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMENT ON COLUMN "bonuses"."currencies" IS 'JSON array of supported currencies' /*application='BMS'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "groups" text /*application='BMS'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMENT ON COLUMN "bonuses"."groups" IS 'JSON array of target user groups' /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250816094114') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddLimitationsToBonuses (20250816113809)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "no_more" text /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMENT ON COLUMN "bonuses"."no_more" IS 'Usage limitation string (e.g., "1 per day", "3 per week")' /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "totally_no_more" integer /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMENT ON COLUMN "bonuses"."totally_no_more" IS 'Total limit of activations across all players' /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250816113809') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddCurrencyMinimumDepositsToBonuses (20250816195250)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "currency_minimum_deposits" text /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250816195250') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddDescriptionToBonuses (20250817091841)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "description" text /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250817091841') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateMarketingRequests (20250817112210)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "marketing_requests" ("id" bigserial primary key, "manager" character varying NOT NULL, "platform" text, "partner_email" character varying NOT NULL, "promo_code" character varying NOT NULL, "stag" character varying NOT NULL, "activation_date" timestamp(6), "status" character varying DEFAULT 'pending' NOT NULL, "request_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_marketing_requests_on_promo_code" ON "marketing_requests" ("promo_code") /*application='BMS'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_marketing_requests_on_stag" ON "marketing_requests" ("stag") /*application='BMS'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_status" ON "marketing_requests" ("status") /*application='BMS'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_request_type" ON "marketing_requests" ("request_type") /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_partner_email" ON "marketing_requests" ("partner_email") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250817112210') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to ChangePromoCodeToTextInMarketingRequests (20250817114030)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "marketing_requests" ALTER COLUMN "promo_code" TYPE text /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250817114030') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateBonusTemplates (20250820132726)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "bonus_templates" ("id" bigserial primary key, "name" character varying, "dsl_tag" character varying, "project" character varying, "event" character varying, "currency" character varying, "minimum_deposit" decimal, "wager" decimal, "maximum_winnings" decimal, "no_more" integer, "totally_no_more" integer, "currencies" text, "groups" text, "currency_minimum_deposits" text, "description" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_bonus_templates_on_dsl_tag" ON "bonus_templates" ("dsl_tag") /*application='BMS'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_templates_on_project" ON "bonus_templates" ("project") /*application='BMS'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonus_templates_on_dsl_tag_project_name" ON "bonus_templates" ("dsl_tag", "project", "name") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250820132726') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to RemoveCurrencyFromBonuses (20250820141850)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "bonuses" DROP COLUMN "currency" /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250820141850') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to RemoveCurrencyFromBonusTemplates (20250820141944)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "bonus_templates" DROP COLUMN "currency" /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250820141944') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddFieldsToBonusRewards (20250822204526)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD "wager" float DEFAULT 0.0 /*application='BMS'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD "max_win_value" decimal /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD "max_win_type" character varying DEFAULT 'fixed' /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD "available" integer /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD "code" character varying /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD "user_can_have_duplicates" boolean DEFAULT FALSE /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD "stag" character varying /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250822204526') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddFieldsToFreespinRewards (20250822204706)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "freespin_rewards" ADD "games" text DEFAULT '--- []
' /*application='BMS'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "freespin_rewards" ADD "bet_level" float /*application='BMS'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "freespin_rewards" ADD "max_win_value" decimal /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "freespin_rewards" ADD "max_win_type" character varying DEFAULT 'fixed' /*application='BMS'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "freespin_rewards" ADD "available" integer /*application='BMS'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "freespin_rewards" ADD "code" character varying /*application='BMS'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "freespin_rewards" ADD "stag" character varying /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250822204706') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddFieldsToBonusBuyRewards (20250822205017)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" ADD "games" text DEFAULT '--- []
' /*application='BMS'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" ADD "bet_level" float /*application='BMS'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" ADD "max_win_value" decimal /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" ADD "max_win_type" character varying DEFAULT 'fixed' /*application='BMS'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" ADD "available" integer /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" ADD "code" character varying /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" ADD "stag" character varying /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250822205017') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddTitleToBonusCodeRewards (20250822205208)
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (5.7ms)[0m  [1m[35mALTER TABLE "bonus_code_rewards" ADD "title" character varying /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250822205208') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddTitleToCompPointRewards (20250822205319)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "comp_point_rewards" ADD "title" character varying /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250822205319') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to RemoveWagerMaxWinAvailableFromRewards (20250823122343)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "bonus_rewards" DROP COLUMN "wager" /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bonus_rewards" DROP COLUMN "max_win_value" /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bonus_rewards" DROP COLUMN "max_win_type" /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "bonus_rewards" DROP COLUMN "available" /*application='BMS'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "freespin_rewards" DROP COLUMN "max_win_value" /*application='BMS'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "freespin_rewards" DROP COLUMN "max_win_type" /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "freespin_rewards" DROP COLUMN "available" /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" DROP COLUMN "max_win_value" /*application='BMS'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" DROP COLUMN "max_win_type" /*application='BMS'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" DROP COLUMN "available" /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250823122343') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddMaximumWinningsTypeToBonus (20250823123802)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "maximum_winnings_type" character varying DEFAULT 'multiplier' NOT NULL /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250823123802') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddCurrencyAmountsToBonusRewards (20250823130628)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD "currency_amounts" text /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250823130628') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddMissingColumnsToRewards (20250823132555)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD "max_win_value" decimal(15,2) /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD "max_win_type" character varying DEFAULT 'fixed' /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD "available" integer /*application='BMS'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "freespin_rewards" ADD "max_win_value" decimal(15,2) /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "freespin_rewards" ADD "max_win_type" character varying DEFAULT 'fixed' /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "freespin_rewards" ADD "available" integer /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" ADD "max_win_value" decimal(15,2) /*application='BMS'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" ADD "max_win_type" character varying DEFAULT 'fixed' /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" ADD "available" integer /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250823132555') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to FixBonusData (20250823145159)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.7ms)[0m  [1m[33m      UPDATE bonuses 
      SET project = 'All' 
      WHERE project = '' OR project IS NULL
 /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[33m      UPDATE bonuses 
      SET maximum_winnings_type = 'multiplier' 
      WHERE maximum_winnings_type = '' OR maximum_winnings_type IS NULL
 /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[33m      UPDATE bonuses 
      SET dsl_tag = '' 
      WHERE dsl_tag IS NULL
 /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250823145159') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to RemoveUniqueIndexFromBonusCode (20250823161747)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_bonuses_on_code" /*application='BMS'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250823161747') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddDeviseToUsers (20250823215138)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to AddDeviseToUsers (20250823215138)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250823215138') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddRoleToUsers (20250823215146)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "role" integer DEFAULT 3 NOT NULL /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to AddRoleToUsers (20250823215146)
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250823215146') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to DeviseCreateAdminUsers (20250823215336)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "admin_users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_admin_users_on_email" ON "admin_users" ("email") /*application='BMS'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_admin_users_on_reset_password_token" ON "admin_users" ("reset_password_token") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250823215336') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateActiveAdminComments (20250823215337)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "active_admin_comments" ("id" bigserial primary key, "namespace" character varying, "body" text, "resource_type" character varying, "resource_id" bigint, "author_type" character varying, "author_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_active_admin_comments_on_resource" ON "active_admin_comments" ("resource_type", "resource_id") /*application='BMS'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_active_admin_comments_on_author" ON "active_admin_comments" ("author_type", "author_id") /*application='BMS'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_active_admin_comments_on_namespace" ON "active_admin_comments" ("namespace") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250823215337') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to AddNamesToUsers (20250823215528)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "first_name" character varying /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to AddNamesToUsers (20250823215528)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250823215528') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreateBonusAuditLogs (20250824120142)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "bonus_audit_logs" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "user_id" bigint NOT NULL, "action" character varying, "changes_data" text, "metadata" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a5dcd55b76"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
, CONSTRAINT "fk_rails_a086348671"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='BMS'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_bonus_audit_logs_on_bonus_id" ON "bonus_audit_logs" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_bonus_audit_logs_on_user_id" ON "bonus_audit_logs" ("user_id") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250824120142') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Started GET "/" for ::1 at 2025-10-13 19:47:19 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by HomeController#index as HTML
Completed 401 Unauthorized in 23ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.4ms)


Started GET "/users/sign_in" for ::1 at 2025-10-13 19:47:19 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 795.5ms | GC: 40.5ms)
Completed 200 OK in 827ms (Views: 797.3ms | ActiveRecord: 6.0ms (0 queries, 0 cached) | GC: 42.3ms)


Started GET "/assets/app-b3c6f43e8c7fa281ae162381f084d19ba0488598365d6c1a9c2cd2487ab9be44.css" for ::1 at 2025-10-13 19:47:20 +0300
Started GET "/assets/turbo.min-38d030897e3554a265d3a3b6bdf4fb7509b08197ba2b6e3761683c07e776c1bc.js" for ::1 at 2025-10-13 19:47:20 +0300
Started GET "/assets/stimulus.min-dd364f16ec9504dfb72672295637a1c8838773b01c0b441bd41008124c407894.js" for ::1 at 2025-10-13 19:47:20 +0300
Started GET "/assets/controllers/bonus_template_controller-831395872f4c8bdf0024aa7affa4db5475d1049e8b2928f7b8ed94a9b398d060.js" for ::1 at 2025-10-13 19:47:20 +0300
Started GET "/assets/controllers/currency_controller-dd12cb04b7dec9c24df1e09bf11d75fd5bce22088cef39a96e8a971fd8f9d479.js" for ::1 at 2025-10-13 19:47:20 +0300
Started GET "/assets/controllers/index-31a9bee606cbc5cdb1593881f388bbf4c345bf693ea24e124f84b6d5c98ab648.js" for ::1 at 2025-10-13 19:47:20 +0300
Started GET "/assets/controllers/projects_dropdown_controller-9738a106fa8fd22e99b862d85f38faeea9e4e7b66b48e1a1d616a3a1dd2b9783.js" for ::1 at 2025-10-13 19:47:20 +0300
Started GET "/assets/controllers/settings_dropdown_controller-68128be27d6301f36d2e1ba254a84805833d0dc32892779809fc99478f227e60.js" for ::1 at 2025-10-13 19:47:20 +0300
Started GET "/assets/application-37f365cbecf1fa2810a8303f4b6571676fa1f9c56c248528bc14ddb857531b95.js" for ::1 at 2025-10-13 19:47:20 +0300
Started GET "/assets/stimulus-loading-3576ce92b149ad5d6959438c6f291e2426c86df3b874c525b30faad51b0d96b3.js" for ::1 at 2025-10-13 19:47:21 +0300
Started GET "/assets/controllers/application-368d98631bccbf2349e0d4f8269afb3fe9625118341966de054759d96ea86c7e.js" for ::1 at 2025-10-13 19:47:21 +0300
  [1m[36mUser Count (9.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" /*application='BMS'*/[0m
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='BMS'*/[0m
  [1m[35m (5040.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "bms_development" /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mUser Count (10.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" /*application='BMS'*/[0m
  [1m[36mBonus Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*application='BMS'*/[0m
  [1m[36mBonusTemplate Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_templates" /*application='BMS'*/[0m
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" /*application='BMS'*/[0m
Started GET "/users/sign_in" for ::1 at 2025-10-13 19:49:12 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.3ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/users/sign_in" for ::1 at 2025-10-13 19:49:14 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-10-13 19:49:17 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mbscasino.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@mbscasino.com
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mbscasino.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: false
Authenticity token from form: fXW4z-u1SizggQ7o4HB2MHsRfaSdHZ1RWxJcuwj154qKBGEZh3P3lC4L0KO56PDO0uzagD2e7D9ipJ5gyOGFuw
Session token: eP22aoUTGtrtCMvk8eu34a2_ivHuJhEAH1m5ZL0eCIw
Form authenticity token valid: false
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.3ms)


Processing by Users::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 213ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:10:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:10:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:10:in 'block (2 levels) in <main>'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name", "role", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "created_at", "updated_at") VALUES ('support@example.com', '$2a$12$DQDsP0fHNtAlrTBELqJRteHRCUxFlJCyBq7KWnCR861xgT74YvUhy', 'Support', 'Agent', 3, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, '2025-10-13 16:50:34.816327', '2025-10-13 16:50:34.816327') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:10:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:10:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:31:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:34:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:34:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:34:in 'block (2 levels) in <main>'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name", "role", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "created_at", "updated_at") VALUES ('admin@test.com', '$2a$12$8x01FYQ9gXNwlSiK.sxytuzXG8lgy1n6SA8i5wNn6MQqK5eeKWKZe', 'Test', 'Admin', 0, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, '2025-10-13 16:50:36.552773', '2025-10-13 16:50:36.552773') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:34:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_user.rake:34:in 'block (2 levels) in <main>'
  [1m[36mUser Load (9.3ms)[0m  [1m[34mSELECT "users".* FROM "users" /*application='BMS'*/[0m
Started POST "/users/sign_in" for ::1 at 2025-10-13 19:51:04 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: GK2V4sG6q1bUIGMyN3t-rY2FIgukjJpbnHh7K3tCEWDv3Ew0rXwW7hqqvXlu4_hTJHiFLwQP6zWlzrnwu1ZzUQ
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 208ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/bonuses" for ::1 at 2025-10-13 19:51:04 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.1ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 5.8ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.2ms)
Completed 200 OK in 15ms (Views: 8.8ms | ActiveRecord: 2.0ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/bonuses/new" for ::1 at 2025-10-13 19:51:35 +0300
Processing by BonusesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 3.5ms | GC: 1.9ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.0ms | GC: 1.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 23.6ms | GC: 9.3ms)
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | GC: 10.2ms)
Completed 200 OK in 46ms (Views: 28.3ms | ActiveRecord: 1.0ms (1 query, 0 cached) | GC: 16.9ms)


Started GET "/" for ::1 at 2025-10-13 19:51:48 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.7ms)


Started GET "/bonuses" for ::1 at 2025-10-13 19:51:48 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.6ms)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.9ms)


Started GET "/bonuses" for ::1 at 2025-10-13 19:51:49 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.2ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 1.6ms)
Completed 200 OK in 13ms (Views: 7.5ms | ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 2.2ms)


Started GET "/heatmap" for ::1 at 2025-10-13 19:51:50 +0300
Processing by HeatmapController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-10-01 00:00:00' AND '2025-10-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.4ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 6.3ms | GC: 3.1ms)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | GC: 6.0ms)
Completed 200 OK in 22ms (Views: 13.4ms | ActiveRecord: 1.4ms (3 queries, 0 cached) | GC: 8.7ms)


Started GET "/marketing" for ::1 at 2025-10-13 19:51:50 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 9.3ms | GC: 2.8ms)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | GC: 3.5ms)
Completed 200 OK in 28ms (Views: 12.9ms | ActiveRecord: 3.0ms (10 queries, 1 cached) | GC: 7.6ms)


Started GET "/marketing" for ::1 at 2025-10-13 19:51:53 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.4ms)
Completed 200 OK in 17ms (Views: 6.5ms | ActiveRecord: 2.1ms (10 queries, 1 cached) | GC: 0.8ms)


Started GET "/marketing" for ::1 at 2025-10-13 19:51:55 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.8ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.7ms)
Completed 200 OK in 14ms (Views: 6.4ms | ActiveRecord: 1.3ms (10 queries, 1 cached) | GC: 1.1ms)


Started GET "/marketing" for ::1 at 2025-10-13 19:51:56 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.4ms)
Completed 200 OK in 15ms (Views: 5.6ms | ActiveRecord: 1.8ms (10 queries, 1 cached) | GC: 0.9ms)


Started GET "/marketing" for ::1 at 2025-10-13 19:51:58 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.8ms)
Completed 200 OK in 15ms (Views: 7.3ms | ActiveRecord: 1.3ms (10 queries, 1 cached) | GC: 1.2ms)


Started GET "/marketing" for ::1 at 2025-10-13 19:51:59 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.6ms)
Completed 200 OK in 14ms (Views: 6.2ms | ActiveRecord: 1.3ms (10 queries, 1 cached) | GC: 1.0ms)


Started GET "/marketing" for ::1 at 2025-10-13 19:52:00 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.4ms)
Completed 200 OK in 14ms (Views: 6.3ms | ActiveRecord: 1.5ms (10 queries, 1 cached) | GC: 0.8ms)


Started GET "/marketing" for ::1 at 2025-10-13 19:52:01 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.4ms)
Completed 200 OK in 14ms (Views: 5.8ms | ActiveRecord: 1.3ms (10 queries, 1 cached) | GC: 0.8ms)


Started GET "/marketing" for ::1 at 2025-10-13 19:52:02 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.2ms)
Completed 200 OK in 18ms (Views: 6.0ms | ActiveRecord: 5.7ms (10 queries, 1 cached) | GC: 0.6ms)


Started GET "/bonuses" for ::1 at 2025-10-13 19:52:03 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.4ms)
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.4ms)


Started GET "/heatmap" for ::1 at 2025-10-13 19:52:04 +0300
Processing by HeatmapController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-10-01 00:00:00' AND '2025-10-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.2ms)
Completed 200 OK in 9ms (Views: 5.1ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/marketing" for ::1 at 2025-10-13 19:52:04 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.3ms)
Completed 200 OK in 15ms (Views: 5.4ms | ActiveRecord: 2.0ms (10 queries, 1 cached) | GC: 0.6ms)


Started GET "/bonuses" for ::1 at 2025-10-13 19:52:58 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | GC: 10.7ms)
Completed 200 OK in 49ms (Views: 35.4ms | ActiveRecord: 3.9ms (3 queries, 0 cached) | GC: 10.7ms)


Started GET "/assets/controllers/projects_dropdown_controller-815c89c9dd88d5429eff475378209844d3b8b72725d5ab36fb3710feb2e876d1.js" for ::1 at 2025-10-13 19:52:58 +0300
Started GET "/marketing" for ::1 at 2025-10-13 19:53:00 +0300
Processing by MarketingController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mMarketingRequest Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | GC: 1.4ms)
Completed 200 OK in 25ms (Views: 10.2ms | ActiveRecord: 5.4ms (10 queries, 1 cached) | GC: 2.0ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-10-13 19:53:32 +0300
Processing by BonusesController#index as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=All" for ::1 at 2025-10-13 19:54:40 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by BonusesController#index as HTML
  Parameters: {"project" => "All"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'All' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.2ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'All' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | GC: 0.0ms)
Completed 200 OK in 47ms (Views: 23.1ms | ActiveRecord: 6.8ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=All" for ::1 at 2025-10-13 19:54:40 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "All"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'All' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'All' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 5.2ms | ActiveRecord: 2.6ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-10-13 19:55:08 +0300
Processing by HeatmapController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-10-01 00:00:00' AND '2025-10-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 6.4ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 19:55:09 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 4.4ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-10-13 19:56:06 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 5.3ms | ActiveRecord: 2.3ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?dsl_tag=second&event=deposit&name=Second+Bonus" for ::1 at 2025-10-13 19:56:09 +0300
Processing by BonusesController#new as HTML
  Parameters: {"dsl_tag" => "second", "event" => "deposit", "name" => "Second Bonus"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.5ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.9ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 9.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 12.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-10-13 19:56:11 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 6.6ms | ActiveRecord: 2.0ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?dsl_tag=welcome_bonus&event=deposit&name=Welcome+Bonus" for ::1 at 2025-10-13 20:00:27 +0300
Processing by BonusesController#new as HTML
  Parameters: {"dsl_tag" => "welcome_bonus", "event" => "deposit", "name" => "Welcome Bonus"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 5.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to CreatePermanentBonuses (20251013171522)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "permanent_bonuses" ("id" bigserial primary key, "project_id" bigint NOT NULL, "bonus_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_9a71c52a89"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
, CONSTRAINT "fk_rails_919acdc46a"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Migrating to CreateBonusAuditLogs (20250824120142)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE "bonus_audit_logs" /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250824120142' /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to CreateBonusAuditLogs (20250824120142)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "bonus_audit_logs" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "user_id" bigint NOT NULL, "action" character varying, "changes_data" text, "metadata" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a5dcd55b76"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
, CONSTRAINT "fk_rails_a086348671"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='BMS'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_bonus_audit_logs_on_bonus_id" ON "bonus_audit_logs" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_bonus_audit_logs_on_user_id" ON "bonus_audit_logs" ("user_id") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250824120142') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Migrating to CreatePermanentBonuses2 (20251013171633)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "permanent_bonuses2s" ("id" bigserial primary key, "project" character varying, "bonus_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c43e11b814"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_permanent_bonuses2s_on_bonus_id" ON "permanent_bonuses2s" ("bonus_id") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251013171633') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-10-13 20:16:52 +0300
  [1m[36mActiveRecord::SchemaMigration Load (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.2ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 5.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | GC: 0.0ms)
Completed 200 OK in 62ms (Views: 26.1ms | ActiveRecord: 12.9ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-10-13 20:16:53 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 9ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 20:16:53 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (4.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 10.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 9.8ms | ActiveRecord: 4.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 20:16:55 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 8.6ms | ActiveRecord: 1.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-10-13 20:16:55 +0300
Processing by HeatmapController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-10-01 00:00:00' AND '2025-10-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.4ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.7ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 1.0ms)
Completed 200 OK in 14ms (Views: 8.1ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 1.7ms)


Started GET "/bonuses?project=All" for ::1 at 2025-10-13 20:16:56 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "All"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (1.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'All' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'All' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.8ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | GC: 0.6ms)
Completed 200 OK in 28ms (Views: 9.8ms | ActiveRecord: 4.4ms (12 queries, 0 cached) | GC: 1.6ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-10-13 20:16:58 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 6.6ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | GC: 1.7ms)
Completed 200 OK in 29ms (Views: 10.3ms | ActiveRecord: 3.9ms (12 queries, 0 cached) | GC: 2.9ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Migrating to CreatePermanentBonuses2 (20251013171633)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE "permanent_bonuses2s" /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.6ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251013171633' /*application='BMS'*/[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to CreatePermanentBonuses (20251013171802)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "permanent_bonuses" ("id" bigserial primary key, "project" character varying, "bonus_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_919acdc46a"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='BMS'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_permanent_bonuses_on_bonus_id" ON "permanent_bonuses" ("bonus_id") /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251013171802') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='BMS'*/[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE DATABASE "bms_development" ENCODING = 'unicode' TEMPLATE = "template0" /*application='BMS'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='BMS'*/[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE DATABASE "bms_development" ENCODING = 'LATIN1' TEMPLATE = "template0" /*application='BMS'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='BMS'*/[0m
  [1m[35m (205.4ms)[0m  [1m[35mCREATE DATABASE "bms_test" ENCODING = 'LATIN1' TEMPLATE = "template0" /*application='BMS'*/[0m
Started GET "/bonuses?project=ROX" for ::1 at 2025-10-13 20:28:15 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | GC: 2.2ms)
Completed 200 OK in 50ms (Views: 25.7ms | ActiveRecord: 5.8ms (12 queries, 0 cached) | GC: 2.8ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-10-13 20:28:17 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.1ms)
Completed 200 OK in 17ms (Views: 5.1ms | ActiveRecord: 2.5ms (12 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses" for ::1 at 2025-10-13 20:28:17 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.1ms)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.1ms)


Started GET "/heatmap" for ::1 at 2025-10-13 20:28:19 +0300
Processing by HeatmapController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-10-01 00:00:00' AND '2025-10-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.1ms)
Completed 200 OK in 11ms (Views: 6.1ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.1ms)


Started GET "/bonuses" for ::1 at 2025-10-13 20:28:19 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=All" for ::1 at 2025-10-13 20:28:20 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "All"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'All' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'All' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 5.1ms | ActiveRecord: 2.7ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-10-13 20:28:21 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 5.0ms | ActiveRecord: 2.2ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?dsl_tag=second&event=deposit&name=Second+Bonus" for ::1 at 2025-10-13 20:28:22 +0300
Processing by BonusesController#new as HTML
  Parameters: {"dsl_tag" => "second", "event" => "deposit", "name" => "Second Bonus"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.6ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.6ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 8.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 11.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-10-13 20:29:43 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 6.4ms | ActiveRecord: 3.3ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-10-13 20:29:44 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (2.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (1.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (2.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mBonus Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | GC: 0.0ms)
Completed 200 OK in 44ms (Views: 10.8ms | ActiveRecord: 11.1ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?dsl_tag=second&event=deposit&name=Second+Bonus" for ::1 at 2025-10-13 20:29:45 +0300
Processing by BonusesController#new as HTML
  Parameters: {"dsl_tag" => "second", "event" => "deposit", "name" => "Second Bonus"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-10-13 20:29:47 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 5.0ms | ActiveRecord: 2.4ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-10-13 20:31:11 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.0ms | GC: 7.7ms)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | GC: 8.1ms)
Completed 200 OK in 27ms (Views: 13.9ms | ActiveRecord: 2.7ms (12 queries, 0 cached) | GC: 8.1ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-10-13 20:31:12 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.2ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.5ms)
Completed 200 OK in 19ms (Views: 7.0ms | ActiveRecord: 2.2ms (12 queries, 0 cached) | GC: 1.8ms)


Started GET "/bonuses" for ::1 at 2025-10-13 20:31:13 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.5ms)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-10-13 20:31:14 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.5ms | GC: 0.4ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.8ms)
Completed 200 OK in 18ms (Views: 6.2ms | ActiveRecord: 2.1ms (12 queries, 0 cached) | GC: 1.3ms)


Started GET "/bonuses" for ::1 at 2025-10-13 20:31:14 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.8ms)
Completed 200 OK in 10ms (Views: 6.3ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 1.1ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-10-13 20:31:15 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.5ms)
Completed 200 OK in 19ms (Views: 6.0ms | ActiveRecord: 2.3ms (12 queries, 0 cached) | GC: 1.4ms)


Started GET "/admin" for ::1 at 2025-10-13 20:31:49 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for ::1 at 2025-10-13 20:31:49 +0300
Processing by AdminUsers::SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.4ms)
Completed 200 OK in 16ms (Views: 8.0ms | ActiveRecord: 2.5ms (1 query, 0 cached) | GC: 0.9ms)


Started POST "/admin/login" for ::1 at 2025-10-13 20:31:58 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@mbscasino.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: admin@mbscasino.com
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@mbscasino.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: false
Completed 401 Unauthorized in 9ms (ActiveRecord: 1.3ms (3 queries, 0 cached) | GC: 0.5ms)


Processing by AdminUsers::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.4ms)
Completed 200 OK in 209ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@bms.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_admin.rake:9:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_admin.rake:16:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@bms.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_admin.rake:16:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@bms.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_admin.rake:16:in 'block (2 levels) in <main>'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name", "role", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "created_at", "updated_at") VALUES ('admin@bms.com', '$2a$12$y8fcxtm01kIsrPDw41bnbeDJJIUpCtx5nfPGsxCQQThJQZELnIJyy', 'Admin', 'User', 0, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, '2025-10-13 17:33:20.881581', '2025-10-13 17:33:20.881581') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_admin.rake:16:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_admin.rake:16:in 'block (2 levels) in <main>'
Started POST "/admin/login" for ::1 at 2025-10-13 20:33:38 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@bms.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: admin@bms.com
  [1m[36mAdminUser Load (0.1ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@bms.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: false
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Processing by AdminUsers::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.4ms)
Completed 200 OK in 210ms (Views: 4.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started POST "/admin/login" for ::1 at 2025-10-13 20:33:48 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@bms.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: admin@bms.com
  [1m[36mAdminUser Load (0.1ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@bms.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: false
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Processing by AdminUsers::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.5ms)
Completed 200 OK in 210ms (Views: 4.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)


Started GET "/admin/login" for ::1 at 2025-10-13 20:33:50 +0300
Processing by AdminUsers::SessionsController#new as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.4ms | ActiveRecord: 1.4ms (1 query, 0 cached) | GC: 0.5ms)


Started GET "/" for ::1 at 2025-10-13 20:33:50 +0300
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 20:33:51 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.3ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/admin/login" for ::1 at 2025-10-13 20:33:51 +0300
Processing by AdminUsers::SessionsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.2ms)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.6ms)


Started POST "/admin/login" for ::1 at 2025-10-13 20:34:01 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@bms.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: admin@bms.com
  [1m[36mAdminUser Load (0.1ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@bms.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: false
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Processing by AdminUsers::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.1ms)
Completed 200 OK in 217ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)


  [1m[36mAdminUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_admin_user.rake:7:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_admin_user.rake:12:in 'block (2 levels) in <main>'
  [1m[36mAdminUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_admin_user.rake:12:in 'block (2 levels) in <main>'
  [1m[36mAdminUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_admin_user.rake:12:in 'block (2 levels) in <main>'
  [1m[36mAdminUser Create (0.4ms)[0m  [1m[32mINSERT INTO "admin_users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ('admin@example.com', '$2a$12$ehhkbIYPYZbFNsj9ouBxROJtMIoCnDnYMXF.Yuev3/F7487mE7aTK', NULL, NULL, NULL, '2025-10-13 17:36:06.360313', '2025-10-13 17:36:06.360313') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_admin_user.rake:12:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_admin_user.rake:12:in 'block (2 levels) in <main>'
Started POST "/admin/login" for ::1 at 2025-10-13 20:36:29 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: admin@example.com
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Redirected to http://localhost:3000/admin
Completed 303 See Other in 211ms (ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin" for ::1 at 2025-10-13 20:36:29 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 13.1ms | GC: 1.0ms)
Completed 200 OK in 26ms (Views: 14.8ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.2ms)


Started GET "/assets/active_admin-91eb9aa2461cc96f93217032dcc8a6d5e4f82ae14b37f4821255d57ddb871c45.css" for ::1 at 2025-10-13 20:36:29 +0300
Started GET "/assets/active_admin-ab939fcb08b9cb4c1de3936e8dcd97dbadd86334451760ee75c4c22bb001154d.js" for ::1 at 2025-10-13 20:36:29 +0300
Started GET "/favicon.ico" for ::1 at 2025-10-13 20:36:30 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin/bonuses" for ::1 at 2025-10-13 20:36:32 +0300
Processing by Admin::BonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 28.9ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 29.5ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/permanent_bonuses" for ::1 at 2025-10-13 20:36:33 +0300
Processing by Admin::PermanentBonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mPermanentBonus Load (0.5ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" ORDER BY "permanent_bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 17.0ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 16.9ms | ActiveRecord: 2.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/permanent_bonuses/new" for ::1 at 2025-10-13 20:36:35 +0300
Processing by Admin::PermanentBonusesController#new as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."project" FROM "bonuses" /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:38:in 'block (3 levels) in <main>'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:39:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 30.2ms | GC: 9.4ms)
Completed 200 OK in 35ms (Views: 30.3ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 9.4ms)


Started GET "/admin/projects" for ::1 at 2025-10-13 20:36:42 +0300
Processing by Admin::ProjectsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  [1m[36mBonus Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."project" FROM "bonuses" /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:4:in 'block (3 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 13.8ms | GC: 1.9ms)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 2.6ms)


Started GET "/admin/bonuses" for ::1 at 2025-10-13 20:36:47 +0300
Processing by Admin::BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 22.3ms | GC: 2.9ms)
Completed 200 OK in 27ms (Views: 22.4ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 3.6ms)


Started GET "/admin/permanent_bonuses" for ::1 at 2025-10-13 20:36:52 +0300
Processing by Admin::PermanentBonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mPermanentBonus Load (0.3ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" ORDER BY "permanent_bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 19.7ms | GC: 2.2ms)
Completed 200 OK in 23ms (Views: 19.5ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 2.8ms)


Started GET "/admin" for ::1 at 2025-10-13 20:37:25 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.7ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 18.2ms | GC: 1.5ms)
Completed 200 OK in 22ms (Views: 18.8ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 1.5ms)


Started GET "/" for ::1 at 2025-10-13 20:37:29 +0300
Processing by HomeController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 20:37:29 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.5ms)
Completed 200 OK in 10ms (Views: 5.5ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.0ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-10-13 20:37:31 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.6ms)
Completed 200 OK in 20ms (Views: 6.0ms | ActiveRecord: 2.5ms (13 queries, 0 cached) | GC: 0.9ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-10-13 20:58:53 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mAdminUser Load (10.9ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:169
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.2ms)
Completed 200 OK in 36ms (Views: 6.7ms | ActiveRecord: 18.6ms (13 queries, 0 cached) | GC: 1.3ms)


Started GET "/bonuses/new?dsl_tag=welcome_bonus&event=deposit&name=Welcome+Bonus" for ::1 at 2025-10-13 20:58:56 +0300
Processing by BonusesController#new as HTML
  Parameters: {"dsl_tag" => "welcome_bonus", "event" => "deposit", "name" => "Welcome Bonus"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='bonuses'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 4.1ms | GC: 0.1ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 15.5ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | GC: 0.3ms)
Completed 200 OK in 32ms (Views: 20.7ms | ActiveRecord: 1.9ms (2 queries, 0 cached) | GC: 0.3ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to CreateProjects (20251013180321)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_projects_on_name" ON "projects" ("name") /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "permanent_bonuses" ADD "project_id" bigint /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_permanent_bonuses_on_project_id" ON "permanent_bonuses" ("project_id") /*application='BMS'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "permanent_bonuses" ADD CONSTRAINT "fk_rails_9a71c52a89"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
 /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DISTINCT project FROM permanent_bonuses WHERE project IS NOT NULL /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "permanent_bonuses" DROP COLUMN "project" /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251013180321') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Started GET "/bonuses?project=ROX" for ::1 at 2025-10-13 21:17:48 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.3ms | GC: 0.0ms)
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 10.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.7ms | GC: 0.0ms)
Completed 200 OK in 59ms (Views: 26.4ms | ActiveRecord: 11.5ms (14 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/controllers/projects_dropdown_controller-498ad9f3d2ac9d87df9fbeed214d92ac4b9ade5c474125d45fcf3451b0c475ae.js" for ::1 at 2025-10-13 21:17:49 +0300
Started GET "/marketing" for ::1 at 2025-10-13 21:17:50 +0300
Processing by MarketingController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 7.1ms | ActiveRecord: 3.8ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/bonuses?project=All" for ::1 at 2025-10-13 21:17:51 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "All"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:92:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'All' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'All' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 6.1ms | ActiveRecord: 2.9ms (14 queries, 0 cached) | GC: 0.0ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to SeedProjectsFromBonuses (20251013182120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT DISTINCT project FROM bonuses WHERE project IS NOT NULL AND project != '' /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DISTINCT project FROM bonus_templates WHERE project IS NOT NULL AND project != '' AND project != 'All' /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251013182120') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Started GET "/bonuses" for ::1 at 2025-10-13 21:29:30 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mProject Load (0.6ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 7.2ms | GC: 0.4ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | GC: 2.3ms)
Completed 200 OK in 47ms (Views: 26.6ms | ActiveRecord: 5.4ms (6 queries, 1 cached) | GC: 3.7ms)


Started GET "/bonuses?project=All" for ::1 at 2025-10-13 21:29:30 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "All"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (1.0ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'All' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'All' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.2ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | GC: 0.2ms)
Completed 200 OK in 31ms (Views: 10.6ms | ActiveRecord: 5.4ms (15 queries, 1 cached) | GC: 0.6ms)


Started GET "/bonuses?project=All" for ::1 at 2025-10-13 21:29:31 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "All"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'All' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.2ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'All' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.3ms | GC: 0.2ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.4ms)
Completed 200 OK in 19ms (Views: 5.9ms | ActiveRecord: 2.7ms (15 queries, 1 cached) | GC: 0.8ms)


Started GET "/bonuses?project=All" for ::1 at 2025-10-13 21:29:33 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "All"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'All' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'All' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'All' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.1ms)
Completed 200 OK in 20ms (Views: 6.0ms | ActiveRecord: 2.7ms (15 queries, 1 cached) | GC: 0.9ms)


Started GET "/bonuses" for ::1 at 2025-10-13 21:29:47 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.2ms)
Completed 200 OK in 11ms (Views: 5.5ms | ActiveRecord: 1.1ms (6 queries, 1 cached) | GC: 0.2ms)


Started GET "/bonuses" for ::1 at 2025-10-13 21:29:47 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.2ms)
Completed 200 OK in 11ms (Views: 5.3ms | ActiveRecord: 1.2ms (6 queries, 1 cached) | GC: 0.3ms)


Started GET "/bonuses" for ::1 at 2025-10-13 21:29:48 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.8ms | GC: 0.2ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.2ms)
Completed 200 OK in 10ms (Views: 5.4ms | ActiveRecord: 1.0ms (6 queries, 1 cached) | GC: 0.2ms)


Started GET "/marketing" for ::1 at 2025-10-13 21:29:52 +0300
Processing by MarketingController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 7.1ms | ActiveRecord: 2.4ms (12 queries, 1 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 21:29:53 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 5.0ms | ActiveRecord: 0.9ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin/permanent_bonuses" for ::1 at 2025-10-13 21:29:55 +0300
Processing by Admin::PermanentBonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mPermanentBonus Load (0.4ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" ORDER BY "permanent_bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:42:in 'Enumerable#map'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:43:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 20.4ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 19.4ms | ActiveRecord: 2.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/permanent_bonuses/new" for ::1 at 2025-10-13 21:29:57 +0300
Processing by Admin::PermanentBonusesController#new as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:49:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 12.8ms | GC: 0.0ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method 'project_id' for an instance of PermanentBonus)
Caused by: NoMethodError (undefined method 'project_id' for an instance of PermanentBonus)

Information for: ActionView::Template::Error (undefined method 'project_id' for an instance of PermanentBonus):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:new)
  
app/admin/permanent_bonuses.rb:49:in 'block (3 levels) in <main>'
app/admin/permanent_bonuses.rb:48:in 'block (2 levels) in <main>'

Information for cause: NoMethodError (undefined method 'project_id' for an instance of PermanentBonus):
  
app/admin/permanent_bonuses.rb:49:in 'block (3 levels) in <main>'
app/admin/permanent_bonuses.rb:48:in 'block (2 levels) in <main>'
Started GET "/admin/projects" for ::1 at 2025-10-13 21:30:00 +0300
Processing by Admin::ProjectsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='projects'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 15.1ms | GC: 0.1ms)
Completed 200 OK in 19ms (Views: 15.3ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.1ms)


Started GET "/admin/projects/new" for ::1 at 2025-10-13 21:30:01 +0300
Processing by Admin::ProjectsController#new as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 11.3ms | GC: 0.1ms)
Completed 200 OK in 16ms (Views: 11.8ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.1ms)


Started POST "/admin/projects" for ::1 at 2025-10-13 21:30:10 +0300
Processing by Admin::ProjectsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "project" => {"name" => "VOLNA"}, "commit" => "Create Project"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='projects'*/[0m
  [1m[36mProject Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "projects" WHERE "projects"."name" = 'VOLNA' LIMIT 1 /*action='create',application='BMS',controller='projects'*/[0m
  [1m[36mProject Create (0.5ms)[0m  [1m[32mINSERT INTO "projects" ("name", "created_at", "updated_at") VALUES ('VOLNA', '2025-10-13 18:30:10.064704', '2025-10-13 18:30:10.064704') RETURNING "id" /*action='create',application='BMS',controller='projects'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='projects'*/[0m
Redirected to http://localhost:3000/admin/projects/1
Completed 302 Found in 12ms (ActiveRecord: 3.5ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/projects/1" for ::1 at 2025-10-13 21:30:10 +0300
Processing by Admin::ProjectsController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1 /*action='show',application='BMS',controller='projects'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mPermanentBonus Load (0.4ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 1 /*action='show',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:36:in 'block (3 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 25.1ms | GC: 0.2ms)
Completed 200 OK in 29ms (Views: 25.2ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin/permanent_bonuses" for ::1 at 2025-10-13 21:30:12 +0300
Processing by Admin::PermanentBonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" ORDER BY "permanent_bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:42:in 'Enumerable#map'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:43:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 31.2ms | GC: 11.5ms)
Completed 200 OK in 36ms (Views: 30.8ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 11.5ms)


Started GET "/admin/permanent_bonuses/new" for ::1 at 2025-10-13 21:30:14 +0300
Processing by Admin::PermanentBonusesController#new as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:49:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 15.4ms | GC: 3.3ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 3.8ms)


  
ActionView::Template::Error (undefined method 'project_id' for an instance of PermanentBonus)
Caused by: NoMethodError (undefined method 'project_id' for an instance of PermanentBonus)

Information for: ActionView::Template::Error (undefined method 'project_id' for an instance of PermanentBonus):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:new)
  
app/admin/permanent_bonuses.rb:49:in 'block (3 levels) in <main>'
app/admin/permanent_bonuses.rb:48:in 'block (2 levels) in <main>'

Information for cause: NoMethodError (undefined method 'project_id' for an instance of PermanentBonus):
  
app/admin/permanent_bonuses.rb:49:in 'block (3 levels) in <main>'
app/admin/permanent_bonuses.rb:48:in 'block (2 levels) in <main>'
Started GET "/admin/permanent_bonuses/new" for ::1 at 2025-10-13 21:50:59 +0300
Processing by Admin::PermanentBonusesController#new as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:49:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 16.0ms | GC: 0.0ms)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 3.2ms (2 queries, 0 cached) | GC: 2.2ms)


  
ActionView::Template::Error (undefined method 'project_id' for an instance of PermanentBonus)
Caused by: NoMethodError (undefined method 'project_id' for an instance of PermanentBonus)

Information for: ActionView::Template::Error (undefined method 'project_id' for an instance of PermanentBonus):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:new)
  
app/admin/permanent_bonuses.rb:49:in 'block (3 levels) in <main>'
app/admin/permanent_bonuses.rb:48:in 'block (2 levels) in <main>'

Information for cause: NoMethodError (undefined method 'project_id' for an instance of PermanentBonus):
  
app/admin/permanent_bonuses.rb:49:in 'block (3 levels) in <main>'
app/admin/permanent_bonuses.rb:48:in 'block (2 levels) in <main>'
Started GET "/admin/permanent_bonuses/new" for ::1 at 2025-10-13 21:51:04 +0300
Processing by Admin::PermanentBonusesController#new as HTML
  [1m[36mAdminUser Load (0.8ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:49:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 14.9ms | GC: 3.1ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 3.1ms)


  
ActionView::Template::Error (undefined method 'project_id' for an instance of PermanentBonus)
Caused by: NoMethodError (undefined method 'project_id' for an instance of PermanentBonus)

Information for: ActionView::Template::Error (undefined method 'project_id' for an instance of PermanentBonus):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:new)
  
app/admin/permanent_bonuses.rb:49:in 'block (3 levels) in <main>'
app/admin/permanent_bonuses.rb:48:in 'block (2 levels) in <main>'

Information for cause: NoMethodError (undefined method 'project_id' for an instance of PermanentBonus):
  
app/admin/permanent_bonuses.rb:49:in 'block (3 levels) in <main>'
app/admin/permanent_bonuses.rb:48:in 'block (2 levels) in <main>'
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to ConvertPermanentBonusesProjectToReference (20251013185151)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "permanent_bonuses" ADD "project_id" bigint /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Started GET "/admin/permanent_bonuses/new" for ::1 at 2025-10-13 21:53:54 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Processing by Admin::PermanentBonusesController#new as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  [1m[36mProject Load (0.5ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:49:in 'Enumerable#map'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:53:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 111.9ms | GC: 0.0ms)
Completed 200 OK in 146ms (Views: 114.2ms | ActiveRecord: 16.4ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/projects" for ::1 at 2025-10-13 21:54:09 +0300
Processing by Admin::ProjectsController#index as HTML
  [1m[36mAdminUser Load (1.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='projects'*/[0m
  [1m[36mPermanentBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 25.6ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 25.4ms | ActiveRecord: 2.2ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/projects/new" for ::1 at 2025-10-13 21:54:11 +0300
Processing by Admin::ProjectsController#new as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 35.8ms | GC: 22.2ms)
Completed 200 OK in 39ms (Views: 36.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 22.2ms)


Started POST "/admin/projects" for ::1 at 2025-10-13 21:54:17 +0300
Processing by Admin::ProjectsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "project" => {"name" => "ROX"}, "commit" => "Create Project"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='projects'*/[0m
  [1m[36mProject Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "projects" WHERE "projects"."name" = 'ROX' LIMIT 1 /*action='create',application='BMS',controller='projects'*/[0m
  [1m[36mProject Create (0.4ms)[0m  [1m[32mINSERT INTO "projects" ("name", "created_at", "updated_at") VALUES ('ROX', '2025-10-13 18:54:17.825411', '2025-10-13 18:54:17.825411') RETURNING "id" /*action='create',application='BMS',controller='projects'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='projects'*/[0m
Redirected to http://localhost:3000/admin/projects/2
Completed 302 Found in 14ms (ActiveRecord: 3.6ms (3 queries, 0 cached) | GC: 0.8ms)


Started GET "/admin/projects/2" for ::1 at 2025-10-13 21:54:17 +0300
Processing by Admin::ProjectsController#show as HTML
  Parameters: {"id" => "2"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1 /*action='show',application='BMS',controller='projects'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 2 /*action='show',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:36:in 'block (3 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 14.6ms | GC: 1.1ms)
Completed 200 OK in 20ms (Views: 15.0ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 1.6ms)


Started GET "/admin/projects" for ::1 at 2025-10-13 21:54:19 +0300
Processing by Admin::ProjectsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='projects'*/[0m
  [1m[36mPermanentBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 2 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  [1m[36mPermanentBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 21.9ms | GC: 0.6ms)
Completed 200 OK in 25ms (Views: 21.5ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/admin/projects/new" for ::1 at 2025-10-13 21:54:21 +0300
Processing by Admin::ProjectsController#new as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 12.8ms | GC: 1.2ms)
Completed 200 OK in 16ms (Views: 13.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 1.3ms)


Started POST "/admin/projects" for ::1 at 2025-10-13 21:54:24 +0300
Processing by Admin::ProjectsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "project" => {"name" => "FRESH"}, "commit" => "Create Project"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='projects'*/[0m
  [1m[36mProject Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "projects" WHERE "projects"."name" = 'FRESH' LIMIT 1 /*action='create',application='BMS',controller='projects'*/[0m
  [1m[36mProject Create (0.2ms)[0m  [1m[32mINSERT INTO "projects" ("name", "created_at", "updated_at") VALUES ('FRESH', '2025-10-13 18:54:24.981038', '2025-10-13 18:54:24.981038') RETURNING "id" /*action='create',application='BMS',controller='projects'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='projects'*/[0m
Redirected to http://localhost:3000/admin/projects/3
Completed 302 Found in 9ms (ActiveRecord: 2.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/projects/3" for ::1 at 2025-10-13 21:54:24 +0300
Processing by Admin::ProjectsController#show as HTML
  Parameters: {"id" => "3"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1 /*action='show',application='BMS',controller='projects'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 3 /*action='show',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:36:in 'block (3 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 12.5ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 12.7ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/projects" for ::1 at 2025-10-13 21:54:27 +0300
Processing by Admin::ProjectsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='projects'*/[0m
  [1m[36mPermanentBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 3 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  [1m[36mPermanentBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 2 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  [1m[36mPermanentBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 23.5ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 22.8ms | ActiveRecord: 1.4ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/projects/new" for ::1 at 2025-10-13 21:54:28 +0300
Processing by Admin::ProjectsController#new as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 11.6ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 11.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/admin/projects" for ::1 at 2025-10-13 21:54:32 +0300
Processing by Admin::ProjectsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "project" => {"name" => "SOL"}, "commit" => "Create Project"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='projects'*/[0m
  [1m[36mProject Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "projects" WHERE "projects"."name" = 'SOL' LIMIT 1 /*action='create',application='BMS',controller='projects'*/[0m
  [1m[36mProject Create (0.7ms)[0m  [1m[32mINSERT INTO "projects" ("name", "created_at", "updated_at") VALUES ('SOL', '2025-10-13 18:54:32.323656', '2025-10-13 18:54:32.323656') RETURNING "id" /*action='create',application='BMS',controller='projects'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='projects'*/[0m
Redirected to http://localhost:3000/admin/projects/4
Completed 302 Found in 11ms (ActiveRecord: 3.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/projects/4" for ::1 at 2025-10-13 21:54:32 +0300
Processing by Admin::ProjectsController#show as HTML
  Parameters: {"id" => "4"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='show',application='BMS',controller='projects'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mPermanentBonus Load (0.3ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='show',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:36:in 'block (3 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 14.8ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 15.3ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 21:54:34 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 5.3ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 26.4ms | ActiveRecord: 3.7ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-10-13 21:54:39 +0300
Processing by HomeController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 4ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 21:54:39 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 6.2ms | ActiveRecord: 0.9ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 21:54:39 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 6.5ms | ActiveRecord: 1.3ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=3" for ::1 at 2025-10-13 21:54:49 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "3"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 8.2ms | ActiveRecord: 3.7ms (17 queries, 2 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=2" for ::1 at 2025-10-13 21:54:50 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "2"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 6.8ms | ActiveRecord: 3.2ms (17 queries, 2 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 21:54:50 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 6.5ms | ActiveRecord: 2.5ms (17 queries, 2 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=3" for ::1 at 2025-10-13 21:54:54 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "3"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | GC: 18.3ms)
Completed 200 OK in 48ms (Views: 28.6ms | ActiveRecord: 3.2ms (17 queries, 2 cached) | GC: 18.3ms)


Started GET "/bonuses?project_id=3" for ::1 at 2025-10-13 21:57:08 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "3"}
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | GC: 1.8ms)
Completed 200 OK in 57ms (Views: 25.6ms | ActiveRecord: 8.8ms (17 queries, 2 cached) | GC: 2.9ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 21:57:09 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.2ms)
Completed 200 OK in 21ms (Views: 5.8ms | ActiveRecord: 3.2ms (17 queries, 2 cached) | GC: 0.7ms)


Started GET "/bonuses" for ::1 at 2025-10-13 21:57:10 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.3ms)
Completed 200 OK in 12ms (Views: 7.1ms | ActiveRecord: 1.0ms (6 queries, 1 cached) | GC: 0.4ms)


Started GET "/bonuses?project_id=3" for ::1 at 2025-10-13 21:57:11 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "3"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.2ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.2ms)
Completed 200 OK in 19ms (Views: 5.3ms | ActiveRecord: 2.7ms (17 queries, 2 cached) | GC: 0.4ms)


  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_heatmap_data.rake:10:in 'block (2 levels) in <main>'
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_heatmap_data.rake:10:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.4ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('Test Deposit Bonus 0701-1', NULL, 'active', NULL, NULL, NULL, NULL, '2025-07-01 00:00:00', '2025-07-01 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', NULL, NULL, '2025-10-13 18:58:55.567593', '2025-10-13 18:58:55.567593', 'All', NULL, 'deposit', '["USD"]', NULL, NULL, NULL, NULL, NULL, 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  â†³ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mProject Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "projects" LIMIT 1 /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:9:in 'block (2 levels) in <main>'
  [1m[36mProject Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:14:in 'block (2 levels) in <main>'
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:21:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.9ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('VOLNA - Deposit Bonus', 'VOLN_DEPOSIT_17603820050', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.379433', '2025-11-12 19:00:05.379456', 'All', 'test, volna', 'US', NULL, NULL, '2025-10-13 19:00:05.418355', '2025-10-13 19:00:05.418355', 'VOLNA', NULL, 'deposit', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test deposit bonus for VOLNA', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('VOLNA - Input coupon Bonus', 'VOLN_INPUT_COUPON_17603820051', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.424428', '2025-11-12 19:00:05.424439', 'All', 'test, volna', 'US', NULL, NULL, '2025-10-13 19:00:05.425095', '2025-10-13 19:00:05.425095', 'VOLNA', NULL, 'input_coupon', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test input_coupon bonus for VOLNA', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('VOLNA - Manual Bonus', 'VOLN_MANUAL_17603820052', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.429768', '2025-11-12 19:00:05.429781', 'All', 'test, volna', 'US', NULL, NULL, '2025-10-13 19:00:05.430706', '2025-10-13 19:00:05.430706', 'VOLNA', NULL, 'manual', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test manual bonus for VOLNA', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.7ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('VOLNA - Collection Bonus', 'VOLN_COLLECTION_17603820053', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.434848', '2025-11-12 19:00:05.434859', 'All', 'test, volna', 'US', NULL, NULL, '2025-10-13 19:00:05.435617', '2025-10-13 19:00:05.435617', 'VOLNA', NULL, 'collection', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test collection bonus for VOLNA', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('VOLNA - Scheduler Bonus', 'VOLN_SCHEDULER_17603820054', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.439682', '2025-11-12 19:00:05.439689', 'All', 'test, volna', 'US', NULL, NULL, '2025-10-13 19:00:05.440262', '2025-10-13 19:00:05.440262', 'VOLNA', NULL, 'scheduler', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test scheduler bonus for VOLNA', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.6ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('ROX - Deposit Bonus', 'ROX_DEPOSIT_17603820050', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.445315', '2025-11-12 19:00:05.445327', 'All', 'test, rox', 'US', NULL, NULL, '2025-10-13 19:00:05.446179', '2025-10-13 19:00:05.446179', 'ROX', NULL, 'deposit', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test deposit bonus for ROX', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('ROX - Input coupon Bonus', 'ROX_INPUT_COUPON_17603820051', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.451120', '2025-11-12 19:00:05.451133', 'All', 'test, rox', 'US', NULL, NULL, '2025-10-13 19:00:05.452529', '2025-10-13 19:00:05.452529', 'ROX', NULL, 'input_coupon', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test input_coupon bonus for ROX', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('ROX - Manual Bonus', 'ROX_MANUAL_17603820052', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.457071', '2025-11-12 19:00:05.457081', 'All', 'test, rox', 'US', NULL, NULL, '2025-10-13 19:00:05.457672', '2025-10-13 19:00:05.457672', 'ROX', NULL, 'manual', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test manual bonus for ROX', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('ROX - Collection Bonus', 'ROX_COLLECTION_17603820053', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.461864', '2025-11-12 19:00:05.461875', 'All', 'test, rox', 'US', NULL, NULL, '2025-10-13 19:00:05.462613', '2025-10-13 19:00:05.462613', 'ROX', NULL, 'collection', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test collection bonus for ROX', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('ROX - Scheduler Bonus', 'ROX_SCHEDULER_17603820054', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.466888', '2025-11-12 19:00:05.466902', 'All', 'test, rox', 'US', NULL, NULL, '2025-10-13 19:00:05.467724', '2025-10-13 19:00:05.467724', 'ROX', NULL, 'scheduler', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test scheduler bonus for ROX', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('FRESH - Deposit Bonus', 'FRES_DEPOSIT_17603820050', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.472080', '2025-11-12 19:00:05.472093', 'All', 'test, fresh', 'US', NULL, NULL, '2025-10-13 19:00:05.472719', '2025-10-13 19:00:05.472719', 'FRESH', NULL, 'deposit', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test deposit bonus for FRESH', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('FRESH - Input coupon Bonus', 'FRES_INPUT_COUPON_17603820051', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.476059', '2025-11-12 19:00:05.476068', 'All', 'test, fresh', 'US', NULL, NULL, '2025-10-13 19:00:05.476670', '2025-10-13 19:00:05.476670', 'FRESH', NULL, 'input_coupon', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test input_coupon bonus for FRESH', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('FRESH - Manual Bonus', 'FRES_MANUAL_17603820052', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.480239', '2025-11-12 19:00:05.480248', 'All', 'test, fresh', 'US', NULL, NULL, '2025-10-13 19:00:05.480837', '2025-10-13 19:00:05.480837', 'FRESH', NULL, 'manual', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test manual bonus for FRESH', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('FRESH - Collection Bonus', 'FRES_COLLECTION_17603820053', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.484415', '2025-11-12 19:00:05.484422', 'All', 'test, fresh', 'US', NULL, NULL, '2025-10-13 19:00:05.484962', '2025-10-13 19:00:05.484962', 'FRESH', NULL, 'collection', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test collection bonus for FRESH', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('FRESH - Scheduler Bonus', 'FRES_SCHEDULER_17603820054', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.489068', '2025-11-12 19:00:05.489078', 'All', 'test, fresh', 'US', NULL, NULL, '2025-10-13 19:00:05.489715', '2025-10-13 19:00:05.489715', 'FRESH', NULL, 'scheduler', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test scheduler bonus for FRESH', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.5ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('SOL - Deposit Bonus', 'SOL_DEPOSIT_17603820050', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.493960', '2025-11-12 19:00:05.493973', 'All', 'test, sol', 'US', NULL, NULL, '2025-10-13 19:00:05.494843', '2025-10-13 19:00:05.494843', 'SOL', NULL, 'deposit', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test deposit bonus for SOL', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('SOL - Input coupon Bonus', 'SOL_INPUT_COUPON_17603820051', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.499668', '2025-11-12 19:00:05.499693', 'All', 'test, sol', 'US', NULL, NULL, '2025-10-13 19:00:05.500774', '2025-10-13 19:00:05.500774', 'SOL', NULL, 'input_coupon', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test input_coupon bonus for SOL', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('SOL - Manual Bonus', 'SOL_MANUAL_17603820052', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.504409', '2025-11-12 19:00:05.504416', 'All', 'test, sol', 'US', NULL, NULL, '2025-10-13 19:00:05.504975', '2025-10-13 19:00:05.504975', 'SOL', NULL, 'manual', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test manual bonus for SOL', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('SOL - Collection Bonus', 'SOL_COLLECTION_17603820053', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.508297', '2025-11-12 19:00:05.508308', 'All', 'test, sol', 'US', NULL, NULL, '2025-10-13 19:00:05.509025', '2025-10-13 19:00:05.509025', 'SOL', NULL, 'collection', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test collection bonus for SOL', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (1.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description", "maximum_winnings_type") VALUES ('SOL - Scheduler Bonus', 'SOL_SCHEDULER_17603820054', 'active', NULL, NULL, 5000.0, NULL, '2025-10-13 19:00:05.513087', '2025-11-12 19:00:05.513104', 'All', 'test, sol', 'US', NULL, NULL, '2025-10-13 19:00:05.514058', '2025-10-13 19:00:05.514058', 'SOL', NULL, 'scheduler', '["USD","EUR","BTC"]', NULL, NULL, NULL, NULL, 'Test scheduler bonus for SOL', 'fixed') RETURNING "id" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:29:in 'block (4 levels) in <main>'
  [1m[36mProject Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" /*application='BMS'*/[0m
  â†³ lib/tasks/create_bonuses_for_projects.rake:55:in 'block (2 levels) in <main>'
Started GET "/bonuses?project_id=3" for ::1 at 2025-10-13 22:00:34 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "3"}
  [1m[36mAdminUser Load (0.7ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.4ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 84.8ms | GC: 17.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 90.0ms | GC: 18.9ms)
Completed 200 OK in 110ms (Views: 77.3ms | ActiveRecord: 16.3ms (25 queries, 2 cached) | GC: 22.2ms)


Started GET "/bonuses/12" for ::1 at 2025-10-13 22:00:38 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "12"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 12 LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:1287:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 12 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:145:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 12 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:145:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 12 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:145:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 12 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:145:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 12 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:145:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 12 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:145:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 12 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:145:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 14.7ms | GC: 6.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 19.5ms | GC: 7.7ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | GC: 9.2ms)
Completed 200 OK in 32ms (Views: 23.3ms | ActiveRecord: 2.1ms (11 queries, 0 cached) | GC: 12.0ms)


Started GET "/bonuses?project_id=3" for ::1 at 2025-10-13 22:00:45 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "3"}
  [1m[36mAdminUser Load (1.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 16.1ms | GC: 1.3ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | GC: 1.7ms)
Completed 200 OK in 46ms (Views: 17.5ms | ActiveRecord: 5.9ms (25 queries, 2 cached) | GC: 11.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:00:47 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.6ms | GC: 2.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:75
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | GC: 2.0ms)
Completed 200 OK in 30ms (Views: 23.5ms | ActiveRecord: 2.6ms (14 queries, 1 cached) | GC: 2.4ms)


Started GET "/admin/projects/4" for ::1 at 2025-10-13 22:01:29 +0300
Processing by Admin::ProjectsController#show as HTML
  Parameters: {"id" => "4"}
  [1m[36mAdminUser Load (0.9ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='show',application='BMS',controller='projects'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mPermanentBonus Load (0.3ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='show',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:36:in 'block (3 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 24.7ms | GC: 2.7ms)
Completed 200 OK in 34ms (Views: 24.4ms | ActiveRecord: 3.5ms (3 queries, 0 cached) | GC: 2.7ms)


Started GET "/admin/permanent_bonuses" for ::1 at 2025-10-13 22:01:30 +0300
Processing by Admin::PermanentBonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mPermanentBonus Load (0.3ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" ORDER BY "permanent_bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:42:in 'Enumerable#map'
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:43:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 36.0ms | GC: 3.7ms)
Completed 200 OK in 41ms (Views: 36.2ms | ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 4.1ms)


Started GET "/admin/permanent_bonuses/new" for ::1 at 2025-10-13 22:01:32 +0300
Processing by Admin::PermanentBonusesController#new as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:49:in 'Enumerable#map'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:53:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 22.3ms | GC: 1.2ms)
Completed 200 OK in 30ms (Views: 22.8ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 1.5ms)


Started POST "/admin/permanent_bonuses" for ::1 at 2025-10-13 22:02:23 +0300
Processing by Admin::PermanentBonusesController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "permanent_bonus" => {"project_id" => "4", "bonus_id" => "17"}, "commit" => "Create Permanent bonus"}
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 LIMIT 1 /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mPermanentBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "permanent_bonuses" WHERE "permanent_bonuses"."bonus_id" = 17 AND "permanent_bonuses"."project_id" = 4 LIMIT 1 /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mPermanentBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "permanent_bonuses" ("bonus_id", "created_at", "updated_at", "project_id") VALUES (17, '2025-10-13 19:02:23.853847', '2025-10-13 19:02:23.853847', 4) RETURNING "id" /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
Redirected to http://localhost:3000/admin/permanent_bonuses/1
Completed 302 Found in 48ms (ActiveRecord: 11.8ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/permanent_bonuses/1" for ::1 at 2025-10-13 22:02:23 +0300
Processing by Admin::PermanentBonusesController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mProject Load (0.5ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:32:in 'block (4 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 18.4ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 18.6ms | ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=2" for ::1 at 2025-10-13 22:02:26 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "2"}
  [1m[36mAdminUser Load (1.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/views/bonuses/_permanent_bonus_previews.html.erb:6
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 3.2ms | GC: 0.0ms)
  [1m[36mProject Load (1.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (2.0ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 70.7ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 123.3ms | GC: 26.4ms)
Completed 200 OK in 170ms (Views: 104.1ms | ActiveRecord: 28.2ms (27 queries, 4 cached) | GC: 26.4ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:02:26 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (1.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (1.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mCACHE Project Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/bonuses/_permanent_bonus_previews.html.erb:6
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 4.6ms | GC: 0.6ms)
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.4ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.4ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.9ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (1.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 31.7ms | GC: 3.2ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 36.3ms | GC: 3.2ms)
Completed 200 OK in 60ms (Views: 32.5ms | ActiveRecord: 9.6ms (27 queries, 4 cached) | GC: 3.7ms)


  [1m[36mProject Pluck (0.3ms)[0m  [1m[34mSELECT "projects"."name" FROM "projects" /*application='BMS'*/[0m
Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:02:28 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/bonuses/_permanent_bonus_previews.html.erb:6
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.3ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 16.8ms | GC: 1.4ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | GC: 1.4ms)
Completed 200 OK in 39ms (Views: 19.5ms | ActiveRecord: 5.0ms (27 queries, 4 cached) | GC: 2.6ms)


Started GET "/" for ::1 at 2025-10-13 22:02:29 +0300
Processing by HomeController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 4ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:02:29 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (1.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 38.8ms | GC: 1.2ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 42.4ms | GC: 1.2ms)
Completed 200 OK in 48ms (Views: 39.6ms | ActiveRecord: 4.1ms (14 queries, 1 cached) | GC: 1.2ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:02:39 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.8ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (1.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 36.0ms | GC: 1.5ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 39.5ms | GC: 1.5ms)
Completed 200 OK in 46ms (Views: 36.0ms | ActiveRecord: 5.2ms (14 queries, 1 cached) | GC: 1.5ms)


Started GET "/bonuses?project_id=3" for ::1 at 2025-10-13 22:02:40 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "3"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (2.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/views/bonuses/_permanent_bonus_previews.html.erb:6
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.4ms | GC: 0.0ms)
  [1m[36mProject Load (0.5ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (1.4ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (1.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 28.5ms | GC: 0.6ms)
  [1m[36mCACHE Project Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 34.9ms | GC: 0.6ms)
Completed 200 OK in 63ms (Views: 30.6ms | ActiveRecord: 11.4ms (27 queries, 4 cached) | GC: 1.0ms)


Started GET "/bonuses?project_id=2" for ::1 at 2025-10-13 22:02:40 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "2"}
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/views/bonuses/_permanent_bonus_previews.html.erb:6
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.6ms | GC: 0.0ms)
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.7ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | GC: 0.0ms)
Completed 200 OK in 44ms (Views: 21.8ms | ActiveRecord: 5.9ms (27 queries, 4 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=3" for ::1 at 2025-10-13 22:02:40 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "3"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/views/bonuses/_permanent_bonus_previews.html.erb:6
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.6ms | GC: 0.0ms)
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 15.5ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 18.1ms | ActiveRecord: 4.4ms (27 queries, 4 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=2" for ::1 at 2025-10-13 22:02:42 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "2"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (2.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/views/bonuses/_permanent_bonus_previews.html.erb:6
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.6ms | GC: 0.0ms)
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.6ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 24.1ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 28.7ms | GC: 0.0ms)
Completed 200 OK in 62ms (Views: 26.1ms | ActiveRecord: 10.6ms (27 queries, 4 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=1" for ::1 at 2025-10-13 22:02:43 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "1"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  â†³ app/views/bonuses/_permanent_bonus_previews.html.erb:6
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.7ms | GC: 0.0ms)
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 27.2ms | GC: 1.9ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 31.6ms | GC: 1.9ms)
Completed 200 OK in 67ms (Views: 29.4ms | ActiveRecord: 7.3ms (27 queries, 4 cached) | GC: 12.1ms)


  [1m[36mProject Load (9.6ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*application='BMS'*/[0m
  [1m[36mProject Load (0.8ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."name" = 'VOLNA' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*application='BMS'*/[0m
Started GET "/bonuses" for ::1 at 2025-10-13 22:03:17 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (1.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 25.2ms | GC: 2.3ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | GC: 2.6ms)
Completed 200 OK in 33ms (Views: 25.4ms | ActiveRecord: 3.9ms (14 queries, 1 cached) | GC: 2.6ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:03:22 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.9ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.7ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 32.4ms | GC: 3.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 37.2ms | GC: 3.6ms)
Completed 200 OK in 61ms (Views: 34.7ms | ActiveRecord: 5.6ms (14 queries, 1 cached) | GC: 4.2ms)


Started GET "/bonuses?type=&status=&search=&project_id=1&dsl_tag=&commit=Filter" for ::1 at 2025-10-13 22:03:31 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "", "search" => "", "project_id" => "1", "dsl_tag" => "", "commit" => "Filter"}
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mCACHE Project Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  â†³ app/views/bonuses/_permanent_bonus_previews.html.erb:6
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 2.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 45.4ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 63.8ms | GC: 0.0ms)
Completed 200 OK in 96ms (Views: 53.1ms | ActiveRecord: 20.0ms (27 queries, 4 cached) | GC: 0.8ms)


Started GET "/bonuses?project_id=3" for ::1 at 2025-10-13 22:03:42 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "3"}
  [1m[36mAdminUser Load (0.7ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/views/bonuses/_permanent_bonus_previews.html.erb:6
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.3ms | GC: 0.0ms)
  [1m[36mProject Load (0.5ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (16, 15, 14, 13, 12) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 26.3ms | GC: 9.8ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 3 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.8ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 31.6ms | GC: 10.5ms)
Completed 200 OK in 46ms (Views: 29.8ms | ActiveRecord: 5.1ms (27 queries, 4 cached) | GC: 10.5ms)


Started GET "/bonuses?project_id=2" for ::1 at 2025-10-13 22:03:42 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "2"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:89:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:76:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/views/bonuses/_permanent_bonus_previews.html.erb:6
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.8ms | GC: 0.6ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.7ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.9ms | GC: 1.7ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | GC: 2.1ms)
Completed 200 OK in 37ms (Views: 19.6ms | ActiveRecord: 4.8ms (27 queries, 4 cached) | GC: 2.7ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-10-13 22:04:00 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/turbo.min.js-c24bd7b6c8385de986e1594010354afea50ec32ff67eacee1ac1150f2ed08f8f.map" for ::1 at 2025-10-13 22:04:00 +0300
Started GET "/assets/stimulus.min.js-2cc63625fa177963b45da974806e7aee846cbf1d4930815733d0fdf3fb232325.map" for ::1 at 2025-10-13 22:04:00 +0300
Started GET "/bonuses?project_id=2" for ::1 at 2025-10-13 22:12:24 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "2"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.7ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mBonus Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:68:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:56:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:148
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusReward Load (0.5ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusBuyReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusCodeReward Load (0.6ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 38.7ms | GC: 4.9ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 66.5ms | GC: 11.8ms)
Completed 200 OK in 93ms (Views: 64.2ms | ActiveRecord: 7.8ms (16 queries, 2 cached) | GC: 13.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-10-13 22:12:25 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:12:28 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:68:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:56:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:148
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.6ms | GC: 6.4ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 30.7ms | GC: 9.8ms)
Completed 200 OK in 38ms (Views: 28.9ms | ActiveRecord: 3.0ms (16 queries, 2 cached) | GC: 10.6ms)


Started GET "/admin/permanent_bonuses/1" for ::1 at 2025-10-13 22:12:33 +0300
Processing by Admin::PermanentBonusesController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:32:in 'block (4 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 19.2ms | GC: 2.5ms)
Completed 200 OK in 34ms (Views: 20.0ms | ActiveRecord: 5.3ms (4 queries, 0 cached) | GC: 4.9ms)


Started GET "/admin/permanent_bonuses" for ::1 at 2025-10-13 22:12:35 +0300
Processing by Admin::PermanentBonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" ORDER BY "permanent_bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:8:in 'block (3 levels) in <main>'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 LIMIT 1 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:15:in 'block (3 levels) in <main>'
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:42:in 'Enumerable#map'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:43:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 32.8ms | GC: 4.7ms)
Completed 200 OK in 37ms (Views: 32.0ms | ActiveRecord: 1.6ms (6 queries, 0 cached) | GC: 5.4ms)


Started GET "/bonuses?project_id=2" for ::1 at 2025-10-13 22:12:39 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "2"}
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mBonus Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:68:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:56:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:148
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusBuyReward Load (0.5ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreechipReward Load (0.4ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusCodeReward Load (1.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mMaterialPrizeReward Load (4.0ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (11, 10, 9, 8, 7) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 37.6ms | GC: 2.5ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 2 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 45.1ms | GC: 2.5ms)
Completed 200 OK in 58ms (Views: 41.4ms | ActiveRecord: 7.5ms (16 queries, 2 cached) | GC: 2.9ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:12:39 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:68:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:56:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:148
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mCompPointReward Load (0.4ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.4ms | GC: 0.9ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | GC: 1.9ms)
Completed 200 OK in 25ms (Views: 17.5ms | ActiveRecord: 2.8ms (16 queries, 2 cached) | GC: 1.9ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:12:40 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.8ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:68:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:56:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:148
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mCompPointReward Load (0.8ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.0ms | GC: 1.4ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | GC: 1.4ms)
Completed 200 OK in 28ms (Views: 18.2ms | ActiveRecord: 3.8ms (16 queries, 2 cached) | GC: 1.4ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:12:41 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:68:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:56:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:148
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 15.0ms | GC: 1.7ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | GC: 2.3ms)
Completed 200 OK in 26ms (Views: 17.4ms | ActiveRecord: 2.6ms (16 queries, 2 cached) | GC: 2.9ms)


  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."name" = 'SOL' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mPermanentBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*application='BMS'*/[0m
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*application='BMS'*/[0m
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*application='BMS'*/[0m
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 3 /*application='BMS'*/[0m
Started GET "/bonuses" for ::1 at 2025-10-13 22:13:31 +0300
Processing by BonusesController#index as HTML
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-10-13 22:13:31 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 9.9ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | GC: 1.1ms)
Completed 200 OK in 23ms (Views: 16.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.1ms)


Started GET "/assets/app-b3c6f43e8c7fa281ae162381f084d19ba0488598365d6c1a9c2cd2487ab9be44.css" for ::1 at 2025-10-13 22:13:31 +0300
Started GET "/assets/application-37f365cbecf1fa2810a8303f4b6571676fa1f9c56c248528bc14ddb857531b95.js" for ::1 at 2025-10-13 22:13:31 +0300
Started GET "/assets/turbo.min-38d030897e3554a265d3a3b6bdf4fb7509b08197ba2b6e3761683c07e776c1bc.js" for ::1 at 2025-10-13 22:13:31 +0300
Started GET "/assets/controllers/bonus_template_controller-831395872f4c8bdf0024aa7affa4db5475d1049e8b2928f7b8ed94a9b398d060.js" for ::1 at 2025-10-13 22:13:31 +0300
Started GET "/assets/controllers/currency_controller-dd12cb04b7dec9c24df1e09bf11d75fd5bce22088cef39a96e8a971fd8f9d479.js" for ::1 at 2025-10-13 22:13:31 +0300
Started GET "/assets/controllers/index-31a9bee606cbc5cdb1593881f388bbf4c345bf693ea24e124f84b6d5c98ab648.js" for ::1 at 2025-10-13 22:13:31 +0300
Started GET "/assets/controllers/projects_dropdown_controller-498ad9f3d2ac9d87df9fbeed214d92ac4b9ade5c474125d45fcf3451b0c475ae.js" for ::1 at 2025-10-13 22:13:31 +0300
Started GET "/assets/controllers/settings_dropdown_controller-68128be27d6301f36d2e1ba254a84805833d0dc32892779809fc99478f227e60.js" for ::1 at 2025-10-13 22:13:31 +0300
Started GET "/assets/stimulus.min-dd364f16ec9504dfb72672295637a1c8838773b01c0b441bd41008124c407894.js" for ::1 at 2025-10-13 22:13:32 +0300
Started GET "/assets/stimulus-loading-3576ce92b149ad5d6959438c6f291e2426c86df3b874c525b30faad51b0d96b3.js" for ::1 at 2025-10-13 22:13:32 +0300
Started GET "/assets/controllers/application-368d98631bccbf2349e0d4f8269afb3fe9625118341966de054759d96ea86c7e.js" for ::1 at 2025-10-13 22:13:32 +0300
Started POST "/users/sign_in" for ::1 at 2025-10-13 22:13:38 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: test@example.com
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: false
Authenticity token from form: N5eC2GjvoOJpIU6HYbKKklyhOZ_NJ4SQwt8PBiVNQnO-WAec9gQcxiouMdOhJnB8vsj4bMky2ra59YBCCsCOVg
Session token: -qa9gZw4VNKp8Vy6E5Xnh5e9BFcz6673WESDiyn7lFo
Form authenticity token valid: false
Completed 401 Unauthorized in 15ms (ActiveRecord: 3.9ms (2 queries, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 218ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name", "role", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "created_at", "updated_at") VALUES ('test@example.com', '$2a$12$NSWH9hl5pn/3iG2Fz6L1ReHeCvvJEMynpSd/5rCpc2AN9YWmZUq5K', 'Test', 'User', 3, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, '2025-10-13 19:13:47.321529', '2025-10-13 19:13:47.321529') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Started POST "/users/sign_in" for ::1 at 2025-10-13 22:13:53 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: test@example.com
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: VfYy2b1YAJ2f7Tjgsc-AAo2t0qOBty-KGtFsKOJKlk7cObedI7O8udziR7RxW3rsb8QTUIWicaxh--Nszcdaaw
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 225ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:13:53 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:68:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:56:in 'Enumerable#map'
  [1m[36mBonus Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:148
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.2ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 22.3ms | ActiveRecord: 5.2ms (13 queries, 1 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:14:08 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:68:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:56:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:148
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreechipReward Load (1.8ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.8ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 24.8ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 21.8ms | ActiveRecord: 6.7ms (15 queries, 2 cached) | GC: 0.0ms)


Started GET "/bonuses/17" for ::1 at 2025-10-13 22:14:32 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "17"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:1279:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 17 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 17 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 17 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (2.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 17 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 17 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 17 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 17 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 14.7ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 18.2ms | GC: 0.0ms)
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 21.2ms | ActiveRecord: 5.5ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:16:19 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Count (4.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:56:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:148
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusBuyReward Load (2.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:167
  Rendered bonuses/index.html.erb within layouts/application (Duration: 57.7ms | GC: 3.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 83.6ms | GC: 6.8ms)
Completed 200 OK in 135ms (Views: 66.2ms | ActiveRecord: 35.3ms (19 queries, 3 cached) | GC: 11.4ms)


Started GET "/bonuses/21" for ::1 at 2025-10-13 22:16:22 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "21"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 21 LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:1295:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 21 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 21 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 21 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 21 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 21 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 21 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.8ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 21 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 11.2ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 14.8ms | GC: 0.0ms)
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 17.4ms | ActiveRecord: 2.8ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing" for ::1 at 2025-10-13 22:16:24 +0300
Processing by MarketingController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 18.8ms | GC: 0.0ms)
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | GC: 0.0ms)
Completed 200 OK in 45ms (Views: 24.2ms | ActiveRecord: 5.0ms (12 queries, 1 cached) | GC: 0.0ms)


  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."name" = 'SOL' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mPermanentBonus Load (0.4ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 ORDER BY "permanent_bonuses"."id" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 LIMIT 1 /*application='BMS'*/[0m
Started GET "/" for 127.0.0.1 at 2025-10-13 22:17:18 +0300
Processing by HomeController#index as */*
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:17:24 +0300
Processing by BonusesController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-10-13 22:17:24 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 40.6ms | GC: 11.0ms)
Completed 200 OK in 57ms (Views: 45.8ms | ActiveRecord: 3.1ms (0 queries, 0 cached) | GC: 12.4ms)


Started POST "/users/sign_in" for ::1 at 2025-10-13 22:17:31 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: test@example.com
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: wQA0tSFqkIFUBiZMadFRpEQ6TKezeSWDiBngGBRh5fB3DgjZZQ4rR97clnIZAR32HEU3hOOfS_SqpR_lxkJLqg
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 221ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:17:31 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 61.4ms | GC: 2.4ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 64.7ms | GC: 2.6ms)
Completed 200 OK in 85ms (Views: 48.7ms | ActiveRecord: 19.8ms (13 queries, 1 cached) | GC: 3.4ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:17:43 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.5ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 12.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 32.7ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 38.1ms | GC: 0.0ms)
Completed 200 OK in 54ms (Views: 34.3ms | ActiveRecord: 7.3ms (25 queries, 3 cached) | GC: 0.1ms)


Started GET "/marketing" for ::1 at 2025-10-13 22:18:01 +0300
Processing by MarketingController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 8.8ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 12.3ms | ActiveRecord: 5.7ms (12 queries, 1 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:18:02 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.7ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mPermanentBonus Load (0.3ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (1.5ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 11.7ms | GC: 0.0ms)
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (1.5ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 33.7ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 40.1ms | GC: 0.0ms)
Completed 200 OK in 57ms (Views: 34.4ms | ActiveRecord: 9.3ms (26 queries, 3 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-10-13 22:18:13 +0300
Processing by HomeController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:18:13 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 30.4ms | GC: 9.2ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | GC: 9.7ms)
Completed 200 OK in 38ms (Views: 32.4ms | ActiveRecord: 2.4ms (14 queries, 1 cached) | GC: 9.7ms)


Started GET "/" for 127.0.0.1 at 2025-10-13 22:19:49 +0300
Processing by HomeController#index as */*
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:19:51 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-10-13 22:19:51 +0300
Processing by Users::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 54.7ms | GC: 26.9ms)
Completed 200 OK in 67ms (Views: 58.2ms | ActiveRecord: 2.1ms (0 queries, 0 cached) | GC: 27.5ms)


Started GET "/" for ::1 at 2025-10-13 22:19:52 +0300
Processing by HomeController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 19ms (ActiveRecord: 2.8ms (2 queries, 0 cached) | GC: 6.6ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:19:52 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 0.8ms | GC: 0.1ms)
  [1m[36mProject Load (0.5ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.4ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 137.8ms | GC: 40.9ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 143.5ms | GC: 41.7ms)
Completed 200 OK in 160ms (Views: 126.0ms | ActiveRecord: 21.2ms (14 queries, 1 cached) | GC: 45.1ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:19:53 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.9ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 13.1ms | GC: 1.6ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.8ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 36.9ms | GC: 4.2ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 41.7ms | GC: 4.2ms)
Completed 200 OK in 61ms (Views: 37.3ms | ActiveRecord: 8.6ms (26 queries, 3 cached) | GC: 5.6ms)


Started GET "/" for ::1 at 2025-10-13 22:19:53 +0300
Processing by HomeController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 6ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:19:53 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (1.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 42.3ms | GC: 3.9ms)
  [1m[36mCACHE Project Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 51.7ms | GC: 5.4ms)
Completed 200 OK in 62ms (Views: 48.6ms | ActiveRecord: 5.7ms (14 queries, 1 cached) | GC: 5.9ms)


Started POST "/users/sign_in" for ::1 at 2025-10-13 22:19:58 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: test@example.com
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: hiUiqmrDU2ijq8fiYe7CMBD1ct3ZFeX0cB4rVCMh7ur2XJQFkHsU81LahjXGsE7vvxxPFbS8Gel4rXMAm5MFww
Session token: 
Form authenticity token valid: false
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 226ms (ActiveRecord: 2.8ms (2 queries, 0 cached) | GC: 1.3ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:19:58 +0300
Processing by BonusesController#index as HTML
  [1m[36mUser Load (4.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (1.6ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (4.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.5ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (1.4ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 30.0ms | GC: 1.3ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | GC: 2.7ms)
Completed 200 OK in 45ms (Views: 26.7ms | ActiveRecord: 13.5ms (13 queries, 1 cached) | GC: 3.0ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:20:15 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 4 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Count (2.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonusReward Load (1.0ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 11.1ms | GC: 0.5ms)
  [1m[36mProject Load (0.5ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (1.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (2.4ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 43.0ms | GC: 1.6ms)
  [1m[36mCACHE Project Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 50.8ms | GC: 1.8ms)
Completed 200 OK in 66ms (Views: 43.3ms | ActiveRecord: 11.5ms (25 queries, 3 cached) | GC: 2.0ms)


Started GET "/admin/permanent_bonuses/1/edit" for ::1 at 2025-10-13 22:21:30 +0300
Processing by Admin::PermanentBonusesController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.1ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE PermanentBonus Load (0.0ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:49:in 'Enumerable#map'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:53:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 35.4ms | GC: 8.5ms)
Completed 200 OK in 52ms (Views: 33.6ms | ActiveRecord: 7.6ms (5 queries, 1 cached) | GC: 8.5ms)


  [1m[36mProject Load (0.5ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."id" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 3 /*application='BMS'*/[0m
Started GET "/" for 127.0.0.1 at 2025-10-13 22:24:25 +0300
Processing by HomeController#index as */*
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin" for ::1 at 2025-10-13 22:24:53 +0300
Processing by Admin::DashboardController#index as HTML
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)


Started GET "/admin/login" for ::1 at 2025-10-13 22:24:54 +0300
Processing by AdminUsers::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | GC: 6.8ms)
Completed 200 OK in 39ms (Views: 31.4ms | ActiveRecord: 3.3ms (0 queries, 0 cached) | GC: 7.3ms)


Started POST "/admin/login" for ::1 at 2025-10-13 22:26:14 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.7ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mAdminUser Load (1.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: false
Completed 401 Unauthorized in 11ms (ActiveRecord: 1.9ms (2 queries, 0 cached) | GC: 0.3ms)


Processing by AdminUsers::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.3ms)
Completed 200 OK in 218ms (Views: 5.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/admin/permanent_bonuses/1/edit" for ::1 at 2025-10-13 22:26:16 +0300
Processing by Admin::PermanentBonusesController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.1ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:127:in 'Admin::PermanentBonusesController#edit'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE PermanentBonus Load (0.0ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1[0m
  â†³ app/admin/permanent_bonuses.rb:127:in 'Admin::PermanentBonusesController#edit'
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:50:in 'Enumerable#map'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."project" ASC, "bonuses"."name" ASC /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:59:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 105.8ms | GC: 2.4ms)
Completed 200 OK in 114ms (Views: 103.8ms | ActiveRecord: 5.1ms (5 queries, 1 cached) | GC: 2.7ms)


  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mAdminUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mAdminUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mAdminUser Create (0.3ms)[0m  [1m[32mINSERT INTO "admin_users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ('admin@test.com', '$2a$12$gWpseEi9JfqwYHhqiO1p8uWP5qA4F9uW8e6QQwSi5T5P4ckuQbzQi', NULL, NULL, NULL, '2025-10-13 19:26:24.329412', '2025-10-13 19:26:24.329412') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Started PATCH "/admin/permanent_bonuses/1" for ::1 at 2025-10-13 22:26:26 +0300
Processing by Admin::PermanentBonusesController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "permanent_bonus" => {"project_id" => "4", "bonus_id" => "17"}, "commit" => "Update Permanent bonus", "id" => "1"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.3ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mPermanentBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "permanent_bonuses" WHERE "permanent_bonuses"."bonus_id" = 17 AND "permanent_bonuses"."id" != 1 AND "permanent_bonuses"."project_id" = 4 LIMIT 1 /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
Redirected to http://localhost:3000/admin/permanent_bonuses/1
Completed 302 Found in 15ms (ActiveRecord: 5.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/permanent_bonuses/1" for ::1 at 2025-10-13 22:26:26 +0300
Processing by Admin::PermanentBonusesController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.3ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:32:in 'block (4 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 18.7ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 18.6ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/login" for ::1 at 2025-10-13 22:26:30 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
=== ADMIN LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Processing by AdminUsers::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:26:31 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonusReward Load (0.8ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.5ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 57.4ms | GC: 12.4ms)
  [1m[36mProject Load (0.5ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 83.2ms | GC: 14.2ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 88.3ms | GC: 14.6ms)
Completed 200 OK in 111ms (Views: 61.4ms | ActiveRecord: 32.4ms (26 queries, 3 cached) | GC: 14.6ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:26:34 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.7ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mPermanentBonus Load (0.9ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 17 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 6.9ms | GC: 0.0ms)
  [1m[36mProject Load (0.5ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 30.4ms | GC: 1.4ms)
  [1m[36mCACHE Project Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 36.1ms | GC: 1.4ms)
Completed 200 OK in 56ms (Views: 32.8ms | ActiveRecord: 8.8ms (26 queries, 3 cached) | GC: 1.9ms)


Started GET "/admin/login" for ::1 at 2025-10-13 22:26:36 +0300
Processing by AdminUsers::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/permanent_bonuses/1/edit" for ::1 at 2025-10-13 22:26:43 +0300
Processing by Admin::PermanentBonusesController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:127:in 'Admin::PermanentBonusesController#edit'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE PermanentBonus Load (0.0ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1[0m
  â†³ app/admin/permanent_bonuses.rb:127:in 'Admin::PermanentBonusesController#edit'
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:50:in 'Enumerable#map'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."project" ASC, "bonuses"."name" ASC /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:59:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 17.2ms | GC: 1.4ms)
Completed 200 OK in 22ms (Views: 17.1ms | ActiveRecord: 1.0ms (5 queries, 1 cached) | GC: 1.8ms)


Started PATCH "/admin/permanent_bonuses/1" for ::1 at 2025-10-13 22:26:46 +0300
Processing by Admin::PermanentBonusesController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "permanent_bonus" => {"project_id" => "4", "bonus_id" => "17"}, "commit" => "Update Permanent bonus", "id" => "1"}
  [1m[36mAdminUser Load (1.1ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (2.6ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mPermanentBonus Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "permanent_bonuses" WHERE "permanent_bonuses"."bonus_id" = 17 AND "permanent_bonuses"."id" != 1 AND "permanent_bonuses"."project_id" = 4 LIMIT 1 /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
Redirected to http://localhost:3000/admin/permanent_bonuses/1
Completed 302 Found in 19ms (ActiveRecord: 7.5ms (3 queries, 0 cached) | GC: 0.8ms)


Started GET "/admin/permanent_bonuses/1" for ::1 at 2025-10-13 22:26:46 +0300
Processing by Admin::PermanentBonusesController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mProject Load (0.9ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:32:in 'block (4 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 23.1ms | GC: 1.6ms)
Completed 200 OK in 28ms (Views: 22.2ms | ActiveRecord: 1.6ms (4 queries, 0 cached) | GC: 2.0ms)


Started GET "/admin/permanent_bonuses/1" for ::1 at 2025-10-13 22:26:48 +0300
Processing by Admin::PermanentBonusesController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.3ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mProject Load (0.5ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:32:in 'block (4 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 17.6ms | GC: 0.6ms)
Completed 200 OK in 28ms (Views: 17.2ms | ActiveRecord: 1.6ms (4 queries, 0 cached) | GC: 0.9ms)


Started GET "/admin/permanent_bonuses/1/edit" for ::1 at 2025-10-13 22:26:49 +0300
Processing by Admin::PermanentBonusesController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.3ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:127:in 'Admin::PermanentBonusesController#edit'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE PermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1[0m
  â†³ app/admin/permanent_bonuses.rb:127:in 'Admin::PermanentBonusesController#edit'
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:50:in 'Enumerable#map'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."project" ASC, "bonuses"."name" ASC /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:59:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 21.5ms | GC: 0.7ms)
Completed 200 OK in 28ms (Views: 21.1ms | ActiveRecord: 1.7ms (5 queries, 1 cached) | GC: 0.9ms)


Started POST "/admin/login" for ::1 at 2025-10-13 22:26:53 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.7ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Redirected to http://localhost:3000/admin
Completed 303 See Other in 232ms (ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 3.9ms)


Started GET "/admin" for ::1 at 2025-10-13 22:26:53 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 28.6ms | GC: 13.7ms)
Completed 200 OK in 38ms (Views: 31.4ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 17.7ms)


Started GET "/assets/active_admin-91eb9aa2461cc96f93217032dcc8a6d5e4f82ae14b37f4821255d57ddb871c45.css" for ::1 at 2025-10-13 22:26:53 +0300
Started GET "/assets/active_admin-ab939fcb08b9cb4c1de3936e8dcd97dbadd86334451760ee75c4c22bb001154d.js" for ::1 at 2025-10-13 22:26:53 +0300
Started GET "/favicon.ico" for ::1 at 2025-10-13 22:26:53 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin/permanent_bonuses/1" for ::1 at 2025-10-13 22:26:54 +0300
Processing by Admin::PermanentBonusesController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.8ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.3ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mProject Load (2.9ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 17 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:32:in 'block (4 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 28.1ms | GC: 2.3ms)
Completed 200 OK in 37ms (Views: 25.9ms | ActiveRecord: 4.2ms (4 queries, 0 cached) | GC: 2.3ms)


Started GET "/admin/permanent_bonuses/1/edit" for ::1 at 2025-10-13 22:26:56 +0300
Processing by Admin::PermanentBonusesController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.5ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:127:in 'Admin::PermanentBonusesController#edit'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE PermanentBonus Load (0.0ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1[0m
  â†³ app/admin/permanent_bonuses.rb:127:in 'Admin::PermanentBonusesController#edit'
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:50:in 'Enumerable#map'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."project" ASC, "bonuses"."name" ASC /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:59:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 19.5ms | GC: 1.2ms)
Completed 200 OK in 26ms (Views: 19.3ms | ActiveRecord: 1.7ms (5 queries, 1 cached) | GC: 1.2ms)


Started PATCH "/admin/permanent_bonuses/1" for ::1 at 2025-10-13 22:26:58 +0300
Processing by Admin::PermanentBonusesController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "permanent_bonus" => {"project_id" => "4", "bonus_id" => "20"}, "commit" => "Update Permanent bonus", "id" => "1"}
  [1m[36mAdminUser Load (1.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.3ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mBonus Load (2.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 20 LIMIT 1 /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mPermanentBonus Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "permanent_bonuses" WHERE "permanent_bonuses"."bonus_id" = 20 AND "permanent_bonuses"."id" != 1 AND "permanent_bonuses"."project_id" = 4 LIMIT 1 /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mPermanentBonus Update (0.6ms)[0m  [1m[33mUPDATE "permanent_bonuses" SET "bonus_id" = 20, "updated_at" = '2025-10-13 19:26:58.454497' WHERE "permanent_bonuses"."id" = 1 /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*action='update',application='BMS',controller='permanent_bonuses'*/[0m
Redirected to http://localhost:3000/admin/permanent_bonuses/1
Completed 302 Found in 21ms (ActiveRecord: 8.5ms (5 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin/permanent_bonuses/1" for ::1 at 2025-10-13 22:26:58 +0300
Processing by Admin::PermanentBonusesController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 20 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:32:in 'block (4 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 14.9ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 14.7ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/permanent_bonuses" for ::1 at 2025-10-13 22:26:59 +0300
Processing by Admin::PermanentBonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mPermanentBonus Load (0.4ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" ORDER BY "permanent_bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:8:in 'block (3 levels) in <main>'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 20 LIMIT 1 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:15:in 'block (3 levels) in <main>'
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:42:in 'Enumerable#map'
  [1m[36mBonus Load (0.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:43:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 34.3ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 33.0ms | ActiveRecord: 2.4ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:27:00 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mPermanentBonus Load (0.5ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonusReward Load (0.6ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 7.6ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.8ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 29.2ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 32.7ms | GC: 0.0ms)
Completed 200 OK in 50ms (Views: 29.3ms | ActiveRecord: 7.7ms (26 queries, 3 cached) | GC: 0.0ms)


Started GET "/admin/permanent_bonuses/new" for ::1 at 2025-10-13 22:27:05 +0300
Processing by Admin::PermanentBonusesController#new as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb
  [1m[36mProject Load (0.9ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:50:in 'Enumerable#map'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."project" ASC, "bonuses"."name" ASC /*action='new',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:59:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/new.html.arb (Duration: 32.4ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 31.9ms | ActiveRecord: 1.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-10-13 22:27:28 +0300
Processing by HeatmapController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-10-01 00:00:00' AND '2025-10-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 11.0ms | GC: 1.6ms)
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | GC: 2.4ms)
Completed 200 OK in 44ms (Views: 18.0ms | ActiveRecord: 2.7ms (5 queries, 0 cached) | GC: 14.0ms)


Started POST "/admin/permanent_bonuses" for ::1 at 2025-10-13 22:27:34 +0300
Processing by Admin::PermanentBonusesController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "permanent_bonus" => {"project_id" => "4", "bonus_id" => "18"}, "commit" => "Create Permanent bonus"}
  [1m[36mAdminUser Load (0.7ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mBonus Load (2.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 18 LIMIT 1 /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mProject Load (1.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mPermanentBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "permanent_bonuses" WHERE "permanent_bonuses"."bonus_id" = 18 AND "permanent_bonuses"."project_id" = 4 LIMIT 1 /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mPermanentBonus Create (0.4ms)[0m  [1m[32mINSERT INTO "permanent_bonuses" ("bonus_id", "created_at", "updated_at", "project_id") VALUES (18, '2025-10-13 19:27:34.641482', '2025-10-13 19:27:34.641482', 4) RETURNING "id" /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='create',application='BMS',controller='permanent_bonuses'*/[0m
Redirected to http://localhost:3000/admin/permanent_bonuses/2
Completed 302 Found in 21ms (ActiveRecord: 5.5ms (5 queries, 0 cached) | GC: 1.6ms)


Started GET "/admin/permanent_bonuses/2" for ::1 at 2025-10-13 22:27:34 +0300
Processing by Admin::PermanentBonusesController#show as HTML
  Parameters: {"id" => "2"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 2 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.3ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 2 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 18 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:32:in 'block (4 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 20.9ms | GC: 2.9ms)
Completed 200 OK in 26ms (Views: 20.8ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 3.8ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:28:02 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:42:in 'BonusesController#index'
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/controllers/bonuses_controller.rb:64:in 'BonusesController#index'
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" IN (20, 18) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:66:in 'Enumerable#map'
  [1m[36mBonus Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 20 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusReward Load (0.5ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 18 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 18 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 18 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 18 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 18 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 18 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 18 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 44.5ms | GC: 0.0ms)
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (21, 20, 19, 18, 17) /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:170
  Rendered bonuses/index.html.erb within layouts/application (Duration: 63.6ms | GC: 0.0ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1[0m
  â†³ app/views/layouts/application.html.erb:69
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 100.4ms | GC: 15.8ms)
Completed 200 OK in 145ms (Views: 85.9ms | ActiveRecord: 27.5ms (33 queries, 3 cached) | GC: 15.8ms)


Started GET "/bonuses/18/edit" for ::1 at 2025-10-13 22:28:03 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "18"}
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 18 LIMIT 1 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:1295:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 18 LIMIT 1 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 18 LIMIT 1 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 18 LIMIT 1 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 18 LIMIT 1 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 18 LIMIT 1 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 18 LIMIT 1[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 18 LIMIT 1[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 18 LIMIT 1[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 18 LIMIT 1[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 18 LIMIT 1[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 18 LIMIT 1[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 18 LIMIT 1[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 18 LIMIT 1[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 18 LIMIT 1[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 18 LIMIT 1[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 18 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 18 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 18 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 18 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 18 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 18 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 18 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 18 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 18 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 18 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 18 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 18 /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 42.5ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 48.5ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='edit',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 69.0ms | GC: 0.0ms)
Completed 200 OK in 92ms (Views: 56.4ms | ActiveRecord: 19.1ms (31 queries, 10 cached) | GC: 0.0ms)


Started GET "/bonuses/18" for ::1 at 2025-10-13 22:28:04 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "18"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 18 LIMIT 1 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:1295:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 18 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 18 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 18 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 18 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 18 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 18 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 18 /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/models/bonus.rb:119:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 6.9ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 10.7ms | GC: 0.0ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='show',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 12.8ms | ActiveRecord: 1.9ms (11 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/permanent_bonuses/1" for ::1 at 2025-10-13 22:28:09 +0300
Processing by Admin::PermanentBonusesController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.1ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 4 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:29:in 'block (4 levels) in <main>'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 20 LIMIT 1 /*action='show',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:32:in 'block (4 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 81.1ms | GC: 0.0ms)
Completed 200 OK in 90ms (Views: 81.8ms | ActiveRecord: 2.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/permanent_bonuses/1/edit" for ::1 at 2025-10-13 22:28:12 +0300
Processing by Admin::PermanentBonusesController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mPermanentBonus Load (0.2ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1 /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:127:in 'Admin::PermanentBonusesController#edit'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE PermanentBonus Load (0.0ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" WHERE "permanent_bonuses"."id" = 1 LIMIT 1[0m
  â†³ app/admin/permanent_bonuses.rb:127:in 'Admin::PermanentBonusesController#edit'
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:50:in 'Enumerable#map'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."project" ASC, "bonuses"."name" ASC /*action='edit',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:59:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 17.7ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 17.6ms | ActiveRecord: 1.4ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/admin/bonuses" for ::1 at 2025-10-13 22:28:14 +0300
Processing by Admin::BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 15.6ms | GC: 0.0ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding)
Caused by: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding)

Information for: ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/bonuses.rb:26:in 'block (2 levels) in <main>'

Information for cause: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding):
  
app/admin/bonuses.rb:26:in 'block (2 levels) in <main>'
Started GET "/admin/admin_users" for ::1 at 2025-10-13 22:28:18 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 16.8ms | GC: 2.5ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 2.5ms)


  
ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding)
Caused by: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding)

Information for: ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/admin_users.rb:6:in 'block (2 levels) in <main>'

Information for cause: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding):
  
app/admin/admin_users.rb:6:in 'block (2 levels) in <main>'
Started GET "/admin/admin_users" for ::1 at 2025-10-13 22:28:21 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 13.7ms | GC: 0.2ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.3ms)


  
ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding)
Caused by: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding)

Information for: ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/admin_users.rb:6:in 'block (2 levels) in <main>'

Information for cause: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding):
  
app/admin/admin_users.rb:6:in 'block (2 levels) in <main>'
Started GET "/admin/comments" for ::1 at 2025-10-13 22:28:24 +0300
Processing by Admin::CommentsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='comments'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mActiveAdmin::Comment Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_admin_comments" WHERE "active_admin_comments"."namespace" = 'admin' /*action='index',application='BMS',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Load (0.2ms)[0m  [1m[34mSELECT "active_admin_comments".* FROM "active_admin_comments" WHERE "active_admin_comments"."namespace" = 'admin' ORDER BY "active_admin_comments"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "active_admin_comments"."resource_type" FROM "active_admin_comments" ORDER BY resource_type asc /*action='index',application='BMS',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "active_admin_comments"."author_type" FROM "active_admin_comments" ORDER BY author_type asc /*action='index',application='BMS',controller='comments'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 24.3ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 23.0ms | ActiveRecord: 3.4ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/projects" for ::1 at 2025-10-13 22:28:25 +0300
Processing by Admin::ProjectsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='projects'*/[0m
  [1m[36mPermanentBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  [1m[36mPermanentBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 3 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  [1m[36mPermanentBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 2 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  [1m[36mPermanentBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 24.2ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 23.8ms | ActiveRecord: 1.2ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users" for ::1 at 2025-10-13 22:28:26 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 17.9ms | GC: 2.6ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 3.2ms)


  
ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding)
Caused by: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding)

Information for: ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/users.rb:12:in 'block (2 levels) in <main>'

Information for cause: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding):
  
app/admin/users.rb:12:in 'block (2 levels) in <main>'
Started GET "/admin/projects" for ::1 at 2025-10-13 22:29:36 +0300
Processing by Admin::ProjectsController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='projects'*/[0m
  [1m[36mPermanentBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 4 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  [1m[36mPermanentBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 3 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  [1m[36mPermanentBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 2 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  [1m[36mPermanentBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" WHERE "permanent_bonuses"."project_id" = 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/admin/projects.rb:9:in 'block (3 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 43.9ms | GC: 4.4ms)
Completed 200 OK in 50ms (Views: 44.5ms | ActiveRecord: 1.9ms (6 queries, 0 cached) | GC: 4.4ms)


Started GET "/admin/users" for ::1 at 2025-10-13 22:29:37 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 24.7ms | GC: 4.9ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 4.9ms)


  
ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding)
Caused by: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding)

Information for: ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/users.rb:12:in 'block (2 levels) in <main>'

Information for cause: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding):
  
app/admin/users.rb:12:in 'block (2 levels) in <main>'
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='BMS'*/[0m
  [1m[35m (5048.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "bms_development" /*application='BMS'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='BMS'*/[0m
  [1m[35m (5050.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "bms_development" /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='BMS'*/[0m
  [1m[35m (32.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "bms_development" /*application='BMS'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='BMS'*/[0m
  [1m[35m (41.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "bms_test" /*application='BMS'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='BMS'*/[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE DATABASE "bms_development" ENCODING = 'utf8' TEMPLATE = "template0" /*application='BMS'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_admin_comments" CASCADE /*application='BMS'*/[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "active_admin_comments" ("id" bigserial primary key, "namespace" character varying, "body" text, "resource_type" character varying, "resource_id" bigint, "author_type" character varying, "author_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_active_admin_comments_on_author" ON "active_admin_comments" ("author_type", "author_id") /*application='BMS'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_active_admin_comments_on_namespace" ON "active_admin_comments" ("namespace") /*application='BMS'*/[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE INDEX "index_active_admin_comments_on_resource" ON "active_admin_comments" ("resource_type", "resource_id") /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "admin_users" CASCADE /*application='BMS'*/[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "admin_users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_admin_users_on_email" ON "admin_users" ("email") /*application='BMS'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_admin_users_on_reset_password_token" ON "admin_users" ("reset_password_token") /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonus_audit_logs" CASCADE /*application='BMS'*/[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "bonus_audit_logs" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "user_id" bigint NOT NULL, "action" character varying, "changes_data" text, "metadata" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bonus_audit_logs_on_bonus_id" ON "bonus_audit_logs" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bonus_audit_logs_on_user_id" ON "bonus_audit_logs" ("user_id") /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonus_buy_rewards" CASCADE /*application='BMS'*/[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE TABLE "bonus_buy_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "buy_amount" decimal(15,2), "multiplier" decimal(5,2), "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "games" text DEFAULT '--- []
', "bet_level" float, "code" character varying, "stag" character varying, "max_win_value" decimal(15,2), "max_win_type" character varying DEFAULT 'fixed', "available" integer) /*application='BMS'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_bonus_buy_rewards_on_bonus_id" ON "bonus_buy_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE INDEX "index_bonus_buy_rewards_on_buy_amount" ON "bonus_buy_rewards" ("buy_amount") /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonus_code_rewards" CASCADE /*application='BMS'*/[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "bonus_code_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "code" character varying NOT NULL, "code_type" character varying NOT NULL, "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "title" character varying) /*application='BMS'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_bonus_code_rewards_on_bonus_id" ON "bonus_code_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonus_code_rewards_on_code" ON "bonus_code_rewards" ("code") /*application='BMS'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_bonus_code_rewards_on_code_type" ON "bonus_code_rewards" ("code_type") /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonus_rewards" CASCADE /*application='BMS'*/[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "bonus_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "reward_type" character varying NOT NULL, "amount" decimal(15,2), "percentage" decimal(5,2), "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "code" character varying, "user_can_have_duplicates" boolean DEFAULT FALSE, "stag" character varying, "currency_amounts" text, "max_win_value" decimal(15,2), "max_win_type" character varying DEFAULT 'fixed', "available" integer) /*application='BMS'*/[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_bonus_id_and_reward_type" ON "bonus_rewards" ("bonus_id", "reward_type") /*application='BMS'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_bonus_id" ON "bonus_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_reward_type" ON "bonus_rewards" ("reward_type") /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonus_templates" CASCADE /*application='BMS'*/[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "bonus_templates" ("id" bigserial primary key, "name" character varying, "dsl_tag" character varying, "project" character varying, "event" character varying, "minimum_deposit" decimal, "wager" decimal, "maximum_winnings" decimal, "no_more" integer, "totally_no_more" integer, "currencies" text, "groups" text, "currency_minimum_deposits" text, "description" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonus_templates_on_dsl_tag_project_name" ON "bonus_templates" ("dsl_tag", "project", "name") /*application='BMS'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_bonus_templates_on_dsl_tag" ON "bonus_templates" ("dsl_tag") /*application='BMS'*/[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_bonus_templates_on_project" ON "bonus_templates" ("project") /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonuses" CASCADE /*application='BMS'*/[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "bonuses" ("id" bigserial primary key, "name" character varying NOT NULL, "code" character varying NOT NULL, "status" character varying DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" character varying, "availability_start_date" timestamp(6) NOT NULL, "availability_end_date" timestamp(6) NOT NULL, "user_group" character varying, "tags" text, "country" character varying, "created_by" integer, "updated_by" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "project" character varying, "dsl_tag" character varying, "event" character varying NOT NULL, "currencies" text, "groups" text, "no_more" text, "totally_no_more" integer, "currency_minimum_deposits" text, "description" text, "maximum_winnings_type" character varying DEFAULT 'multiplier' NOT NULL) /*application='BMS'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_end_date" ON "bonuses" ("availability_end_date") /*application='BMS'*/[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_start_date" ON "bonuses" ("availability_start_date") /*application='BMS'*/[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='BMS'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_country" ON "bonuses" ("country") /*application='BMS'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_dsl_tag" ON "bonuses" ("dsl_tag") /*application='BMS'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_event" ON "bonuses" ("event") /*application='BMS'*/[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_project" ON "bonuses" ("project") /*application='BMS'*/[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_status" ON "bonuses" ("status") /*application='BMS'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_user_group" ON "bonuses" ("user_group") /*application='BMS'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMENT ON COLUMN "bonuses"."currencies" IS 'JSON array of supported currencies' /*application='BMS'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCOMMENT ON COLUMN "bonuses"."groups" IS 'JSON array of target user groups' /*application='BMS'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMENT ON COLUMN "bonuses"."no_more" IS 'Usage limitation string (e.g., "1 per day", "3 per week")' /*application='BMS'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMENT ON COLUMN "bonuses"."totally_no_more" IS 'Total limit of activations across all players' /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "comp_point_rewards" CASCADE /*application='BMS'*/[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "comp_point_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "points_amount" integer NOT NULL, "multiplier" decimal(5,2), "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "title" character varying) /*application='BMS'*/[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE INDEX "index_comp_point_rewards_on_bonus_id" ON "comp_point_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_comp_point_rewards_on_points_amount" ON "comp_point_rewards" ("points_amount") /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "freechip_rewards" CASCADE /*application='BMS'*/[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "freechip_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "chip_value" decimal(15,2) NOT NULL, "chips_count" integer NOT NULL, "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_freechip_rewards_on_bonus_id" ON "freechip_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_freechip_rewards_on_chip_value" ON "freechip_rewards" ("chip_value") /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "freespin_rewards" CASCADE /*application='BMS'*/[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "freespin_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "spins_count" integer NOT NULL, "game_restrictions" text, "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "games" text DEFAULT '--- []
', "bet_level" float, "code" character varying, "stag" character varying, "max_win_value" decimal(15,2), "max_win_type" character varying DEFAULT 'fixed', "available" integer) /*application='BMS'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_freespin_rewards_on_bonus_id" ON "freespin_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_freespin_rewards_on_spins_count" ON "freespin_rewards" ("spins_count") /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "marketing_requests" CASCADE /*application='BMS'*/[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "marketing_requests" ("id" bigserial primary key, "manager" character varying NOT NULL, "platform" text, "partner_email" character varying NOT NULL, "promo_code" text NOT NULL, "stag" character varying NOT NULL, "activation_date" timestamp(6), "status" character varying DEFAULT 'pending' NOT NULL, "request_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_partner_email" ON "marketing_requests" ("partner_email") /*application='BMS'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_marketing_requests_on_promo_code" ON "marketing_requests" ("promo_code") /*application='BMS'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_request_type" ON "marketing_requests" ("request_type") /*application='BMS'*/[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_marketing_requests_on_stag" ON "marketing_requests" ("stag") /*application='BMS'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_status" ON "marketing_requests" ("status") /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "material_prize_rewards" CASCADE /*application='BMS'*/[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "material_prize_rewards" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "prize_name" character varying NOT NULL, "prize_value" decimal(15,2), "config" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_material_prize_rewards_on_bonus_id" ON "material_prize_rewards" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE INDEX "index_material_prize_rewards_on_prize_name" ON "material_prize_rewards" ("prize_name") /*application='BMS'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "permanent_bonuses" CASCADE /*application='BMS'*/[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "permanent_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "project_id" bigint) /*application='BMS'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_permanent_bonuses_on_bonus_id" ON "permanent_bonuses" ("bonus_id") /*application='BMS'*/[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE INDEX "index_permanent_bonuses_on_project_id" ON "permanent_bonuses" ("project_id") /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE /*application='BMS'*/[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_projects_on_name" ON "projects" ("name") /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE /*application='BMS'*/[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "first_name" character varying, "last_name" character varying, "role" integer DEFAULT 3, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp(6), "last_sign_in_at" timestamp(6), "current_sign_in_ip" character varying, "last_sign_in_ip" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='BMS'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='BMS'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_role" ON "users" ("role") /*application='BMS'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "bonus_audit_logs" ADD CONSTRAINT "fk_rails_a5dcd55b76"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "bonus_audit_logs" ADD CONSTRAINT "fk_rails_a086348671"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
 /*application='BMS'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "bonus_buy_rewards" ADD CONSTRAINT "fk_rails_80a3d11f32"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "bonus_code_rewards" ADD CONSTRAINT "fk_rails_b43566cf88"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "bonus_rewards" ADD CONSTRAINT "fk_rails_04dc838556"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "comp_point_rewards" ADD CONSTRAINT "fk_rails_1c06028258"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "freechip_rewards" ADD CONSTRAINT "fk_rails_e619079d60"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "freespin_rewards" ADD CONSTRAINT "fk_rails_7e8de4db09"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "material_prize_rewards" ADD CONSTRAINT "fk_rails_0fa35ff8bd"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "permanent_bonuses" ADD CONSTRAINT "fk_rails_919acdc46a"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
 /*application='BMS'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "permanent_bonuses" ADD CONSTRAINT "fk_rails_9a71c52a89"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
 /*application='BMS'*/[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251013182120) /*application='BMS'*/[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20251013180321),
(20251013171802),
(20250824120142),
(20250823215528),
(20250823215337),
(20250823215336),
(20250823215146),
(20250823215138),
(20250823161747),
(20250823145159),
(20250823132555),
(20250823130628),
(20250823123802),
(20250823122343),
(20250822205319),
(20250822205208),
(20250822205017),
(20250822204706),
(20250822204526),
(20250820141944),
(20250820141850),
(20250820132726),
(20250817114030),
(20250817112210),
(20250817091841),
(20250816195250),
(20250816113809),
(20250816094114),
(20250814195218),
(20250814194935),
(20250814194934),
(20250814194933),
(20250814194931),
(20250814194930),
(20250814194929),
(20250814194927),
(20250814194905),
(20250812193953),
(20250811210559),
(20250811204912),
(20250811204906),
(20250811204849),
(20250811204844),
(20250811204839),
(20250811204831),
(20250811204823),
(20250124001001); /*application='BMS'*/[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-10-13 19:30:12.536907', '2025-10-13 19:30:12.536910') RETURNING "key" /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '30cb5eb3cfe776a4757483b84198598f4521aedf', '2025-10-13 19:30:12.541139', '2025-10-13 19:30:12.541141') RETURNING "key" /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 0 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@bms.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@bms.com' LIMIT 1[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name", "role", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "created_at", "updated_at") VALUES ('admin@bms.com', '$2a$12$SBf2nO/Dx7LoJ.R.oeTaBu0OvZi4CiodDe7YcW5TqxzbKt4tH59/m', 'Super', 'Admin', 0, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, '2025-10-13 19:30:18.700701', '2025-10-13 19:30:18.700701') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 1 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'promo@bms.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'promo@bms.com' LIMIT 1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name", "role", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "created_at", "updated_at") VALUES ('promo@bms.com', '$2a$12$2SZBlAyMOjOPdz1NhdM1ku5UJGUxlKgGVpNLr0VU5KsFytnC0AZqW', 'Promo', 'Manager', 1, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, '2025-10-13 19:30:18.938813', '2025-10-13 19:30:18.938813') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 2 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'shift@bms.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'shift@bms.com' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name", "role", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "created_at", "updated_at") VALUES ('shift@bms.com', '$2a$12$nU5Dj0b0MGGq7Sun1m6Sa.JebBDFu4YzVfUgVuhHU4/CDUblQGCGK', 'Shift', 'Leader', 2, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, '2025-10-13 19:30:19.152234', '2025-10-13 19:30:19.152234') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."role" = 3 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@bms.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'support@bms.com' LIMIT 1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "first_name", "last_name", "role", "reset_password_token", "reset_password_sent_at", "remember_created_at", "sign_in_count", "current_sign_in_at", "last_sign_in_at", "current_sign_in_ip", "last_sign_in_ip", "created_at", "updated_at") VALUES ('support@bms.com', '$2a$12$3lI1SPjH605RvVNFLw2kP./hahkUlbwSKpBvS0zcJO5e1tLfLDXSm', 'Support', 'Agent', 3, NULL, NULL, NULL, 0, NULL, NULL, NULL, NULL, '2025-10-13 19:30:19.365779', '2025-10-13 19:30:19.365779') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 0 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 1 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 2 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 3 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."role" = 4 LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mAdminUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE AdminUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1[0m
  [1m[36mAdminUser Create (0.4ms)[0m  [1m[32mINSERT INTO "admin_users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ('admin@example.com', '$2a$12$RWQW6VseB6wsYDl9K8gzGOE6LgsWd3UJyRTQPwfUmLNZh5sMAwLI6', NULL, NULL, NULL, '2025-10-13 19:30:19.593408', '2025-10-13 19:30:19.593408') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Started GET "/admin" for 127.0.0.1 at 2025-10-13 22:30:27 +0300
Processing by Admin::DashboardController#index as */*
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin" for ::1 at 2025-10-13 22:30:34 +0300
Processing by Admin::DashboardController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for ::1 at 2025-10-13 22:30:34 +0300
Processing by AdminUsers::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | GC: 2.4ms)
Completed 200 OK in 49ms (Views: 31.6ms | ActiveRecord: 16.2ms (0 queries, 0 cached) | GC: 3.3ms)


Started POST "/admin/login" for ::1 at 2025-10-13 22:30:37 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.7ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@bms.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: admin@bms.com
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@bms.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: false
Completed 401 Unauthorized in 6ms (ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Processing by AdminUsers::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 211ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mAdminUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@bms.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE AdminUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@bms.com' LIMIT 1[0m
  [1m[36mAdminUser Create (0.3ms)[0m  [1m[32mINSERT INTO "admin_users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ('admin@bms.com', '$2a$12$pvZnmZ8J6etNkEiDyKhaCeQXFStGMP2UvnA7bK87duQE0FD3uzFjW', NULL, NULL, NULL, '2025-10-13 19:30:42.046631', '2025-10-13 19:30:42.046631') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Started POST "/admin/login" for ::1 at 2025-10-13 22:30:48 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
=== ADMIN LOGIN ATTEMPT ===
Email: admin@bms.com
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@bms.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Processing by AdminUsers::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mAdminUser Load (6.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" /*application='BMS'*/[0m
Started POST "/admin/login" for ::1 at 2025-10-13 22:31:00 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
=== ADMIN LOGIN ATTEMPT ===
Email: admin@example.com
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)


Processing by AdminUsers::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mAdminUser Load (0.7ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mAdminUser Update (1.2ms)[0m  [1m[33mUPDATE "admin_users" SET "encrypted_password" = '$2a$12$1ZEafTckpLygWay2uuTNJ.oD7Go.8PFxiJDkIA7n020ERufYMWSw6', "updated_at" = '2025-10-13 19:31:09.428009' WHERE "admin_users"."id" = 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Started POST "/admin/login" for ::1 at 2025-10-13 22:31:13 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
=== ADMIN LOGIN ATTEMPT ===
Email: admin@example.com
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@example.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Processing by AdminUsers::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mAdminUser Load (8.1ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mAdminUser Destroy (1.0ms)[0m  [1m[31mDELETE FROM "admin_users" WHERE "admin_users"."id" = 2 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mAdminUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "admin_users" WHERE "admin_users"."id" = 1 /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mAdminUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE AdminUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' LIMIT 1[0m
  [1m[36mAdminUser Create (0.3ms)[0m  [1m[32mINSERT INTO "admin_users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ('admin@test.com', '$2a$12$H/e5UW7cl.MNW.27.dOV8eJcFxCoJcmyd7V8WQsjmzx/6gZ4772I2', NULL, NULL, NULL, '2025-10-13 19:31:23.493190', '2025-10-13 19:31:23.493190') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Started POST "/admin/login" for ::1 at 2025-10-13 22:31:28 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
=== ADMIN LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Processing by AdminUsers::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.1ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)


Started GET "/admin/users" for ::1 at 2025-10-13 22:31:34 +0300
Processing by Admin::UsersController#index as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/login" for ::1 at 2025-10-13 22:31:34 +0300
Processing by AdminUsers::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mAdminUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'test@admin.com' LIMIT 1 /*application='BMS'*/[0m
  [1m[36mCACHE AdminUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "admin_users" WHERE "admin_users"."email" = 'test@admin.com' LIMIT 1[0m
  [1m[36mAdminUser Create (0.3ms)[0m  [1m[32mINSERT INTO "admin_users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ('test@admin.com', '$2a$12$1sMSygKBItxcheRj8Pn3m.G5fCiSegzDpstlZTWtpbEADBlGJoPdW', NULL, NULL, NULL, '2025-10-13 19:31:39.577182', '2025-10-13 19:31:39.577182') RETURNING "id" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
Started POST "/admin/login" for ::1 at 2025-10-13 22:31:45 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'test@admin.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: test@admin.com
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'test@admin.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Redirected to http://localhost:3000/admin
Completed 303 See Other in 223ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin" for ::1 at 2025-10-13 22:31:45 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.8ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 4 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 12.9ms | GC: 0.1ms)
Completed 200 OK in 20ms (Views: 15.0ms | ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.1ms)


Started GET "/favicon.ico" for ::1 at 2025-10-13 22:31:45 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/admin/users" for ::1 at 2025-10-13 22:31:48 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 4 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 28.7ms | GC: 0.0ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 3.4ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding)
Caused by: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding)

Information for: ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/users.rb:12:in 'block (2 levels) in <main>'

Information for cause: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding):
  
app/admin/users.rb:12:in 'block (2 levels) in <main>'
  [1m[36mUser Load (7.5ms)[0m  [1m[34mSELECT "users".* FROM "users" /*application='BMS'*/[0m
  [1m[36mUser Load (7.9ms)[0m  [1m[34mSELECT "users".* FROM "users" /*application='BMS'*/[0m
Started GET "/admin/users" for ::1 at 2025-10-13 22:32:16 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 4 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 22.8ms | GC: 0.2ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 4.5ms (2 queries, 0 cached) | GC: 0.3ms)


  
ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding)
Caused by: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding)

Information for: ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/users.rb:12:in 'block (2 levels) in <main>'

Information for cause: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding):
  
app/admin/users.rb:12:in 'block (2 levels) in <main>'
Started GET "/admin/users" for ::1 at 2025-10-13 22:32:34 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 4 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 26.3ms | GC: 0.2ms)
Completed 500 Internal Server Error in 46ms (ActiveRecord: 6.9ms (2 queries, 0 cached) | GC: 0.3ms)


  
ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding)
Caused by: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding)

Information for: ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/users.rb:12:in 'block (2 levels) in <main>'

Information for cause: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding):
  
app/admin/users.rb:12:in 'block (2 levels) in <main>'
Started GET "/admin/users" for ::1 at 2025-10-13 22:32:48 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 4 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 34.7ms | GC: 0.5ms)
Completed 200 OK in 55ms (Views: 36.2ms | ActiveRecord: 6.3ms (2 queries, 0 cached) | GC: 0.8ms)


Started GET "/admin/admin_users" for ::1 at 2025-10-13 22:32:53 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 4 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 18.1ms | GC: 0.8ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.8ms)


  
ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding)
Caused by: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding)

Information for: ActionView::Template::Error (Cannot transliterate strings with ISO-8859-1 encoding):
    1: # frozen_string_literal: true
    2: insert_tag renderer_for(:index)
  
app/admin/admin_users.rb:6:in 'block (2 levels) in <main>'

Information for cause: ArgumentError (Cannot transliterate strings with ISO-8859-1 encoding):
  
app/admin/admin_users.rb:6:in 'block (2 levels) in <main>'
Started GET "/admin/admin_users" for ::1 at 2025-10-13 22:33:02 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 4 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 30.8ms | GC: 0.5ms)
Completed 200 OK in 45ms (Views: 31.8ms | ActiveRecord: 2.7ms (2 queries, 0 cached) | GC: 0.8ms)


Started GET "/admin/bonuses" for ::1 at 2025-10-13 22:33:05 +0300
Processing by Admin::BonusesController#index as HTML
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 4 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Pluck (0.3ms)[0m  [1m[34mSELECT "projects"."name" FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/admin/bonuses.rb:15:in 'block (2 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 35.2ms | GC: 5.9ms)
Completed 200 OK in 44ms (Views: 34.2ms | ActiveRecord: 4.3ms (3 queries, 0 cached) | GC: 6.0ms)


Started GET "/admin/users" for ::1 at 2025-10-13 22:33:20 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 1 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 2 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:16:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 14ms (ActiveRecord: 2.5ms (2 queries, 0 cached) | GC: 2.4ms)


Started GET "/admin/login" for ::1 at 2025-10-13 22:33:20 +0300
Processing by AdminUsers::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | GC: 3.1ms)
Completed 200 OK in 29ms (Views: 28.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.1ms)


Started POST "/admin/login" for ::1 at 2025-10-13 22:33:21 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@mbscasino.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: admin@mbscasino.com
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@mbscasino.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: false
Completed 401 Unauthorized in 7ms (ActiveRecord: 2.4ms (2 queries, 0 cached) | GC: 0.0ms)


Processing by AdminUsers::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  Rendering layout layouts/application.html.erb
  Rendering admin_users/sessions/new.html.erb within layouts/application
  Rendered admin_users/sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | GC: 6.6ms)
Completed 200 OK in 232ms (Views: 27.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 7.1ms)


Started POST "/admin/login" for ::1 at 2025-10-13 22:33:54 +0300
Processing by AdminUsers::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "admin_user" => {"email" => "[FILTERED]", "password" => "[FILTERED]", "remember_me" => "0"}, "commit" => "Login to Admin Panel"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== ADMIN LOGIN ATTEMPT ===
Email: admin@test.com
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."email" = 'admin@test.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/admin_users/sessions_controller.rb:11:in 'AdminUsers::SessionsController#create'
AdminUser found: true
Redirected to http://localhost:3000/admin
Completed 303 See Other in 209ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin" for ::1 at 2025-10-13 22:33:54 +0300
Processing by Admin::DashboardController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='dashboard'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/page/index.html.arb (Duration: 14.6ms | GC: 0.4ms)
Completed 200 OK in 18ms (Views: 16.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/admin/admin_users" for ::1 at 2025-10-13 22:33:55 +0300
Processing by Admin::AdminUsersController#index as HTML
  [1m[36mAdminUser Load (3.8ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='admin_users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" ORDER BY "admin_users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='admin_users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 25.0ms | GC: 1.3ms)
Completed 200 OK in 33ms (Views: 25.8ms | ActiveRecord: 4.1ms (2 queries, 0 cached) | GC: 1.3ms)


Started GET "/admin/bonuses" for ::1 at 2025-10-13 22:33:56 +0300
Processing by Admin::BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mProject Pluck (0.1ms)[0m  [1m[34mSELECT "projects"."name" FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/admin/bonuses.rb:15:in 'block (2 levels) in <main>'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 23.6ms | GC: 1.1ms)
Completed 200 OK in 30ms (Views: 23.2ms | ActiveRecord: 2.6ms (3 queries, 0 cached) | GC: 1.3ms)


Started GET "/admin/comments" for ::1 at 2025-10-13 22:33:57 +0300
Processing by Admin::CommentsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='comments'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mActiveAdmin::Comment Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "active_admin_comments" WHERE "active_admin_comments"."namespace" = 'admin' /*action='index',application='BMS',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Load (0.2ms)[0m  [1m[34mSELECT "active_admin_comments".* FROM "active_admin_comments" WHERE "active_admin_comments"."namespace" = 'admin' ORDER BY "active_admin_comments"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "active_admin_comments"."resource_type" FROM "active_admin_comments" ORDER BY resource_type asc /*action='index',application='BMS',controller='comments'*/[0m
  [1m[36mActiveAdmin::Comment Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "active_admin_comments"."author_type" FROM "active_admin_comments" ORDER BY author_type asc /*action='index',application='BMS',controller='comments'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 23.8ms | GC: 1.2ms)
Completed 200 OK in 27ms (Views: 23.2ms | ActiveRecord: 1.4ms (5 queries, 0 cached) | GC: 1.2ms)


Started GET "/admin/permanent_bonuses" for ::1 at 2025-10-13 22:33:58 +0300
Processing by Admin::PermanentBonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mPermanentBonus Load (0.4ms)[0m  [1m[34mSELECT "permanent_bonuses".* FROM "permanent_bonuses" ORDER BY "permanent_bonuses"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:42:in 'Enumerable#map'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" /*action='index',application='BMS',controller='permanent_bonuses'*/[0m
  â†³ app/admin/permanent_bonuses.rb:43:in 'Enumerable#map'
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 20.2ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 18.9ms | ActiveRecord: 3.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/projects" for ::1 at 2025-10-13 22:33:58 +0300
Processing by Admin::ProjectsController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='projects'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='projects'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 15.8ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 16.1ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users" for ::1 at 2025-10-13 22:34:00 +0300
Processing by Admin::UsersController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" desc LIMIT 30 OFFSET 0 /*action='index',application='BMS',controller='users'*/[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/index.html.arb (Duration: 23.8ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 24.1ms | ActiveRecord: 2.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project_id=4" for ::1 at 2025-10-13 22:34:04 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project_id" => "4"}
  [1m[36mAdminUser Load (0.6ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-10-13 22:34:04 +0300
Processing by Users::SessionsController#new as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-10-13 22:34:05 +0300
Processing by HomeController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
Completed 401 Unauthorized in 2ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-10-13 22:34:05 +0300
Processing by Users::SessionsController#new as HTML
  [1m[36mAdminUser Load (0.2ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='new',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2025-10-13 22:34:06 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@mbscasino.com
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mbscasino.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: false
Authenticity token from form: f1g8W_zc1dr09qOF_vahuPdLkS20kXITHQdlmQV6SyEBYLLIC-ZMF_O4Qg-Xee2I8LDcnRJWW2_jcjGPPHrkBg
Session token: SxaFIvQLc4cX5KYna9Gk31qoLiu9UFgZYu9Gg8hdNSw
Form authenticity token valid: false
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@mbscasino.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:14:in 'Users::SessionsController#create'
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Processing by Users::SessionsController#new as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 208ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/users/1" for ::1 at 2025-10-13 22:34:16 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 51.6ms | GC: 12.3ms)
Completed 200 OK in 56ms (Views: 52.2ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 12.3ms)


Started GET "/admin/users/1/edit" for ::1 at 2025-10-13 22:34:17 +0300
Processing by Admin::UsersController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='edit',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='edit',application='BMS',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 23.8ms | GC: 3.5ms)
Completed 200 OK in 28ms (Views: 24.4ms | ActiveRecord: 0.6ms (3 queries, 1 cached) | GC: 3.5ms)


Started PATCH "/admin/users/1" for ::1 at 2025-10-13 22:34:21 +0300
Processing by Admin::UsersController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "first_name" => "Super", "last_name" => "Admin", "role" => "admin", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Update User", "id" => "1"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:114:in 'Admin::UsersController#update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:114:in 'Admin::UsersController#update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:114:in 'Admin::UsersController#update'
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/edit.html.arb (Duration: 19.6ms | GC: 2.6ms)
Completed 200 OK in 234ms (Views: 19.9ms | ActiveRecord: 3.3ms (2 queries, 0 cached) | GC: 3.8ms)


Started PATCH "/admin/users/1" for ::1 at 2025-10-13 22:34:36 +0300
Processing by Admin::UsersController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "first_name" => "Super", "last_name" => "Admin", "role" => "admin", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Update User", "id" => "1"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:114:in 'Admin::UsersController#update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:114:in 'Admin::UsersController#update'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "encrypted_password" = '$2a$12$U.I2Vw/senlca08N3/aYJurE40G4FEoNnxS0Eu6OAyKlxY6pszeQ6', "updated_at" = '2025-10-13 19:34:36.771874' WHERE "users"."id" = 1 /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:114:in 'Admin::UsersController#update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*action='update',application='BMS',controller='users'*/[0m
  â†³ app/admin/users.rb:114:in 'Admin::UsersController#update'
Redirected to http://localhost:3000/admin/users/1
Completed 302 Found in 213ms (ActiveRecord: 2.3ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/admin/users/1" for ::1 at 2025-10-13 22:34:36 +0300
Processing by Admin::UsersController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='show',application='BMS',controller='users'*/[0m
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/activeadmin-3.3.0/app/views/active_admin/resource/show.html.arb (Duration: 14.5ms | GC: 0.9ms)
Completed 200 OK in 19ms (Views: 14.8ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 1.2ms)


Started POST "/users/sign_in" for ::1 at 2025-10-13 22:34:43 +0300
Processing by Users::SessionsController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"email" => "[FILTERED]", "password" => "[FILTERED]"}, "commit" => "Ð’Ð¾Ð¹Ñ‚Ð¸"}
  [1m[36mAdminUser Load (0.5ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
=== LOGIN ATTEMPT ===
Email: admin@bms.com
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@bms.com' LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:10:in 'Users::SessionsController#create'
User found: true
Authenticity token from form: sXbqgBmXHFA4IlKKMOqN7CzC0otonGZLGAICi4TcT2rPTmQT7q2FnT9sswBZZcHcKzmfO85bTzfmd1advdzgTQ
Session token: SxaFIvQLc4cX5KYna9Gk31qoLiu9UFgZYu9Gg8hdNSw
Form authenticity token valid: false
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@bms.com' ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='BMS',controller='sessions'*/[0m
  â†³ app/controllers/users/sessions_controller.rb:14:in 'Users::SessionsController#create'
Redirected to http://localhost:3000/bonuses
Completed 303 See Other in 209ms (ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:34:43 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 5.1ms | GC: 0.2ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.4ms)
Completed 200 OK in 13ms (Views: 8.3ms | ActiveRecord: 0.9ms (6 queries, 1 cached) | GC: 0.4ms)


Started GET "/heatmap" for ::1 at 2025-10-13 22:34:45 +0300
Processing by HeatmapController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-10-01 00:00:00' AND '2025-10-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.2ms | GC: 0.2ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.2ms)
Completed 200 OK in 16ms (Views: 8.0ms | ActiveRecord: 1.2ms (5 queries, 0 cached) | GC: 0.4ms)


Started GET "/marketing" for ::1 at 2025-10-13 22:34:45 +0300
Processing by MarketingController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.7ms | GC: 0.1ms)
  [1m[36mProject Load (0.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.3ms)
Completed 200 OK in 20ms (Views: 7.5ms | ActiveRecord: 3.1ms (12 queries, 1 cached) | GC: 0.4ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:34:49 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 7.6ms | GC: 3.5ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | GC: 6.6ms)
Completed 200 OK in 27ms (Views: 14.8ms | ActiveRecord: 1.4ms (6 queries, 1 cached) | GC: 12.2ms)


Started GET "/" for ::1 at 2025-10-13 22:34:53 +0300
Processing by HomeController#index as HTML
  [1m[36mAdminUser Load (0.8ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='home'*/[0m
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 7ms (ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 1.9ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:34:53 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.6ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 1.3ms)
Completed 200 OK in 15ms (Views: 7.4ms | ActiveRecord: 1.1ms (6 queries, 1 cached) | GC: 3.2ms)


Started GET "/heatmap" for ::1 at 2025-10-13 22:34:54 +0300
Processing by HeatmapController#index as HTML
  [1m[36mAdminUser Load (0.4ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='heatmap'*/[0m
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-10-01 00:00:00' AND '2025-10-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:75:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/controllers/heatmap_controller.rb:24:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 6.6ms | GC: 3.7ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='heatmap'*/[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | GC: 6.4ms)
Completed 200 OK in 21ms (Views: 13.5ms | ActiveRecord: 1.2ms (5 queries, 0 cached) | GC: 8.3ms)


Started GET "/marketing" for ::1 at 2025-10-13 22:34:57 +0300
Processing by MarketingController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/controllers/marketing_controller.rb:41:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  â†³ app/views/marketing/index.html.erb:102
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/marketing/index.html.erb:111
  Rendered marketing/index.html.erb within layouts/application (Duration: 7.3ms | GC: 3.2ms)
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='marketing'*/[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | GC: 5.1ms)
Completed 200 OK in 33ms (Views: 12.4ms | ActiveRecord: 3.7ms (12 queries, 1 cached) | GC: 12.7ms)


Started GET "/bonuses" for ::1 at 2025-10-13 22:34:58 +0300
Processing by BonusesController#index as HTML
  [1m[36mAdminUser Load (0.3ms)[0m  [1m[34mSELECT "admin_users".* FROM "admin_users" WHERE "admin_users"."id" = 3 ORDER BY "admin_users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/concerns/current_user_tracking.rb:14:in 'CurrentUserTracking#set_current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='BMS',controller='bonuses'*/[0m
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/controllers/bonuses_controller.rb:84:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonuses.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:59:in 'Enumerable#map'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='BMS',controller='bonuses'*/[0m
  â†³ app/views/bonuses/index.html.erb:151
  Rendered bonuses/index.html.erb within layouts/application (Duration: 7.5ms | GC: 3.9ms)
  [1m[36mCACHE Project Load (0.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects" ORDER BY "projects"."name" ASC[0m
  â†³ app/views/layouts/application.html.erb:76
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | GC: 6.8ms)
Completed 200 OK in 26ms (Views: 14.7ms | ActiveRecord: 1.3ms (6 queries, 1 cached) | GC: 12.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
Migrating to SeedProjectsFromBonuses (20251013182120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.7ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20251013182120' /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to CreatePermanentBonuses (20251013180322)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "permanent_bonuses" ("id" bigserial primary key, "bonus_id" bigint NOT NULL, "project_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_919acdc46a"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
, CONSTRAINT "fk_rails_9a71c52a89"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
) /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='BMS'*/[0m
  [1m[35m (2.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35m (27.2ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('20251013180322') /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
Migrating to SeedProjectsFromBonuses (20251013182120)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='BMS'*/[0m
  [1m[35m (7.1ms)[0m  [1m[34mSELECT DISTINCT project FROM bonuses WHERE project IS NOT NULL AND project != '' /*application='BMS'*/[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT DISTINCT project FROM bonus_templates WHERE project IS NOT NULL AND project != '' AND project != 'All' /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251013182120') RETURNING "version" /*application='BMS'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='BMS'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7882410825468817470) /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[35m (7.2ms)[0m  [1m[31mDELETE FROM schema_migrations WHERE version = '20251013171802' /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='BMS'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='BMS'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='BMS'*/[0m
  [1m[35m (52.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "bms_test" /*application='BMS'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE DATABASE "bms_test" ENCODING = 'utf8' TEMPLATE = "template0" /*application='BMS'*/[0m
  [1m[36mProject Count (8.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "projects" /*application='BMS'*/[0m
  [1m[36mPermanentBonus Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "permanent_bonuses" /*application='BMS'*/[0m
