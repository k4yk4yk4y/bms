  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started GET "/" for ::1 at 2025-07-19 19:50:17 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 8.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-07-19 19:51:46 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-07-19 19:51:55 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-07-19 19:51:59 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for ::1 at 2025-07-19 19:52:01 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-07-19 19:52:01 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for ::1 at 2025-07-19 20:05:23 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-07-19 20:05:23 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for ::1 at 2025-07-19 20:05:35 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 3.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-07-19 20:05:35 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/index" for ::1 at 2025-07-19 20:05:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-07-19 20:05:39 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-07-19 20:05:41 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-07-19 20:05:41 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for ::1 at 2025-07-19 20:07:57 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-07-19 20:07:57 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for ::1 at 2025-07-19 20:07:58 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-07-19 20:07:58 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for ::1 at 2025-07-19 20:08:13 +0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/pasha/.rbenv/versions/3.4.2/lib/ruby/gems/3.4.0/gems/railties-8.0.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-07-19 20:08:13 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (9.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-08-11 20:50:18.019136', '2025-08-11 20:50:18.019140') RETURNING "key" /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to CreateBonuses (20250811204823)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "bonus_type" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_bonus_type" ON "bonuses" ("bonus_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_status" ON "bonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_start_date" ON "bonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_end_date" ON "bonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_user_group" ON "bonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_country" ON "bonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_currency" ON "bonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204823') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateDepositBonuses (20250811204831)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "deposit_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT 0, "recurring_eligible" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_2448ff73ca"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonus" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_deposit_bonuses_on_bonus_id" ON "deposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_deposit_bonuses_on_bonus_id" ON "deposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-08-11 20:50:37.542362', '2025-08-11 20:50:37.542365') RETURNING "key" /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to CreateBonuses (20250811204823)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "bonus_type" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_bonus_type" ON "bonuses" ("bonus_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_status" ON "bonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_start_date" ON "bonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_end_date" ON "bonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_user_group" ON "bonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_country" ON "bonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_currency" ON "bonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204823') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateDepositBonuses (20250811204831)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "deposit_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT 0, "recurring_eligible" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_2448ff73ca"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonus" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_deposit_bonuses_on_bonus_id" ON "deposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204831') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateInputCouponBonuses (20250811204839)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "input_coupon_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "coupon_code" varchar NOT NULL, "usage_limit" integer DEFAULT 1, "usage_count" integer DEFAULT 0, "expires_at" datetime(6), "single_use" boolean DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_196a679410"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonus" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_bonus_id" ON "input_coupon_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_input_coupon_bonuses_on_coupon_code" ON "input_coupon_bonuses" ("coupon_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_expires_at" ON "input_coupon_bonuses" ("expires_at") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204839') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateManualBonuses (20250811204844)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "manual_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "admin_notes" text, "approval_required" boolean DEFAULT 1, "auto_apply" boolean DEFAULT 0, "conditions" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_342825fcc9"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonus" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_bonus_id" ON "manual_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_approval_required" ON "manual_bonuses" ("approval_required") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_auto_apply" ON "manual_bonuses" ("auto_apply") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204844') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateCollectBonuses (20250811204849)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "collect_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "collection_type" varchar NOT NULL, "collection_amount" decimal(15,2), "collection_frequency" varchar DEFAULT 'daily', "collection_limit" integer DEFAULT 1, "collected_count" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_39036008a7"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonus" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_bonus_id" ON "collect_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_type" ON "collect_bonuses" ("collection_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_frequency" ON "collect_bonuses" ("collection_frequency") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204849') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateGroupsUpdateBonuses (20250811204906)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "groups_update_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "target_groups" text NOT NULL, "update_type" varchar NOT NULL, "update_parameters" text, "batch_size" integer DEFAULT 100, "processing_status" varchar DEFAULT 'pending', "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_ed7bb087a7"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonus" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_bonus_id" ON "groups_update_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_update_type" ON "groups_update_bonuses" ("update_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_processing_status" ON "groups_update_bonuses" ("processing_status") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204906') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateSchedulerBonuses (20250811204912)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "scheduler_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "schedule_type" varchar NOT NULL, "cron_expression" varchar, "next_run_at" datetime(6), "last_run_at" datetime(6), "execution_count" integer DEFAULT 0, "max_executions" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f9f29eae23"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonus" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_bonus_id" ON "scheduler_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_schedule_type" ON "scheduler_bonuses" ("schedule_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_next_run_at" ON "scheduler_bonuses" ("next_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_last_run_at" ON "scheduler_bonuses" ("last_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811204912') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started HEAD "/" for 127.0.0.1 at 2025-08-11 23:58:29 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as */*
Completed 500 Internal Server Error in 47ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


  
NameError (undefined local variable or method 'promo_bonuses_path' for an instance of BonusesController):
  
app/controllers/application_controller.rb:10:in 'ApplicationController#set_nav_links'
Started GET "/" for 127.0.0.1 at 2025-08-11 23:58:51 +0300
Processing by BonusesController#index as */*
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.2ms)


  
ArgumentError (wrong number of arguments (given 0, expected 1..2)):
  
app/models/bonus.rb:36:in '<class:Bonus>'
app/models/bonus.rb:1:in '<main>'
app/controllers/bonuses_controller.rb:6:in 'BonusesController#index'
Started GET "/" for 127.0.0.1 at 2025-08-11 23:59:11 +0300
Processing by BonusesController#index as */*
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.1ms)


  
ArgumentError (You tried to define an enum named "bonus_type" on the model "Bonus", but this will generate a class method "collect", which is already defined by ActiveRecord::Relation.):
  
app/models/bonus.rb:43:in '<class:Bonus>'
app/models/bonus.rb:1:in '<main>'
app/controllers/bonuses_controller.rb:6:in 'BonusesController#index'
Started GET "/" for 127.0.0.1 at 2025-08-11 23:59:28 +0300
Processing by BonusesController#index as */*
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ArgumentError (You tried to define an enum named "status" on the model "Bonus", but this will generate a instance method "draft?", which is already defined by another enum.):
  
app/models/bonus.rb:36:in '<class:Bonus>'
app/models/bonus.rb:1:in '<main>'
app/controllers/bonuses_controller.rb:6:in 'BonusesController#index'
Started GET "/" for 127.0.0.1 at 2025-08-12 00:05:27 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as */*
Completed 500 Internal Server Error in 28ms (ActiveRecord: 2.2ms (0 queries, 0 cached) | GC: 1.7ms)


  
ActiveRecord::StatementInvalid (Could not find table 'bonus'):
  
app/controllers/bonuses_controller.rb:36:in 'BonusesController#index'
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to FixForeignKeyReferences (20250811210559)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acollect_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "collection_type" varchar NOT NULL, "collection_amount" decimal(15,2), "collection_frequency" varchar DEFAULT 'daily', "collection_limit" integer DEFAULT 1, "collected_count" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acollect_bonuses_on_collection_frequency" ON "acollect_bonuses" ("collection_frequency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acollect_bonuses_on_collection_type" ON "acollect_bonuses" ("collection_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acollect_bonuses_on_bonus_id" ON "acollect_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "acollect_bonuses" ("id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at")
                     SELECT "id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at" FROM "collect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "collect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "collect_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "collection_type" varchar NOT NULL, "collection_amount" decimal(15,2), "collection_frequency" varchar DEFAULT 'daily', "collection_limit" integer DEFAULT 1, "collected_count" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_bonus_id" ON "collect_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_type" ON "collect_bonuses" ("collection_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_frequency" ON "collect_bonuses" ("collection_frequency") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at")
                     SELECT "id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at" FROM "acollect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "acollect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "adeposit_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT 0, "recurring_eligible" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_adeposit_bonuses_on_bonus_id" ON "adeposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "adeposit_bonuses" ("id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at")
                     SELECT "id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at" FROM "deposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "deposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "deposit_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT 0, "recurring_eligible" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_deposit_bonuses_on_bonus_id" ON "deposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at")
                     SELECT "id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at" FROM "adeposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "adeposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "agroups_update_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "target_groups" text NOT NULL, "update_type" varchar NOT NULL, "update_parameters" text, "batch_size" integer DEFAULT 100, "processing_status" varchar DEFAULT 'pending', "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_agroups_update_bonuses_on_processing_status" ON "agroups_update_bonuses" ("processing_status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_agroups_update_bonuses_on_update_type" ON "agroups_update_bonuses" ("update_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_agroups_update_bonuses_on_bonus_id" ON "agroups_update_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "agroups_update_bonuses" ("id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at")
                     SELECT "id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at" FROM "groups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "groups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "groups_update_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "target_groups" text NOT NULL, "update_type" varchar NOT NULL, "update_parameters" text, "batch_size" integer DEFAULT 100, "processing_status" varchar DEFAULT 'pending', "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_bonus_id" ON "groups_update_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_update_type" ON "groups_update_bonuses" ("update_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_processing_status" ON "groups_update_bonuses" ("processing_status") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at")
                     SELECT "id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at" FROM "agroups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "agroups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ainput_coupon_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "coupon_code" varchar NOT NULL, "usage_limit" integer DEFAULT 1, "usage_count" integer DEFAULT 0, "expires_at" datetime(6), "single_use" boolean DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ainput_coupon_bonuses_on_expires_at" ON "ainput_coupon_bonuses" ("expires_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ainput_coupon_bonuses_on_coupon_code" ON "ainput_coupon_bonuses" ("coupon_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ainput_coupon_bonuses_on_bonus_id" ON "ainput_coupon_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ainput_coupon_bonuses" ("id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at")
                     SELECT "id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at" FROM "input_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "input_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "input_coupon_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "coupon_code" varchar NOT NULL, "usage_limit" integer DEFAULT 1, "usage_count" integer DEFAULT 0, "expires_at" datetime(6), "single_use" boolean DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_bonus_id" ON "input_coupon_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_input_coupon_bonuses_on_coupon_code" ON "input_coupon_bonuses" ("coupon_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_expires_at" ON "input_coupon_bonuses" ("expires_at") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at")
                     SELECT "id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at" FROM "ainput_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ainput_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amanual_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "admin_notes" text, "approval_required" boolean DEFAULT 1, "auto_apply" boolean DEFAULT 0, "conditions" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amanual_bonuses_on_auto_apply" ON "amanual_bonuses" ("auto_apply") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amanual_bonuses_on_approval_required" ON "amanual_bonuses" ("approval_required") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amanual_bonuses_on_bonus_id" ON "amanual_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "amanual_bonuses" ("id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at")
                     SELECT "id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at" FROM "manual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "manual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "manual_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "admin_notes" text, "approval_required" boolean DEFAULT 1, "auto_apply" boolean DEFAULT 0, "conditions" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_bonus_id" ON "manual_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_approval_required" ON "manual_bonuses" ("approval_required") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_auto_apply" ON "manual_bonuses" ("auto_apply") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at")
                     SELECT "id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at" FROM "amanual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amanual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ascheduler_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "schedule_type" varchar NOT NULL, "cron_expression" varchar, "next_run_at" datetime(6), "last_run_at" datetime(6), "execution_count" integer DEFAULT 0, "max_executions" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_last_run_at" ON "ascheduler_bonuses" ("last_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_next_run_at" ON "ascheduler_bonuses" ("next_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_schedule_type" ON "ascheduler_bonuses" ("schedule_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_bonus_id" ON "ascheduler_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "ascheduler_bonuses" ("id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at")
                     SELECT "id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at" FROM "scheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "scheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "scheduler_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "schedule_type" varchar NOT NULL, "cron_expression" varchar, "next_run_at" datetime(6), "last_run_at" datetime(6), "execution_count" integer DEFAULT 0, "max_executions" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_bonus_id" ON "scheduler_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_schedule_type" ON "scheduler_bonuses" ("schedule_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_next_run_at" ON "scheduler_bonuses" ("next_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_last_run_at" ON "scheduler_bonuses" ("last_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at")
                     SELECT "id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at" FROM "ascheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ascheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acollect_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "collection_type" varchar NOT NULL, "collection_amount" decimal(15,2), "collection_frequency" varchar DEFAULT 'daily', "collection_limit" integer DEFAULT 1, "collected_count" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acollect_bonuses_on_collection_frequency" ON "acollect_bonuses" ("collection_frequency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acollect_bonuses_on_collection_type" ON "acollect_bonuses" ("collection_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acollect_bonuses_on_bonus_id" ON "acollect_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "acollect_bonuses" ("id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at")
                     SELECT "id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at" FROM "collect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "collect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "collect_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "collection_type" varchar NOT NULL, "collection_amount" decimal(15,2), "collection_frequency" varchar DEFAULT 'daily', "collection_limit" integer DEFAULT 1, "collected_count" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_39036008a7"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_bonus_id" ON "collect_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_type" ON "collect_bonuses" ("collection_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_frequency" ON "collect_bonuses" ("collection_frequency") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at")
                     SELECT "id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at" FROM "acollect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "acollect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "adeposit_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT 0, "recurring_eligible" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_adeposit_bonuses_on_bonus_id" ON "adeposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "adeposit_bonuses" ("id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at")
                     SELECT "id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at" FROM "deposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "deposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "deposit_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT 0, "recurring_eligible" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_2448ff73ca"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_deposit_bonuses_on_bonus_id" ON "deposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at")
                     SELECT "id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at" FROM "adeposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "adeposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "agroups_update_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "target_groups" text NOT NULL, "update_type" varchar NOT NULL, "update_parameters" text, "batch_size" integer DEFAULT 100, "processing_status" varchar DEFAULT 'pending', "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_agroups_update_bonuses_on_processing_status" ON "agroups_update_bonuses" ("processing_status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_agroups_update_bonuses_on_update_type" ON "agroups_update_bonuses" ("update_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_agroups_update_bonuses_on_bonus_id" ON "agroups_update_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "agroups_update_bonuses" ("id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at")
                     SELECT "id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at" FROM "groups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "groups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "groups_update_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "target_groups" text NOT NULL, "update_type" varchar NOT NULL, "update_parameters" text, "batch_size" integer DEFAULT 100, "processing_status" varchar DEFAULT 'pending', "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_ed7bb087a7"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_bonus_id" ON "groups_update_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_update_type" ON "groups_update_bonuses" ("update_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_processing_status" ON "groups_update_bonuses" ("processing_status") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at")
                     SELECT "id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at" FROM "agroups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "agroups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ainput_coupon_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "coupon_code" varchar NOT NULL, "usage_limit" integer DEFAULT 1, "usage_count" integer DEFAULT 0, "expires_at" datetime(6), "single_use" boolean DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ainput_coupon_bonuses_on_expires_at" ON "ainput_coupon_bonuses" ("expires_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ainput_coupon_bonuses_on_coupon_code" ON "ainput_coupon_bonuses" ("coupon_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ainput_coupon_bonuses_on_bonus_id" ON "ainput_coupon_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ainput_coupon_bonuses" ("id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at")
                     SELECT "id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at" FROM "input_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "input_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "input_coupon_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "coupon_code" varchar NOT NULL, "usage_limit" integer DEFAULT 1, "usage_count" integer DEFAULT 0, "expires_at" datetime(6), "single_use" boolean DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_196a679410"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_bonus_id" ON "input_coupon_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_input_coupon_bonuses_on_coupon_code" ON "input_coupon_bonuses" ("coupon_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_expires_at" ON "input_coupon_bonuses" ("expires_at") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at")
                     SELECT "id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at" FROM "ainput_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "ainput_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amanual_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "admin_notes" text, "approval_required" boolean DEFAULT 1, "auto_apply" boolean DEFAULT 0, "conditions" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "tindex_amanual_bonuses_on_auto_apply" ON "amanual_bonuses" ("auto_apply") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amanual_bonuses_on_approval_required" ON "amanual_bonuses" ("approval_required") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amanual_bonuses_on_bonus_id" ON "amanual_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "amanual_bonuses" ("id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at")
                     SELECT "id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at" FROM "manual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "manual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "manual_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "admin_notes" text, "approval_required" boolean DEFAULT 1, "auto_apply" boolean DEFAULT 0, "conditions" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_342825fcc9"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_bonus_id" ON "manual_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_approval_required" ON "manual_bonuses" ("approval_required") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_auto_apply" ON "manual_bonuses" ("auto_apply") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at")
                     SELECT "id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at" FROM "amanual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "amanual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ascheduler_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "schedule_type" varchar NOT NULL, "cron_expression" varchar, "next_run_at" datetime(6), "last_run_at" datetime(6), "execution_count" integer DEFAULT 0, "max_executions" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_last_run_at" ON "ascheduler_bonuses" ("last_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_next_run_at" ON "ascheduler_bonuses" ("next_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_schedule_type" ON "ascheduler_bonuses" ("schedule_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_bonus_id" ON "ascheduler_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "ascheduler_bonuses" ("id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at")
                     SELECT "id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at" FROM "scheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "scheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "scheduler_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "schedule_type" varchar NOT NULL, "cron_expression" varchar, "next_run_at" datetime(6), "last_run_at" datetime(6), "execution_count" integer DEFAULT 0, "max_executions" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f9f29eae23"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_bonus_id" ON "scheduler_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_schedule_type" ON "scheduler_bonuses" ("schedule_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_next_run_at" ON "scheduler_bonuses" ("next_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_last_run_at" ON "scheduler_bonuses" ("last_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at")
                     SELECT "id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at" FROM "ascheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "ascheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250811210559') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started GET "/" for 127.0.0.1 at 2025-08-12 00:07:00 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as */*
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
NameError (uninitialized constant Bonus::BONUS_TYPES):
  
app/models/bonus.rb:13:in '<class:Bonus>'
app/models/bonus.rb:1:in '<main>'
app/controllers/bonuses_controller.rb:6:in 'BonusesController#index'
Started GET "/" for 127.0.0.1 at 2025-08-12 00:07:24 +0300
Processing by BonusesController#index as */*
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.8ms (0 queries, 0 cached) | GC: 0.6ms)


  
ActiveRecord::StatementInvalid (Could not find table 'bonus'):
  
app/controllers/bonuses_controller.rb:36:in 'BonusesController#index'
Started GET "/" for 127.0.0.1 at 2025-08-12 00:07:49 +0300
Processing by BonusesController#index as */*
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (Could not find table 'bonus'):
  
app/controllers/bonuses_controller.rb:36:in 'BonusesController#index'
Started GET "/" for 127.0.0.1 at 2025-08-12 00:13:27 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.0ms (0 queries, 0 cached) | GC: 0.4ms)


  
ActiveRecord::StatementInvalid (Could not find table 'bonus'):
  
app/controllers/bonuses_controller.rb:36:in 'BonusesController#index'
Started GET "/favicon.ico" for 127.0.0.1 at 2025-08-12 00:13:28 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TEST123' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Bonus', 'TEST123', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-08-11 21:14:28.900525', '2025-09-11 21:14:28.900567', NULL, NULL, NULL, 'USD', NULL, NULL, '2025-08-11 21:14:28.924398', '2025-08-11 21:14:28.924398') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TEST123' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Bonus', 'TEST123', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-08-11 21:15:13.123746', '2025-09-11 21:15:13.123804', NULL, NULL, NULL, 'USD', NULL, NULL, '2025-08-11 21:15:13.157922', '2025-08-11 21:15:13.157922') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mDepositBonus Load (1.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 1 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:136:in 'Bonus#create_type_specific_record'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Create (2.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Bonus', 'TEST123', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-08-11 21:15:23.860610', '2025-09-11 21:15:23.860649', NULL, NULL, NULL, 'USD', NULL, NULL, '2025-08-11 21:15:23.876988', '2025-08-11 21:15:23.876988') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 1 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:136:in 'Bonus#create_type_specific_record'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='MbsPromoRetention'*/[0m
Started GET "/" for 127.0.0.1 at 2025-08-12 00:15:29 +0300
Processing by BonusesController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.6ms (0 queries, 0 cached) | GC: 0.4ms)


  
ActionView::Template::Error (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>)
Caused by: NoMethodError (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>)

Information for: ActionView::Template::Error (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>):
     6:       <div class="d-flex justify-content-between align-items-center mb-4">
     7:         <h1 class="h2">Bonus Management</h1>
     8:         <div class="btn-group" role="group">
     9:           <%= link_to "New Deposit Bonus", new_bonus_path(type: 'deposit'), class: "btn btn-primary" %>
    10:           <%= link_to "New Coupon Bonus", new_bonus_path(type: 'input_coupon'), class: "btn btn-outline-primary" %>
    11:           <%= link_to "New Manual Bonus", new_bonus_path(type: 'manual'), class: "btn btn-outline-primary" %>
    12:         </div>
  
app/views/bonuses/index.html.erb:9

Information for cause: NoMethodError (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>):
  
app/views/bonuses/index.html.erb:9
Started GET "/" for 127.0.0.1 at 2025-08-12 00:15:56 +0300
Processing by BonusesController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>)
Caused by: NoMethodError (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>)

Information for: ActionView::Template::Error (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>):
     6:       <div class="d-flex justify-content-between align-items-center mb-4">
     7:         <h1 class="h2">Bonus Management</h1>
     8:         <div class="btn-group" role="group">
     9:           <%= link_to "New Deposit Bonus", new_bonus_path(type: 'deposit'), class: "btn btn-primary" %>
    10:           <%= link_to "New Coupon Bonus", new_bonus_path(type: 'input_coupon'), class: "btn btn-outline-primary" %>
    11:           <%= link_to "New Manual Bonus", new_bonus_path(type: 'manual'), class: "btn btn-outline-primary" %>
    12:         </div>
  
app/views/bonuses/index.html.erb:9

Information for cause: NoMethodError (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>):
  
app/views/bonuses/index.html.erb:9
Started GET "/" for 127.0.0.1 at 2025-08-12 00:16:06 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>)
Caused by: NoMethodError (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>)

Information for: ActionView::Template::Error (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>):
     6:       <div class="d-flex justify-content-between align-items-center mb-4">
     7:         <h1 class="h2">Bonus Management</h1>
     8:         <div class="btn-group" role="group">
     9:           <%= link_to "New Deposit Bonus", new_bonus_path(type: 'deposit'), class: "btn btn-primary" %>
    10:           <%= link_to "New Coupon Bonus", new_bonus_path(type: 'input_coupon'), class: "btn btn-outline-primary" %>
    11:           <%= link_to "New Manual Bonus", new_bonus_path(type: 'manual'), class: "btn btn-outline-primary" %>
    12:         </div>
  
app/views/bonuses/index.html.erb:9

Information for cause: NoMethodError (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>):
  
app/views/bonuses/index.html.erb:9
Started GET "/" for 127.0.0.1 at 2025-08-12 00:17:15 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>)
Caused by: NoMethodError (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>)

Information for: ActionView::Template::Error (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>):
     6:       <div class="d-flex justify-content-between align-items-center mb-4">
     7:         <h1 class="h2">Bonus Management</h1>
     8:         <div class="btn-group" role="group">
     9:           <%= link_to "New Deposit Bonus", new_bonus_path(type: 'deposit'), class: "btn btn-primary" %>
    10:           <%= link_to "New Coupon Bonus", new_bonus_path(type: 'input_coupon'), class: "btn btn-outline-primary" %>
    11:           <%= link_to "New Manual Bonus", new_bonus_path(type: 'manual'), class: "btn btn-outline-primary" %>
    12:         </div>
  
app/views/bonuses/index.html.erb:9

Information for cause: NoMethodError (undefined method 'new_bonus_path' for an instance of #<Class:0x0000715704a60140>):
  
app/views/bonuses/index.html.erb:9
Started GET "/" for 127.0.0.1 at 2025-08-12 00:19:41 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  Rendered bonuses/index.html.erb within layouts/application (Duration: 15.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | GC: 0.0ms)
Completed 200 OK in 115ms (Views: 30.7ms | ActiveRecord: 2.8ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/assets/app-018e72dd.css" for 127.0.0.1 at 2025-08-12 00:19:42 +0300
Started GET "/bonuses/new" for 127.0.0.1 at 2025-08-12 00:19:57 +0300
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 9.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 38.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 39.8ms | GC: 0.0ms)
Completed 200 OK in 79ms (Views: 41.9ms | ActiveRecord: 0.7ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-12 00:20:20 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  Rendered bonuses/index.html.erb within layouts/application (Duration: 5.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 9.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/bonuses" for 127.0.0.1 at 2025-08-12 00:21:23 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Welcome Bonus", "code" => "WELCOME", "bonus_type" => "deposit", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "minimum_deposit" => "1000", "wager" => "45", "maximum_winnings" => "30000", "wagering_strategy" => "standard", "availability_start_date" => "2025-08-11T21:19", "availability_end_date" => "2025-09-11T21:19"}, "deposit_bonus" => {"deposit_amount_required" => "1000", "bonus_percentage" => "100", "max_bonus_amount" => "", "first_deposit_only" => "1", "recurring_eligible" => "0"}, "commit" => "Create Bonus"}
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mBonus Exists? (3.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'WELCOME' LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Welcome Bonus', 'WELCOME', 'deposit', 'active', 1000.0, 45.0, 30000.0, 'standard', '2025-08-11 21:19:00', '2025-09-11 21:19:00', '', '', '', 'USD', NULL, NULL, '2025-08-11 21:21:23.509105', '2025-08-11 21:21:23.509105') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 1 LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:136:in 'Bonus#create_type_specific_record'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.6ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 5.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | GC: 1.4ms)
Completed 200 OK in 47ms (Views: 13.9ms | ActiveRecord: 6.4ms (3 queries, 0 cached) | GC: 1.4ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-12 00:21:25 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  Rendered bonuses/index.html.erb within layouts/application (Duration: 20.8ms | GC: 7.9ms)
  Rendered layout layouts/application.html.erb (Duration: 25.6ms | GC: 10.1ms)
Completed 200 OK in 47ms (Views: 26.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 12.4ms)


Started POST "/bonuses" for 127.0.0.1 at 2025-08-12 00:21:26 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Welcome Bonus", "code" => "WELCOME", "bonus_type" => "deposit", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "minimum_deposit" => "1000", "wager" => "45", "maximum_winnings" => "30000", "wagering_strategy" => "standard", "availability_start_date" => "2025-08-11T21:19", "availability_end_date" => "2025-09-11T21:19"}, "deposit_bonus" => {"deposit_amount_required" => "1000", "bonus_percentage" => "100", "max_bonus_amount" => "", "first_deposit_only" => "1", "recurring_eligible" => "0"}, "commit" => "Create Bonus"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mBonus Exists? (9.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'WELCOME' LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Welcome Bonus', 'WELCOME', 'deposit', 'active', 1000.0, 45.0, 30000.0, 'standard', '2025-08-11 21:19:00', '2025-09-11 21:19:00', '', '', '', 'USD', NULL, NULL, '2025-08-11 21:21:26.686941', '2025-08-11 21:21:26.686941') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 1 LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:136:in 'Bonus#create_type_specific_record'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.8ms | GC: 0.4ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.6ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | GC: 0.4ms)
Completed 200 OK in 49ms (Views: 9.4ms | ActiveRecord: 10.3ms (3 queries, 0 cached) | GC: 11.8ms)


Started GET "/" for 127.0.0.1 at 2025-08-12 00:21:39 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.4ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.3ms)
Completed 200 OK in 23ms (Views: 10.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.3ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-12 00:21:41 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.5ms)
Completed 200 OK in 24ms (Views: 8.9ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.5ms)


Started GET "/bonuses/new?type=manual" for 127.0.0.1 at 2025-08-12 00:21:41 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "manual"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.6ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 11.4ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | GC: 0.3ms)
Completed 200 OK in 49ms (Views: 15.9ms | ActiveRecord: 1.4ms (0 queries, 0 cached) | GC: 1.6ms)


Started GET "/bonuses/new" for 127.0.0.1 at 2025-08-12 00:21:43 +0300
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.5ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 14.9ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | GC: 0.6ms)
Completed 200 OK in 29ms (Views: 17.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses/new" for 127.0.0.1 at 2025-08-12 00:21:45 +0300
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.7ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 11.7ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | GC: 0.3ms)
Completed 200 OK in 31ms (Views: 19.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/bonuses/new?type=deposit" for 127.0.0.1 at 2025-08-12 00:22:04 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 10.1ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | GC: 0.2ms)
Completed 200 OK in 30ms (Views: 14.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started POST "/bonuses" for 127.0.0.1 at 2025-08-12 00:22:19 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Welcome Bonus", "code" => "", "bonus_type" => "deposit", "status" => "draft", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-11T21:22", "availability_end_date" => "2025-09-11T21:22"}, "deposit_bonus" => {"deposit_amount_required" => "1999", "bonus_percentage" => "100", "max_bonus_amount" => "", "first_deposit_only" => "0", "recurring_eligible" => "0"}, "commit" => "Create Bonus"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_CB952825' LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mCACHE Bonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_CB952825' LIMIT 1[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mBonus Create (1.8ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Welcome Bonus', 'BONUS_CB952825', 'deposit', 'draft', NULL, NULL, NULL, '', '2025-08-11 21:22:00', '2025-09-11 21:22:00', '', '', '', 'USD', NULL, NULL, '2025-08-11 21:22:19.305928', '2025-08-11 21:22:19.305928') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 1 LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:136:in 'Bonus#create_type_specific_record'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 9.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | GC: 0.0ms)
Completed 200 OK in 49ms (Views: 14.7ms | ActiveRecord: 2.8ms (4 queries, 1 cached) | GC: 1.0ms)


Started GET "/bonuses/new?type=deposit" for ::1 at 2025-08-12 00:23:13 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#new as HTML
  Parameters: {"type" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 6.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 34.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 47.9ms | GC: 0.0ms)
Completed 200 OK in 156ms (Views: 54.1ms | ActiveRecord: 6.4ms (0 queries, 0 cached) | GC: 0.5ms)


Started HEAD "/" for 127.0.0.1 at 2025-08-12 00:26:11 +0300
Processing by BonusesController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  Rendered bonuses/index.html.erb within layouts/application (Duration: 5.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 8.5ms | ActiveRecord: 2.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?type=deposit" for 127.0.0.1 at 2025-08-12 00:26:31 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.7ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 13.4ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | GC: 0.6ms)
Completed 200 OK in 83ms (Views: 15.5ms | ActiveRecord: 1.4ms (0 queries, 0 cached) | GC: 21.8ms)


Started POST "/bonuses" for 127.0.0.1 at 2025-08-12 00:26:46 +0300
Processing by BonusesController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Bonus", "code" => "", "bonus_type" => "deposit", "status" => "draft", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-11T21:22", "availability_end_date" => "2025-09-11T21:22"}, "deposit_bonus" => {"deposit_amount_required" => "100", "bonus_percentage" => "50", "max_bonus_amount" => "", "first_deposit_only" => "0", "recurring_eligible" => "0"}, "commit" => "Create Bonus"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
actionpack (8.0.2) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
rack (3.1.16) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.1.16) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.1.16) lib/rack/conditional_get.rb:43:in 'Rack::ConditionalGet#call'
rack (3.1.16) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.1.16) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.1.16) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.1.16) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.0) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.0) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.0) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.0) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started POST "/bonuses" for 127.0.0.1 at 2025-08-12 00:27:21 +0300
Processing by BonusesController#create as HTML
  Parameters: {"bonus" => {"name" => "Test Bonus", "code" => "", "bonus_type" => "deposit", "status" => "draft", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-11T21:22", "availability_end_date" => "2025-09-11T21:22"}, "deposit_bonus" => {"deposit_amount_required" => "100", "bonus_percentage" => "50", "max_bonus_amount" => "", "first_deposit_only" => "0", "recurring_eligible" => "0"}, "commit" => "Create Bonus"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:128:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_221860F4' LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:128:in 'block in Bonus#generate_code'
  [1m[36mCACHE Bonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_221860F4' LIMIT 1[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Bonus', 'BONUS_221860F4', 'deposit', 'draft', NULL, NULL, NULL, '', '2025-08-11 21:22:00', '2025-09-11 21:22:00', '', '', '', 'USD', NULL, NULL, '2025-08-11 21:27:21.776256', '2025-08-11 21:27:21.776256') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 1 LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:237:in 'BonusesController#update_type_specific_attributes'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:240:in 'BonusesController#update_type_specific_attributes'
  [1m[36mDepositBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (1, 100.0, 50.0, NULL, 0, 0, '2025-08-11 21:27:21.796318', '2025-08-11 21:27:21.796318') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:240:in 'BonusesController#update_type_specific_attributes'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:240:in 'BonusesController#update_type_specific_attributes'
Redirected to http://localhost:3000/bonuses/1
Completed 302 Found in 58ms (ActiveRecord: 7.1ms (5 queries, 1 cached) | GC: 2.2ms)


Started GET "/bonuses/1" for 127.0.0.1 at 2025-08-12 00:27:27 +0300
Processing by BonusesController#show as JSON
  Parameters: {"id" => "1"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 1 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:54:in 'block (2 levels) in BonusesController#show'
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?type=deposit" for 127.0.0.1 at 2025-08-12 00:28:13 +0300
Processing by BonusesController#new as */*
  Parameters: {"type" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.8ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 9.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 18.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/bonuses" for 127.0.0.1 at 2025-08-12 00:28:21 +0300
Processing by BonusesController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Bonus 2", "code" => "", "bonus_type" => "deposit", "status" => "draft", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-11T21:22", "availability_end_date" => "2025-09-11T21:22"}, "deposit_bonus" => {"deposit_amount_required" => "200", "bonus_percentage" => "100", "max_bonus_amount" => "500", "first_deposit_only" => "1", "recurring_eligible" => "0"}, "commit" => "Create Bonus"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:128:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2A219FD9' LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:128:in 'block in Bonus#generate_code'
  [1m[36mCACHE Bonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2A219FD9' LIMIT 1[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mBonus Create (1.5ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Bonus 2', 'BONUS_2A219FD9', 'deposit', 'draft', NULL, NULL, NULL, '', '2025-08-11 21:22:00', '2025-09-11 21:22:00', '', '', '', 'USD', NULL, NULL, '2025-08-11 21:28:21.708786', '2025-08-11 21:28:21.708786') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 2 LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:237:in 'BonusesController#update_type_specific_attributes'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:240:in 'BonusesController#update_type_specific_attributes'
  [1m[36mDepositBonus Create (2.5ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (2, 200.0, 100.0, 500.0, 1, 0, '2025-08-11 21:28:21.715016', '2025-08-11 21:28:21.715016') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:240:in 'BonusesController#update_type_specific_attributes'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:240:in 'BonusesController#update_type_specific_attributes'
Redirected to http://localhost:3000/bonuses/2
Completed 302 Found in 33ms (ActiveRecord: 6.1ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/bonuses/2" for 127.0.0.1 at 2025-08-12 00:28:26 +0300
Processing by BonusesController#show as JSON
  Parameters: {"id" => "2"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 2 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 2 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:54:in 'block (2 levels) in BonusesController#show'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 6.3ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-12 00:28:35 +0300
Processing by BonusesController#index as JSON
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:46:in 'block (2 levels) in BonusesController#index'
  [1m[36mDepositBonus Load (1.0ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:46:in 'block (2 levels) in BonusesController#index'
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:46:in 'block (2 levels) in BonusesController#index'
  [1m[36mManualBonus Load (1.9ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:46:in 'block (2 levels) in BonusesController#index'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:46:in 'block (2 levels) in BonusesController#index'
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:46:in 'block (2 levels) in BonusesController#index'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:46:in 'block (2 levels) in BonusesController#index'
Completed 200 OK in 120ms (Views: 104.9ms | ActiveRecord: 5.8ms (7 queries, 0 cached) | GC: 4.6ms)


Started GET "/bonuses/new?type=deposit" for ::1 at 2025-08-12 00:29:12 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 4.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 10.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | GC: 0.0ms)
Completed 200 OK in 46ms (Views: 13.8ms | ActiveRecord: 1.4ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/bonuses" for ::1 at 2025-08-12 00:29:34 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Welcome Bonus", "code" => "WELCOME", "bonus_type" => "deposit", "status" => "draft", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "minimum_deposit" => "1999", "wager" => "45", "maximum_winnings" => "30000", "wagering_strategy" => "", "availability_start_date" => "2025-08-11T21:29", "availability_end_date" => "2025-09-11T21:29"}, "deposit_bonus" => {"deposit_amount_required" => "1999", "bonus_percentage" => "100", "max_bonus_amount" => "", "first_deposit_only" => "0", "recurring_eligible" => "0"}, "commit" => "Create Bonus"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'WELCOME' LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Welcome Bonus', 'WELCOME', 'deposit', 'draft', 1999.0, 45.0, 30000.0, '', '2025-08-11 21:29:00', '2025-09-11 21:29:00', '', '', '', 'USD', NULL, NULL, '2025-08-11 21:29:34.888395', '2025-08-11 21:29:34.888395') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:75:in 'block in BonusesController#create'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:237:in 'BonusesController#update_type_specific_attributes'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:240:in 'BonusesController#update_type_specific_attributes'
  [1m[36mDepositBonus Create (8.0ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (3, 1999.0, 100.0, NULL, 0, 0, '2025-08-11 21:29:34.896501', '2025-08-11 21:29:34.896501') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:240:in 'BonusesController#update_type_specific_attributes'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:240:in 'BonusesController#update_type_specific_attributes'
Redirected to http://localhost:3000/bonuses/3
Completed 302 Found in 39ms (ActiveRecord: 11.9ms (4 queries, 0 cached) | GC: 5.0ms)


Started GET "/bonuses/3" for ::1 at 2025-08-12 00:29:34 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (1.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 6.9ms | GC: 1.4ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 19.2ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | GC: 1.4ms)
Completed 200 OK in 37ms (Views: 21.5ms | ActiveRecord: 1.6ms (2 queries, 0 cached) | GC: 2.5ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:29:36 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.4ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 49.4ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 49.9ms | GC: 1.7ms)
Completed 500 Internal Server Error in 63ms (ActiveRecord: 5.0ms (8 queries, 0 cached) | GC: 3.1ms)


  
ActionView::Template::Error (unable to convert unpermitted parameters to hash)
Caused by: ActionController::UnfilteredParameters (unable to convert unpermitted parameters to hash)

Information for: ActionView::Template::Error (unable to convert unpermitted parameters to hash):
    159:                       class: "btn btn-outline-secondary me-2" %>
    160:                 <% end %>
    161:                 <span class="me-2">Page <%= current_page %></span>
    162:                 <%= link_to "Next", bonuses_path(params.merge(page: current_page + 1)), 
    163:                     class: "btn btn-outline-secondary" %>
    164:               </div>
    165:             </div>
  
app/views/bonuses/index.html.erb:162

Information for cause: ActionController::UnfilteredParameters (unable to convert unpermitted parameters to hash):
  
app/views/bonuses/index.html.erb:162
Started GET "/" for ::1 at 2025-08-12 00:29:36 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.5ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 43.4ms | GC: 5.4ms)
  Rendered layout layouts/application.html.erb (Duration: 46.8ms | GC: 6.4ms)
Completed 500 Internal Server Error in 103ms (ActiveRecord: 1.6ms (8 queries, 0 cached) | GC: 12.9ms)


  
ActionView::Template::Error (unable to convert unpermitted parameters to hash)
Caused by: ActionController::UnfilteredParameters (unable to convert unpermitted parameters to hash)

Information for: ActionView::Template::Error (unable to convert unpermitted parameters to hash):
    159:                       class: "btn btn-outline-secondary me-2" %>
    160:                 <% end %>
    161:                 <span class="me-2">Page <%= current_page %></span>
    162:                 <%= link_to "Next", bonuses_path(params.merge(page: current_page + 1)), 
    163:                     class: "btn btn-outline-secondary" %>
    164:               </div>
    165:             </div>
  
app/views/bonuses/index.html.erb:162

Information for cause: ActionController::UnfilteredParameters (unable to convert unpermitted parameters to hash):
  
app/views/bonuses/index.html.erb:162
Started GET "/bonuses" for ::1 at 2025-08-12 00:29:37 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.3ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.6ms | GC: 2.3ms)
  Rendered layout layouts/application.html.erb (Duration: 24.0ms | GC: 2.3ms)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 1.3ms (8 queries, 0 cached) | GC: 2.3ms)


  
ActionView::Template::Error (unable to convert unpermitted parameters to hash)
Caused by: ActionController::UnfilteredParameters (unable to convert unpermitted parameters to hash)

Information for: ActionView::Template::Error (unable to convert unpermitted parameters to hash):
    159:                       class: "btn btn-outline-secondary me-2" %>
    160:                 <% end %>
    161:                 <span class="me-2">Page <%= current_page %></span>
    162:                 <%= link_to "Next", bonuses_path(params.merge(page: current_page + 1)), 
    163:                     class: "btn btn-outline-secondary" %>
    164:               </div>
    165:             </div>
  
app/views/bonuses/index.html.erb:162

Information for cause: ActionController::UnfilteredParameters (unable to convert unpermitted parameters to hash):
  
app/views/bonuses/index.html.erb:162
Started GET "/bonuses" for 127.0.0.1 at 2025-08-12 00:30:32 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 77.6ms | GC: 12.2ms)
  Rendered layout layouts/application.html.erb (Duration: 85.3ms | GC: 14.0ms)
Completed 200 OK in 109ms (Views: 82.9ms | ActiveRecord: 4.2ms (8 queries, 0 cached) | GC: 15.0ms)


Started GET "/bonuses?page=2" for 127.0.0.1 at 2025-08-12 00:30:38 +0300
Processing by BonusesController#index as HTML
  Parameters: {"page" => "2"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 20 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  Rendered bonuses/index.html.erb within layouts/application (Duration: 13.0ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | GC: 2.0ms)
Completed 200 OK in 54ms (Views: 18.9ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 3.1ms)


Started GET "/bonuses?page=2" for 127.0.0.1 at 2025-08-12 00:30:43 +0300
Processing by BonusesController#index as HTML
  Parameters: {"page" => "2"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 20 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  Rendered bonuses/index.html.erb within layouts/application (Duration: 4.9ms | GC: 1.9ms)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | GC: 2.7ms)
Completed 200 OK in 29ms (Views: 11.8ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 3.2ms)


Started GET "/bonuses?type=deposit&page=2" for 127.0.0.1 at 2025-08-12 00:30:53 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "deposit", "page" => "2"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."bonus_type" = 'deposit' LIMIT 1 OFFSET 20 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.0ms | GC: 2.2ms)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | GC: 3.4ms)
Completed 200 OK in 35ms (Views: 16.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 3.7ms)


Started GET "/bonuses?type=deposit&page=2" for 127.0.0.1 at 2025-08-12 00:30:59 +0300
Processing by BonusesController#index as */*
  Parameters: {"type" => "deposit", "page" => "2"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."bonus_type" = 'deposit' LIMIT 1 OFFSET 20 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  Rendered bonuses/index.html.erb within layouts/application (Duration: 7.9ms | GC: 1.8ms)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | GC: 2.7ms)
Completed 200 OK in 30ms (Views: 15.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 3.0ms)


Started GET "/bonuses?type=deposit&page=2" for 127.0.0.1 at 2025-08-12 00:31:02 +0300
Processing by BonusesController#index as */*
  Parameters: {"type" => "deposit", "page" => "2"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."bonus_type" = 'deposit' LIMIT 1 OFFSET 20 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  Rendered bonuses/index.html.erb within layouts/application (Duration: 12.1ms | GC: 3.2ms)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | GC: 3.7ms)
Completed 200 OK in 32ms (Views: 16.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 4.1ms)


Started GET "/bonuses?search=Test&page=1" for 127.0.0.1 at 2025-08-12 00:31:13 +0300
Processing by BonusesController#index as */*
  Parameters: {"search" => "Test", "page" => "1"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE (name LIKE '%Test%' OR code LIKE '%Test%') LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE (name LIKE '%Test%' OR code LIKE '%Test%') ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.3ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
[31mUnpermitted parameter: :page. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x000076582d8b4060>, params: {"search" => "Test", "page" => "1", "controller" => "bonuses", "action" => "index"} }[0m
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.2ms | GC: 6.1ms)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | GC: 6.1ms)
Completed 200 OK in 29ms (Views: 19.0ms | ActiveRecord: 1.4ms (8 queries, 0 cached) | GC: 6.6ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:31:36 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.2ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | GC: 1.2ms)
Completed 200 OK in 41ms (Views: 23.5ms | ActiveRecord: 1.1ms (8 queries, 0 cached) | GC: 2.1ms)


Started GET "/bonuses/2/activate" for ::1 at 2025-08-12 00:31:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/bonuses/2/activate"):
  
Started GET "/bonuses" for 127.0.0.1 at 2025-08-12 00:32:51 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.7ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 51.8ms | GC: 4.1ms)
  Rendered layout layouts/application.html.erb (Duration: 56.7ms | GC: 4.6ms)
Completed 200 OK in 73ms (Views: 54.3ms | ActiveRecord: 5.0ms (8 queries, 0 cached) | GC: 5.6ms)


Started PATCH "/bonuses/2/activate" for 127.0.0.1 at 2025-08-12 00:32:58 +0300
Processing by BonusesController#activate as HTML
  Parameters: {"id" => "2"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (8.0.2) lib/action_controller/metal/request_forgery_protection.rb:314:in 'ActionController::RequestForgeryProtection::ProtectionMethods::Exception#handle_unverified_request'
actionpack (8.0.2) lib/action_controller/metal/request_forgery_protection.rb:408:in 'ActionController::RequestForgeryProtection#handle_unverified_request'
actionpack (8.0.2) lib/action_controller/metal/request_forgery_protection.rb:397:in 'ActionController::RequestForgeryProtection#verify_authenticity_token'
activesupport (8.0.2) lib/active_support/callbacks.rb:361:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
activesupport (8.0.2) lib/active_support/callbacks.rb:178:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:34:in 'block (2 levels) in <module:Callbacks>'
activesupport (8.0.2) lib/active_support/callbacks.rb:179:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
rack (3.1.16) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.1.16) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.1.16) lib/rack/conditional_get.rb:43:in 'Rack::ConditionalGet#call'
rack (3.1.16) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.1.16) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.1.16) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.1.16) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.0) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.0) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.0) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.0) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/bonuses" for 127.0.0.1 at 2025-08-12 00:33:28 +0300
Processing by BonusesController#index as */*
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.8ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.5ms | GC: 1.8ms)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | GC: 1.8ms)
Completed 200 OK in 42ms (Views: 24.1ms | ActiveRecord: 1.5ms (8 queries, 0 cached) | GC: 1.8ms)


Started PATCH "/bonuses/2/activate" for 127.0.0.1 at 2025-08-12 00:33:35 +0300
Processing by BonusesController#activate as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "id" => "2"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 2 LIMIT 1 /*action='activate',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='activate',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:89:in 'Bonus#activate!'
  [1m[36mBonus Update (6.0ms)[0m  [1m[33mUPDATE "bonuses" SET "status" = 'active', "updated_at" = '2025-08-11 21:33:35.658003' WHERE "bonuses"."id" = 2 /*action='activate',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:89:in 'Bonus#activate!'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='activate',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:89:in 'Bonus#activate!'
Redirected to http://localhost:3000/bonuses/2
Completed 302 Found in 39ms (ActiveRecord: 11.8ms (2 queries, 0 cached) | GC: 0.9ms)


Started GET "/bonuses/2" for 127.0.0.1 at 2025-08-12 00:33:41 +0300
Processing by BonusesController#show as JSON
  Parameters: {"id" => "2"}
  [1m[36mBonus Load (1.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 2 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 2 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:54:in 'block (2 levels) in BonusesController#show'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 1.4ms (2 queries, 0 cached) | GC: 1.0ms)


Started GET "/bonuses/2/activate" for ::1 at 2025-08-12 00:33:53 +0300
  
ActionController::RoutingError (No route matches [GET] "/bonuses/2/activate"):
  
Started GET "/bonuses/2/activate" for ::1 at 2025-08-12 00:33:57 +0300
  
ActionController::RoutingError (No route matches [GET] "/bonuses/2/activate"):
  
Started GET "/bonuses" for ::1 at 2025-08-12 00:33:59 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | GC: 0.0ms)
Completed 200 OK in 49ms (Views: 27.9ms | ActiveRecord: 0.9ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/2" for ::1 at 2025-08-12 00:34:00 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "2"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 2 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 2 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 8.1ms | GC: 2.8ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 11.3ms | GC: 2.8ms)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | GC: 2.8ms)
Completed 200 OK in 27ms (Views: 14.8ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 2.8ms)


Started DELETE "/bonuses/2?_method=delete" for ::1 at 2025-08-12 00:34:08 +0300
Processing by BonusesController#destroy as TURBO_STREAM
  Parameters: {"id" => "2"}
  [1m[36mBonus Load (1.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 2 LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:103:in 'BonusesController#destroy'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 2 LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:103:in 'BonusesController#destroy'
  [1m[36mDepositBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 2 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:103:in 'BonusesController#destroy'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 2 LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:103:in 'BonusesController#destroy'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 2 LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:103:in 'BonusesController#destroy'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 2 LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:103:in 'BonusesController#destroy'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 2 LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:103:in 'BonusesController#destroy'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 2 LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:103:in 'BonusesController#destroy'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 2 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:103:in 'BonusesController#destroy'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:103:in 'BonusesController#destroy'
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 76ms (ActiveRecord: 6.9ms (9 queries, 0 cached) | GC: 8.1ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:34:08 +0300
Processing by BonusesController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.3ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 18.4ms | ActiveRecord: 1.2ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/3" for ::1 at 2025-08-12 00:34:12 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 2.7ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 5.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 7.3ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/3/edit" for ::1 at 2025-08-12 00:34:15 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:10
  Rendered bonuses/_type_specific_form.html.erb (Duration: 4.6ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 13.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 15.0ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/3" for ::1 at 2025-08-12 00:34:19 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 2.5ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.7ms)
Completed 200 OK in 18ms (Views: 7.8ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.7ms)


Started GET "/bonuses/3" for ::1 at 2025-08-12 00:34:19 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 3.1ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 6.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | GC: 0.5ms)
Completed 200 OK in 18ms (Views: 9.0ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.5ms)


Started PATCH "/bonuses/3" for ::1 at 2025-08-12 00:34:20 +0300
Processing by BonusesController#update as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Welcome Bonus", "code" => "WELCOME", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "minimum_deposit" => "1999.0", "wager" => "45.0", "maximum_winnings" => "30000.0", "wagering_strategy" => "", "availability_start_date" => "2025-08-11T21:29", "availability_end_date" => "2025-09-11T21:29"}, "deposit_bonus" => {"deposit_amount_required" => "1999.0", "bonus_percentage" => "100.0", "max_bonus_amount" => "", "first_deposit_only" => "0", "recurring_eligible" => "0"}, "commit" => "Update Bonus", "id" => "3"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:90:in 'block in BonusesController#update'
  [1m[36mBonus Update (0.1ms)[0m  [1m[33mUPDATE "bonuses" SET "status" = 'active', "updated_at" = '2025-08-11 21:34:20.149403' WHERE "bonuses"."id" = 3 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:90:in 'block in BonusesController#update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:90:in 'block in BonusesController#update'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:237:in 'BonusesController#update_type_specific_attributes'
Redirected to http://localhost:3000/bonuses/3
Completed 302 Found in 27ms (ActiveRecord: 4.7ms (3 queries, 0 cached) | GC: 0.8ms)


Started GET "/bonuses/3" for ::1 at 2025-08-12 00:34:20 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 2.7ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 6.4ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:34:22 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (1.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (1.6ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.8ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | GC: 1.0ms)
Completed 200 OK in 35ms (Views: 21.6ms | ActiveRecord: 3.5ms (8 queries, 0 cached) | GC: 1.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:34:25 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (1.3ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.6ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | GC: 0.4ms)
Completed 200 OK in 38ms (Views: 23.0ms | ActiveRecord: 2.1ms (8 queries, 0 cached) | GC: 0.9ms)


Started GET "/bonuses/3" for ::1 at 2025-08-12 00:35:29 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 10.7ms | GC: 1.4ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 18.5ms | GC: 4.9ms)
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | GC: 5.4ms)
Completed 200 OK in 76ms (Views: 25.1ms | ActiveRecord: 4.1ms (2 queries, 0 cached) | GC: 32.6ms)


Started GET "/bonuses/3/edit" for ::1 at 2025-08-12 00:35:29 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:10
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.1ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 12.3ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | GC: 1.7ms)
Completed 200 OK in 30ms (Views: 13.4ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 1.7ms)


Started PATCH "/bonuses/3" for ::1 at 2025-08-12 00:35:44 +0300
Processing by BonusesController#update as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Welcome Bonus", "code" => "WELCOME", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "no_bonus,gambling_addict", "minimum_deposit" => "1999.0", "wager" => "45.0", "maximum_winnings" => "30000.0", "wagering_strategy" => "", "availability_start_date" => "2025-08-11T21:29", "availability_end_date" => "2025-09-11T21:29"}, "deposit_bonus" => {"deposit_amount_required" => "1999.0", "bonus_percentage" => "100.0", "max_bonus_amount" => "", "first_deposit_only" => "0", "recurring_eligible" => "0"}, "commit" => "Update Bonus", "id" => "3"}
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:90:in 'block in BonusesController#update'
  [1m[36mBonus Update (0.1ms)[0m  [1m[33mUPDATE "bonuses" SET "tags" = 'no_bonus,gambling_addict', "updated_at" = '2025-08-11 21:35:44.217142' WHERE "bonuses"."id" = 3 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:90:in 'block in BonusesController#update'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:90:in 'block in BonusesController#update'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:237:in 'BonusesController#update_type_specific_attributes'
Redirected to http://localhost:3000/bonuses/3
Completed 302 Found in 27ms (ActiveRecord: 4.7ms (3 queries, 0 cached) | GC: 1.1ms)


Started GET "/bonuses/3" for ::1 at 2025-08-12 00:35:44 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 1.9ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 5.7ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.7ms)


Started GET "/bonuses/3/edit" for ::1 at 2025-08-12 00:35:46 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:10
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.0ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 10.7ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | GC: 0.6ms)
Completed 200 OK in 22ms (Views: 12.3ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses/3/edit" for ::1 at 2025-08-12 00:35:50 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:171:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:10
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.3ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 10.0ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | GC: 0.6ms)
Completed 200 OK in 24ms (Views: 13.3ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 1.2ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:37:41 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 97.3ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 98.3ms | GC: 0.9ms)
Completed 200 OK in 111ms (Views: 95.1ms | ActiveRecord: 4.2ms (8 queries, 0 cached) | GC: 0.9ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:37:41 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (2.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.3ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 21.2ms | ActiveRecord: 3.4ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/1" for ::1 at 2025-08-12 00:39:37 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:172:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 1 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 9.3ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 12.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | GC: 0.0ms)
Completed 200 OK in 47ms (Views: 16.7ms | ActiveRecord: 1.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?type=&status=active&search=&commit=Filter" for ::1 at 2025-08-12 00:40:37 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "active", "search" => "", "commit" => "Filter"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."status" = 'active' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."status" = 'active' ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
[31mUnpermitted parameter: :commit. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x000076582e240520>, params: {"type" => "", "status" => "active", "search" => "", "commit" => "Filter", "controller" => "bonuses", "action" => "index"} }[0m
  Rendered bonuses/index.html.erb within layouts/application (Duration: 65.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 69.8ms | GC: 0.0ms)
Completed 200 OK in 91ms (Views: 65.3ms | ActiveRecord: 7.4ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:40:44 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 40.4ms | GC: 7.8ms)
  Rendered layout layouts/application.html.erb (Duration: 41.6ms | GC: 7.8ms)
Completed 200 OK in 58ms (Views: 43.4ms | ActiveRecord: 1.1ms (8 queries, 0 cached) | GC: 7.8ms)


Started GET "/assets/app-018e72dd.css" for ::1 at 2025-08-12 00:40:44 +0300
Started GET "/assets/stimulus-loading-1fc53fe7.js" for ::1 at 2025-08-12 00:40:44 +0300
Started GET "/assets/stimulus.min-4b1e420e.js" for ::1 at 2025-08-12 00:40:44 +0300
Started GET "/assets/controllers/hello_controller-708796bd.js" for ::1 at 2025-08-12 00:40:44 +0300
Started GET "/assets/controllers/index-ee64e1f1.js" for ::1 at 2025-08-12 00:40:44 +0300
Started GET "/assets/turbo.min-3a2e143f.js" for ::1 at 2025-08-12 00:40:44 +0300
Started GET "/assets/application-bfcdf840.js" for ::1 at 2025-08-12 00:40:44 +0300
Started GET "/assets/controllers/application-3affb389.js" for ::1 at 2025-08-12 00:40:45 +0300
Started GET "/bonuses/new?type=input_coupon" for ::1 at 2025-08-12 00:40:49 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "input_coupon"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 4.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 13.9ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | GC: 1.5ms)
Completed 200 OK in 35ms (Views: 16.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.2ms)


Started GET "/bonuses/new?type=deposit" for ::1 at 2025-08-12 00:40:54 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 9.9ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | GC: 1.1ms)
Completed 200 OK in 26ms (Views: 12.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.1ms)


Started GET "/bonuses/new?type=input_coupon" for ::1 at 2025-08-12 00:40:59 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "input_coupon"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 8.2ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | GC: 0.8ms)
Completed 200 OK in 35ms (Views: 12.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)


Started POST "/bonuses" for ::1 at 2025-08-12 00:41:06 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый купонный бонус", "code" => "", "bonus_type" => "input_coupon", "status" => "draft", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-11T21:40", "availability_end_date" => "2025-09-11T21:40"}, "input_coupon_bonus" => {"coupon_code" => "TEST_COUPON_123", "usage_limit" => "1", "expires_at" => "2025-09-10T21:40", "single_use" => "1"}, "commit" => "Create Bonus"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (3.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_4568B29B' LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mCACHE Bonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_4568B29B' LIMIT 1[0m
  ↳ app/controllers/bonuses_controller.rb:76:in 'block in BonusesController#create'
  [1m[36mBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Тестовый купонный бонус', 'BONUS_4568B29B', 'input_coupon', 'draft', NULL, NULL, NULL, '', '2025-08-11 21:40:00', '2025-09-11 21:40:00', '', '', '', 'USD', NULL, NULL, '2025-08-11 21:41:06.759072', '2025-08-11 21:41:06.759072') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:76:in 'block in BonusesController#create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:76:in 'block in BonusesController#create'
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 4 LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:247:in 'BonusesController#update_type_specific_attributes'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:250:in 'BonusesController#update_type_specific_attributes'
  [1m[36mInputCouponBonus Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST_COUPON_123' LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:250:in 'BonusesController#update_type_specific_attributes'
  [1m[36mInputCouponBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (4, 'TEST_COUPON_123', 1, 0, '2025-09-10 21:40:00', 1, '2025-08-11 21:41:06.781766', '2025-08-11 21:41:06.781766') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:250:in 'BonusesController#update_type_specific_attributes'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:250:in 'BonusesController#update_type_specific_attributes'
Redirected to http://localhost:3000/bonuses/4
Completed 302 Found in 58ms (ActiveRecord: 12.0ms (6 queries, 1 cached) | GC: 1.2ms)


Started GET "/bonuses/4" for ::1 at 2025-08-12 00:41:06 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "4"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 4 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:175:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 4 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:48
  Rendered bonuses/_type_specific_details.html.erb (Duration: 4.3ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 7.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | GC: 0.7ms)
Completed 200 OK in 27ms (Views: 11.2ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 1.5ms)


Started GET "/bonuses?type=&status=active&search=&commit=Filter" for ::1 at 2025-08-12 00:41:57 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "active", "search" => "", "commit" => "Filter"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."status" = 'active' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."status" = 'active' ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
[31mUnpermitted parameter: :commit. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x000076582d9cdc08>, params: {"type" => "", "status" => "active", "search" => "", "commit" => "Filter", "controller" => "bonuses", "action" => "index"} }[0m
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.4ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | GC: 0.9ms)
Completed 200 OK in 28ms (Views: 18.2ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 0.9ms)


Started GET "/bonuses/3/edit" for ::1 at 2025-08-12 00:42:00 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:175:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:10
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.3ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 9.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | GC: 0.4ms)
Completed 200 OK in 22ms (Views: 10.8ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses/3" for ::1 at 2025-08-12 00:42:00 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "3"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:175:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 1.9ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 5.1ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?type=input_coupon" for ::1 at 2025-08-12 00:42:04 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "input_coupon"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 7.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:42:11 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:61
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:78
  Rendered bonuses/index.html.erb within layouts/application (Duration: 13.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | GC: 0.2ms)
Completed 200 OK in 27ms (Views: 15.5ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses/new?type=input_coupon" for ::1 at 2025-08-12 00:42:14 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "input_coupon"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 9.0ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | GC: 0.3ms)
Completed 200 OK in 22ms (Views: 12.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/bonuses/new?type=manual" for ::1 at 2025-08-12 00:42:15 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "manual"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 14.3ms | GC: 1.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 19.7ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | GC: 1.0ms)
Completed 200 OK in 37ms (Views: 22.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.2ms)


Started GET "/bonuses/new?type=manual" for ::1 at 2025-08-12 00:42:15 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "manual"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 0.2ms)
Completed 200 OK in 18ms (Views: 9.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:45:09 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 66.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 68.9ms | GC: 0.0ms)
Completed 200 OK in 99ms (Views: 65.1ms | ActiveRecord: 7.9ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?type=input_coupon" for ::1 at 2025-08-12 00:45:18 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "input_coupon"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 4.8ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 13.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 17.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:45:25 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (1.3ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 42.3ms | GC: 9.8ms)
  Rendered layout layouts/application.html.erb (Duration: 46.0ms | GC: 9.8ms)
Completed 200 OK in 62ms (Views: 46.8ms | ActiveRecord: 2.2ms (8 queries, 0 cached) | GC: 9.8ms)


Started GET "/bonuses/new?type=deposit" for ::1 at 2025-08-12 00:45:28 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 12.7ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | GC: 0.9ms)
Completed 200 OK in 33ms (Views: 16.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.5ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:47:11 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (5.3ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 94.0ms | GC: 3.8ms)
  Rendered layout layouts/application.html.erb (Duration: 98.8ms | GC: 3.8ms)
Completed 200 OK in 125ms (Views: 91.5ms | ActiveRecord: 12.6ms (8 queries, 0 cached) | GC: 4.5ms)


Started GET "/bonuses/new?type=input_coupon" for ::1 at 2025-08-12 00:47:23 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "input_coupon"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 5.5ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 21.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | GC: 0.2ms)
Completed 200 OK in 37ms (Views: 26.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:50:42 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (1.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 61.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 64.0ms | GC: 0.0ms)
Completed 200 OK in 84ms (Views: 60.1ms | ActiveRecord: 6.5ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-08-12 00:52:15 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.7ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 5.1ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.8ms)
Completed 200 OK in 31ms (Views: 9.1ms | ActiveRecord: 2.7ms (2 queries, 0 cached) | GC: 2.0ms)


Started GET "/heatmap?bonus_type=input_coupon&month=8&year=2025&commit=Apply+Filter" for ::1 at 2025-08-12 00:52:30 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "input_coupon", "month" => "8", "year" => "2025", "commit" => "Apply Filter"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' AND "bonuses"."bonus_type" = 'input_coupon' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.7ms)
Completed 200 OK in 28ms (Views: 9.6ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.7ms)


Started GET "/heatmap?bonus_type=input_coupon&month=7&year=2025" for ::1 at 2025-08-12 00:52:35 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "input_coupon", "month" => "7", "year" => "2025"}
  [1m[36mBonus Count (2.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' AND "bonuses"."bonus_type" = 'input_coupon' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 8.4ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | GC: 0.9ms)
Completed 200 OK in 42ms (Views: 13.6ms | ActiveRecord: 2.2ms (2 queries, 0 cached) | GC: 2.0ms)


Started GET "/heatmap?bonus_type=input_coupon&month=6&year=2025" for ::1 at 2025-08-12 00:52:35 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "input_coupon", "month" => "6", "year" => "2025"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-06-01 00:00:00' AND '2025-06-30 23:59:59.999999' AND "bonuses"."bonus_type" = 'input_coupon' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 5.5ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 0.7ms)
Completed 200 OK in 34ms (Views: 15.6ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 1.3ms)


Started GET "/" for ::1 at 2025-08-12 00:52:45 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 78.8ms | GC: 2.4ms)
  Rendered layout layouts/application.html.erb (Duration: 80.7ms | GC: 2.4ms)
Completed 200 OK in 98ms (Views: 75.0ms | ActiveRecord: 6.7ms (8 queries, 0 cached) | GC: 2.8ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:52:45 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.3ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.3ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.3ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.9ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | GC: 0.5ms)
Completed 200 OK in 38ms (Views: 22.5ms | ActiveRecord: 1.8ms (8 queries, 0 cached) | GC: 0.7ms)


Started GET "/" for ::1 at 2025-08-12 00:52:46 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.5ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (2.4ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (1.0ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 29.9ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 32.4ms | GC: 0.3ms)
Completed 200 OK in 46ms (Views: 28.6ms | ActiveRecord: 4.8ms (8 queries, 0 cached) | GC: 0.3ms)


Started GET "/heatmap" for ::1 at 2025-08-12 00:52:46 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 8.9ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-08-12 00:54:27 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 5.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 11.7ms | ActiveRecord: 2.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-08-12 00:54:36 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 5.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 10.4ms | ActiveRecord: 1.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-08-12 00:55:00 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 4.3ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.6ms)
Completed 200 OK in 22ms (Views: 7.2ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses" for ::1 at 2025-08-12 00:55:01 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (1.4ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 69.8ms | GC: 6.0ms)
  Rendered layout layouts/application.html.erb (Duration: 71.2ms | GC: 6.0ms)
Completed 200 OK in 87ms (Views: 65.0ms | ActiveRecord: 6.6ms (8 queries, 0 cached) | GC: 6.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-12 00:58:44 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/bonuses" for ::1 at 2025-08-12 00:58:55 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.3ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 64.7ms | GC: 5.1ms)
  Rendered layout layouts/application.html.erb (Duration: 68.0ms | GC: 5.6ms)
Completed 200 OK in 87ms (Views: 66.6ms | ActiveRecord: 5.5ms (8 queries, 0 cached) | GC: 7.4ms)


Started GET "/bonuses?type=deposit&status=active&search=&commit=Filter" for ::1 at 2025-08-12 00:59:33 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "deposit", "status" => "active", "search" => "", "commit" => "Filter"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."bonus_type" = 'deposit' AND "bonuses"."status" = 'active' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."bonus_type" = 'deposit' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 3 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
[31mUnpermitted parameter: :commit. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x000076582d4a1cc0>, params: {"type" => "deposit", "status" => "active", "search" => "", "commit" => "Filter", "controller" => "bonuses", "action" => "index"} }[0m
  Rendered bonuses/index.html.erb within layouts/application (Duration: 64.9ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 67.7ms | GC: 1.4ms)
Completed 200 OK in 94ms (Views: 64.8ms | ActiveRecord: 7.9ms (8 queries, 0 cached) | GC: 2.8ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-12 00:59:45 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2024-07-01 00:00:00' AND '2024-07-31 23:59:59.999999' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:10:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_CD06BD93' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_CD06BD93' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0701-1', 'BONUS_CD06BD93', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-01 00:00:00', '2024-07-01 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 21:59:45.934264', '2025-08-11 21:59:45.934264') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (5, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 21:59:45.958007', '2025-08-11 21:59:45.958007') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_19335550' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_19335550' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0703-1', 'BONUS_19335550', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-03 00:00:00', '2024-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 21:59:45.964292', '2025-08-11 21:59:45.964292') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (6, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 21:59:45.967705', '2025-08-11 21:59:45.967705') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D5CE3D65' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D5CE3D65' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0703-2', 'BONUS_D5CE3D65', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-03 00:01:00', '2024-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 21:59:45.973984', '2025-08-11 21:59:45.973984') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (7, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 21:59:45.983280', '2025-08-11 21:59:45.983280') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_17CD7C23' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_17CD7C23' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0708-1', 'BONUS_17CD7C23', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-08 00:00:00', '2024-07-08 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 21:59:45.989565', '2025-08-11 21:59:45.989565') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07081' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
Started GET "/bonuses" for ::1 at 2025-08-12 00:59:50 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (8, 7, 6, 5, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (8, 7, 6, 5, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (8, 7, 6, 5, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (8, 7, 6, 5, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (8, 7, 6, 5, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (8, 7, 6, 5, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 32.3ms | GC: 2.6ms)
  Rendered layout layouts/application.html.erb (Duration: 35.3ms | GC: 2.6ms)
Completed 200 OK in 48ms (Views: 34.6ms | ActiveRecord: 1.2ms (8 queries, 0 cached) | GC: 2.6ms)


Started GET "/bonuses?type=input_coupon&status=active&search=&commit=Filter" for ::1 at 2025-08-12 00:59:50 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "input_coupon", "status" => "active", "search" => "", "commit" => "Filter"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."bonus_type" = 'input_coupon' AND "bonuses"."status" = 'active' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."bonus_type" = 'input_coupon' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 8 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 8 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 8 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 8 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 8 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 8 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
[31mUnpermitted parameter: :commit. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x000076582d8394c8>, params: {"type" => "input_coupon", "status" => "active", "search" => "", "commit" => "Filter", "controller" => "bonuses", "action" => "index"} }[0m
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.7ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | GC: 1.7ms)
Completed 200 OK in 37ms (Views: 20.1ms | ActiveRecord: 1.0ms (8 queries, 0 cached) | GC: 1.7ms)


  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2024-07-01 00:00:00' AND '2024-07-31 23:59:59.999999' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:10:in 'block (2 levels) in <main>'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2024-07-01 00:00:00' AND '2024-07-31 23:59:59.999999' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 5 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.3ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 4 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 5 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 5 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 5 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 5 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 5 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 5 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.0ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 5 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 6 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "manual_bonuses" WHERE "manual_bonuses"."id" = 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 7 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 8 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E8EF5848' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E8EF5848' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0701-1', 'BONUS_E8EF5848', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-01 00:00:00', '2024-07-01 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 21:59:55.525793', '2025-08-11 21:59:55.525793') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (9, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 21:59:55.528378', '2025-08-11 21:59:55.528378') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_BB75D7B6' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_BB75D7B6' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0703-1', 'BONUS_BB75D7B6', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-03 00:00:00', '2024-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 21:59:55.532994', '2025-08-11 21:59:55.532994') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (10, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 21:59:55.534738', '2025-08-11 21:59:55.534738') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_4C0AE9D8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_4C0AE9D8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0703-2', 'BONUS_4C0AE9D8', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-03 00:01:00', '2024-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 21:59:55.539984', '2025-08-11 21:59:55.539984') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (11, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 21:59:55.542014', '2025-08-11 21:59:55.542014') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_4D266D8B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_4D266D8B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0708-1', 'BONUS_4D266D8B', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-08 00:00:00', '2024-07-08 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 21:59:55.548241', '2025-08-11 21:59:55.548241') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07081' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (12, 'TEST07081', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 21:59:55.557872', '2025-08-11 21:59:55.557872') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_65BCC748' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_65BCC748' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0712-1', 'BONUS_65BCC748', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-12 00:00:00', '2024-07-12 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 21:59:55.562853', '2025-08-11 21:59:55.562853') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
Started GET "/" for ::1 at 2025-08-12 01:00:03 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (13, 12, 11, 10, 9, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (13, 12, 11, 10, 9, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (13, 12, 11, 10, 9, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (1.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (13, 12, 11, 10, 9, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (13, 12, 11, 10, 9, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.4ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (13, 12, 11, 10, 9, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.3ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | GC: 0.7ms)
Completed 200 OK in 39ms (Views: 22.8ms | ActiveRecord: 2.4ms (8 queries, 0 cached) | GC: 0.7ms)


Started GET "/bonuses" for ::1 at 2025-08-12 01:00:04 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (13, 12, 11, 10, 9, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (13, 12, 11, 10, 9, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.6ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (13, 12, 11, 10, 9, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (13, 12, 11, 10, 9, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (13, 12, 11, 10, 9, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (13, 12, 11, 10, 9, 4, 3, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.8ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | GC: 0.6ms)
Completed 200 OK in 38ms (Views: 19.1ms | ActiveRecord: 1.6ms (8 queries, 0 cached) | GC: 0.6ms)


  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2024-07-01 00:00:00' AND '2024-07-31 23:59:59.999999' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:10:in 'block (2 levels) in <main>'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2024-07-01 00:00:00' AND '2024-07-31 23:59:59.999999' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (2.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 6 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 9 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (1.5ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 7 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (1.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.5ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 10 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (1.8ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.5ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "manual_bonuses" WHERE "manual_bonuses"."id" = 2 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 11 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."id" = 2 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 12 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.9ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.3ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 13 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_CDB7F949' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_CDB7F949' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0701-1', 'BONUS_CDB7F949', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-01 00:00:00', '2024-07-01 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:07.926849', '2025-08-11 22:00:07.926849') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (1.4ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (14, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:07.930107', '2025-08-11 22:00:07.930107') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E996F43D' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E996F43D' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0703-1', 'BONUS_E996F43D', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-03 00:00:00', '2024-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:07.937656', '2025-08-11 22:00:07.937656') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (1.1ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (15, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:07.940994', '2025-08-11 22:00:07.940994') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_3C94F7DA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_3C94F7DA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0703-2', 'BONUS_3C94F7DA', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-03 00:01:00', '2024-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:07.946417', '2025-08-11 22:00:07.946417') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (16, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:07.949061', '2025-08-11 22:00:07.949061') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7BB398AB' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7BB398AB' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0708-1', 'BONUS_7BB398AB', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-08 00:00:00', '2024-07-08 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:07.954716', '2025-08-11 22:00:07.954716') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07081' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (17, 'TEST07081', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:07.959169', '2025-08-11 22:00:07.959169') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_DC76F96E' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_DC76F96E' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0712-1', 'BONUS_DC76F96E', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-12 00:00:00', '2024-07-12 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:07.963352', '2025-08-11 22:00:07.963352') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (1.3ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (18, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:07.969363', '2025-08-11 22:00:07.969363') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0D8F2381' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0D8F2381' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0712-2', 'BONUS_0D8F2381', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-12 00:01:00', '2024-07-12 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:07.975828', '2025-08-11 22:00:07.975828') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
Started GET "/heatmap" for ::1 at 2025-08-12 01:00:14 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 10.6ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | GC: 0.2ms)
Completed 200 OK in 33ms (Views: 12.9ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.2ms)


  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2024-07-01 00:00:00' AND '2024-07-31 23:59:59.999999' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:10:in 'block (2 levels) in <main>'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2024-07-01 00:00:00' AND '2024-07-31 23:59:59.999999' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 8 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 14 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.0ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 9 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 15 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (1.5ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "manual_bonuses" WHERE "manual_bonuses"."id" = 3 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 16 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."id" = 3 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 17 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.8ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "collect_bonuses" WHERE "collect_bonuses"."id" = 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 18 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 19 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_301620EF' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_301620EF' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0701-1', 'BONUS_301620EF', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-01 00:00:00', '2024-07-01 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.857555', '2025-08-11 22:00:19.857555') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (20, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:19.861160', '2025-08-11 22:00:19.861160') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_75556254' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_75556254' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0703-1', 'BONUS_75556254', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-03 00:00:00', '2024-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.866394', '2025-08-11 22:00:19.866394') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (21, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:19.868873', '2025-08-11 22:00:19.868873') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_56D64C44' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_56D64C44' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0703-2', 'BONUS_56D64C44', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-03 00:01:00', '2024-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.873369', '2025-08-11 22:00:19.873369') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (22, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:19.875395', '2025-08-11 22:00:19.875395') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_5FA0BA07' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_5FA0BA07' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0708-1', 'BONUS_5FA0BA07', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-08 00:00:00', '2024-07-08 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.880201', '2025-08-11 22:00:19.880201') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07081' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.4ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (23, 'TEST07081', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:19.885053', '2025-08-11 22:00:19.885053') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_ABF457E8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_ABF457E8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0712-1', 'BONUS_ABF457E8', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-12 00:00:00', '2024-07-12 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.891416', '2025-08-11 22:00:19.891416') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (24, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:19.894318', '2025-08-11 22:00:19.894318') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7545053E' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7545053E' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0712-2', 'BONUS_7545053E', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-12 00:01:00', '2024-07-12 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.901407', '2025-08-11 22:00:19.901407') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (25, 'recurring', '0 12 * * *', '2024-07-13 00:00:00', '2024-07-12 00:00:00', 1, 30, '2025-08-11 22:00:19.911531', '2025-08-11 22:00:19.911531') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_6C834602' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_6C834602' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.4ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0705-1', 'BONUS_6C834602', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-05 00:00:00', '2024-07-05 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.919034', '2025-08-11 22:00:19.919034') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (1.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (26, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:19.922345', '2025-08-11 22:00:19.922345') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_A483D936' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_A483D936' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0705-2', 'BONUS_A483D936', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-05 00:01:00', '2024-07-05 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.929785', '2025-08-11 22:00:19.929785') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (27, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:19.932508', '2025-08-11 22:00:19.932508') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_60E81759' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_60E81759' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0705-3', 'BONUS_60E81759', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-05 00:02:00', '2024-07-05 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.937092', '2025-08-11 22:00:19.937092') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07053' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (28, 'TEST07053', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:19.940748', '2025-08-11 22:00:19.940748') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_DC26AC39' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_DC26AC39' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0710-1', 'BONUS_DC26AC39', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-10 00:00:00', '2024-07-10 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.945186', '2025-08-11 22:00:19.945186') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (29, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:19.947718', '2025-08-11 22:00:19.947718') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_DF79BAF8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_DF79BAF8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0710-2', 'BONUS_DF79BAF8', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-10 00:01:00', '2024-07-10 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.952733', '2025-08-11 22:00:19.952733') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (30, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:19.955282', '2025-08-11 22:00:19.955282') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7943A4D2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7943A4D2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0710-3', 'BONUS_7943A4D2', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-10 00:02:00', '2024-07-10 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.960299', '2025-08-11 22:00:19.960299') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (31, 'recurring', '0 12 * * *', '2024-07-11 00:00:00', '2024-07-10 00:00:00', 1, 30, '2025-08-11 22:00:19.962577', '2025-08-11 22:00:19.962577') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_AC2840CB' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_AC2840CB' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0710-4', 'BONUS_AC2840CB', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2024-07-10 00:03:00', '2024-07-10 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:19.968011', '2025-08-11 22:00:19.968011') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2024-07-01 00:00:00' AND '2024-07-31 23:59:59.999999' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:10:in 'block (2 levels) in <main>'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2024-07-01 00:00:00' AND '2024-07-31 23:59:59.999999' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 10 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.9ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 20 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.0ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 11 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.0ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 21 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "manual_bonuses" WHERE "manual_bonuses"."id" = 4 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 22 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.8ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 26 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.0ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 12 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 26 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 26 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 26 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 26 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 26 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 26 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.8ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 27 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 27 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 27 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Destroy (0.2ms)[0m  [1m[31mDELETE FROM "manual_bonuses" WHERE "manual_bonuses"."id" = 5 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 27 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 27 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 27 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 27 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (1.0ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 28 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 28 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."id" = 5 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 28 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 28 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 28 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 28 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 28 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (1.4ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Destroy (0.0ms)[0m  [1m[31mDELETE FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."id" = 4 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.0ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 23 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 29 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.0ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 13 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 29 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 29 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 29 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 29 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 29 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 29 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 30 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 30 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 30 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 30 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "collect_bonuses" WHERE "collect_bonuses"."id" = 3 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 30 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 30 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.2ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 30 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.9ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 31 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 31 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 31 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 31 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 31 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 31 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."id" = 2 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 31 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (1.8ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 32 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 32 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 32 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 32 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 32 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 32 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 32 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 24 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 24 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 24 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 24 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "collect_bonuses" WHERE "collect_bonuses"."id" = 2 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 24 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 24 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 24 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.9ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 25 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 25 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 25 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 25 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 25 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 25 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."id" = 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 25 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_8B82D1BB' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_8B82D1BB' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0701-1', 'BONUS_8B82D1BB', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-01 00:00:00', '2024-07-01 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.174854', '2025-08-11 22:00:37.174854') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (33, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.177643', '2025-08-11 22:00:37.177643') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_6626E164' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_6626E164' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0703-1', 'BONUS_6626E164', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-03 00:00:00', '2024-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.182960', '2025-08-11 22:00:37.182960') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (34, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.186464', '2025-08-11 22:00:37.186464') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0A79D254' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0A79D254' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0703-2', 'BONUS_0A79D254', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-03 00:01:00', '2024-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.191038', '2025-08-11 22:00:37.191038') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (35, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.193093', '2025-08-11 22:00:37.193093') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_13FF095F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_13FF095F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0708-1', 'BONUS_13FF095F', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-08 00:00:00', '2024-07-08 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.199795', '2025-08-11 22:00:37.199795') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07081' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (36, 'TEST07081', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.227104', '2025-08-11 22:00:37.227104') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_6D3129EC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_6D3129EC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.4ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0712-1', 'BONUS_6D3129EC', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-12 00:00:00', '2024-07-12 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.233247', '2025-08-11 22:00:37.233247') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (37, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:37.238057', '2025-08-11 22:00:37.238057') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_02FC2A5F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_02FC2A5F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0712-2', 'BONUS_02FC2A5F', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-12 00:01:00', '2024-07-12 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.243083', '2025-08-11 22:00:37.243083') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (38, 'recurring', '0 12 * * *', '2024-07-13 00:00:00', '2024-07-12 00:00:00', 1, 30, '2025-08-11 22:00:37.247078', '2025-08-11 22:00:37.247078') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_3D9F07BC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_3D9F07BC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0705-1', 'BONUS_3D9F07BC', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-05 00:00:00', '2024-07-05 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.253281', '2025-08-11 22:00:37.253281') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (39, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.256014', '2025-08-11 22:00:37.256014') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_721180AC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_721180AC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0705-2', 'BONUS_721180AC', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-05 00:01:00', '2024-07-05 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.262834', '2025-08-11 22:00:37.262834') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (40, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.265905', '2025-08-11 22:00:37.265905') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_44CC359C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_44CC359C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.4ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0705-3', 'BONUS_44CC359C', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-05 00:02:00', '2024-07-05 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.272772', '2025-08-11 22:00:37.272772') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07053' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (41, 'TEST07053', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.278669', '2025-08-11 22:00:37.278669') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E17E5E9A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E17E5E9A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0710-1', 'BONUS_E17E5E9A', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-10 00:00:00', '2024-07-10 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.284010', '2025-08-11 22:00:37.284010') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (1.4ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (42, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.287108', '2025-08-11 22:00:37.287108') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_526382EA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_526382EA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0710-2', 'BONUS_526382EA', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-10 00:01:00', '2024-07-10 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.292639', '2025-08-11 22:00:37.292639') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (1.2ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (43, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:37.296262', '2025-08-11 22:00:37.296262') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B04B043D' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B04B043D' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0710-3', 'BONUS_B04B043D', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-10 00:02:00', '2024-07-10 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.304336', '2025-08-11 22:00:37.304336') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (44, 'recurring', '0 12 * * *', '2024-07-11 00:00:00', '2024-07-10 00:00:00', 1, 30, '2025-08-11 22:00:37.307284', '2025-08-11 22:00:37.307284') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_28CB5261' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_28CB5261' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0710-4', 'BONUS_28CB5261', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2024-07-10 00:03:00', '2024-07-10 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.313349', '2025-08-11 22:00:37.313349') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (3.6ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (45, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:00:37.319712', '2025-08-11 22:00:37.319712') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7A395F01' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7A395F01' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0718-1', 'BONUS_7A395F01', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-18 00:00:00', '2024-07-18 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.330288', '2025-08-11 22:00:37.330288') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (1.4ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (46, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.333890', '2025-08-11 22:00:37.333890') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D47A7829' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D47A7829' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0718-2', 'BONUS_D47A7829', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-18 00:01:00', '2024-07-18 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.339023', '2025-08-11 22:00:37.339023') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07182' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (47, 'TEST07182', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.343933', '2025-08-11 22:00:37.343933') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_29AF348A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_29AF348A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0718-3', 'BONUS_29AF348A', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-18 00:02:00', '2024-07-18 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.351354', '2025-08-11 22:00:37.351354') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (48, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:37.354976', '2025-08-11 22:00:37.354976') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E8EB567F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E8EB567F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0722-1', 'BONUS_E8EB567F', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-22 00:00:00', '2024-07-22 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.361833', '2025-08-11 22:00:37.361833') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (49, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.365439', '2025-08-11 22:00:37.365439') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_87A114A2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_87A114A2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0722-2', 'BONUS_87A114A2', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-22 00:01:00', '2024-07-22 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.371468', '2025-08-11 22:00:37.371468') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (1.3ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (50, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.376047', '2025-08-11 22:00:37.376047') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B18A82AF' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B18A82AF' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0722-3', 'BONUS_B18A82AF', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-22 00:02:00', '2024-07-22 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.382061', '2025-08-11 22:00:37.382061') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (1.8ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (51, 'recurring', '0 12 * * *', '2024-07-23 00:00:00', '2024-07-22 00:00:00', 1, 30, '2025-08-11 22:00:37.385734', '2025-08-11 22:00:37.385734') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_ACE98943' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_ACE98943' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0722-4', 'BONUS_ACE98943', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-22 00:03:00', '2024-07-22 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.392843', '2025-08-11 22:00:37.392843') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (15.9ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07224' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (52, 'TEST07224', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.414364', '2025-08-11 22:00:37.414364') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_3667BFF4' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_3667BFF4' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0707-1', 'BONUS_3667BFF4', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-07 00:00:00', '2024-07-07 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.420269', '2025-08-11 22:00:37.420269') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (53, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.422702', '2025-08-11 22:00:37.422702') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_35516490' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_35516490' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0707-2', 'BONUS_35516490', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-07 00:01:00', '2024-07-07 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.430965', '2025-08-11 22:00:37.430965') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (54, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.433686', '2025-08-11 22:00:37.433686') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B859C9F5' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B859C9F5' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0707-3', 'BONUS_B859C9F5', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-07 00:02:00', '2024-07-07 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.437369', '2025-08-11 22:00:37.437369') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07073' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (55, 'TEST07073', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.442505', '2025-08-11 22:00:37.442505') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_1BBD9510' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_1BBD9510' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0707-4', 'BONUS_1BBD9510', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-07 00:03:00', '2024-07-07 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.447320', '2025-08-11 22:00:37.447320') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (56, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:37.451366', '2025-08-11 22:00:37.451366') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_500588BE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_500588BE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0707-5', 'BONUS_500588BE', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-07 00:04:00', '2024-07-07 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.459748', '2025-08-11 22:00:37.459748') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (57, 'recurring', '0 12 * * *', '2024-07-08 00:00:00', '2024-07-07 00:00:00', 1, 30, '2025-08-11 22:00:37.463330', '2025-08-11 22:00:37.463330') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_F951844F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_F951844F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0714-1', 'BONUS_F951844F', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-14 00:00:00', '2024-07-14 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.483686', '2025-08-11 22:00:37.483686') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (1.3ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (58, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.486155', '2025-08-11 22:00:37.486155') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C5AFF50A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C5AFF50A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0714-2', 'BONUS_C5AFF50A', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-14 00:01:00', '2024-07-14 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.490978', '2025-08-11 22:00:37.490978') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (59, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.494411', '2025-08-11 22:00:37.494411') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_87D0C8ED' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_87D0C8ED' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0714-3', 'BONUS_87D0C8ED', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-14 00:02:00', '2024-07-14 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.501212', '2025-08-11 22:00:37.501212') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07143' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (60, 'TEST07143', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.506391', '2025-08-11 22:00:37.506391') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_02406512' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_02406512' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.4ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0714-4', 'BONUS_02406512', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-14 00:03:00', '2024-07-14 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.517781', '2025-08-11 22:00:37.517781') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (61, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:37.520782', '2025-08-11 22:00:37.520782') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_84334AE8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_84334AE8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0714-5', 'BONUS_84334AE8', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-14 00:04:00', '2024-07-14 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.526083', '2025-08-11 22:00:37.526083') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (62, 'recurring', '0 12 * * *', '2024-07-15 00:00:00', '2024-07-14 00:00:00', 1, 30, '2025-08-11 22:00:37.527870', '2025-08-11 22:00:37.527870') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D6985350' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D6985350' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0714-6', 'BONUS_D6985350', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2024-07-14 00:05:00', '2024-07-14 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.534584', '2025-08-11 22:00:37.534584') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (63, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:00:37.537671', '2025-08-11 22:00:37.537671') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_F861385E' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_F861385E' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0725-1', 'BONUS_F861385E', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-25 00:00:00', '2024-07-25 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.541732', '2025-08-11 22:00:37.541732') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (4.5ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (64, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.545008', '2025-08-11 22:00:37.545008') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_28D9EC21' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_28D9EC21' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0725-2', 'BONUS_28D9EC21', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-25 00:01:00', '2024-07-25 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.554257', '2025-08-11 22:00:37.554257') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (2.1ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (65, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.556008', '2025-08-11 22:00:37.556008') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (3.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_78D8E627' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_78D8E627' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0725-3', 'BONUS_78D8E627', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-25 00:02:00', '2024-07-25 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.567635', '2025-08-11 22:00:37.567635') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (1.2ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (66, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.571183', '2025-08-11 22:00:37.571183') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_5E147305' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_5E147305' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0725-4', 'BONUS_5E147305', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-25 00:03:00', '2024-07-25 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.579399', '2025-08-11 22:00:37.579399') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07254' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (67, 'TEST07254', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.586625', '2025-08-11 22:00:37.586625') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_9128BF0B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_9128BF0B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0725-5', 'BONUS_9128BF0B', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-25 00:04:00', '2024-07-25 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.594950', '2025-08-11 22:00:37.594950') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (2.5ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (68, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:37.597138', '2025-08-11 22:00:37.597138') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_77C149C7' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_77C149C7' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0715-1', 'BONUS_77C149C7', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-15 00:00:00', '2024-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.603068', '2025-08-11 22:00:37.603068') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (69, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.604844', '2025-08-11 22:00:37.604844') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_552FC649' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_552FC649' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0715-2', 'BONUS_552FC649', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-15 00:01:00', '2024-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.609518', '2025-08-11 22:00:37.609518') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (70, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.611015', '2025-08-11 22:00:37.611015') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_EE09FB72' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_EE09FB72' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0715-3', 'BONUS_EE09FB72', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-15 00:02:00', '2024-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.614359', '2025-08-11 22:00:37.614359') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (71, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.616529', '2025-08-11 22:00:37.616529') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_5A209C56' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_5A209C56' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0715-4', 'BONUS_5A209C56', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-15 00:03:00', '2024-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.620933', '2025-08-11 22:00:37.620933') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07154' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (72, 'TEST07154', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.626651', '2025-08-11 22:00:37.626651') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_1C59E913' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_1C59E913' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0715-5', 'BONUS_1C59E913', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-15 00:04:00', '2024-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.630040', '2025-08-11 22:00:37.630040') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (73, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:37.631753', '2025-08-11 22:00:37.631753') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_95DF57A3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_95DF57A3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0715-6', 'BONUS_95DF57A3', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-15 00:05:00', '2024-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.635984', '2025-08-11 22:00:37.635984') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (74, 'recurring', '0 12 * * *', '2024-07-16 00:00:00', '2024-07-15 00:00:00', 1, 30, '2025-08-11 22:00:37.638445', '2025-08-11 22:00:37.638445') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E4A4A625' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E4A4A625' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0715-7', 'BONUS_E4A4A625', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2024-07-15 00:06:00', '2024-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.642558', '2025-08-11 22:00:37.642558') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (75, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:00:37.644077', '2025-08-11 22:00:37.644077') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E36A4BB6' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E36A4BB6' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0720-1', 'BONUS_E36A4BB6', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-20 00:00:00', '2024-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.648132', '2025-08-11 22:00:37.648132') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (1.2ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (76, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.649866', '2025-08-11 22:00:37.649866') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_5D47C63A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_5D47C63A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0720-2', 'BONUS_5D47C63A', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-20 00:01:00', '2024-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.655727', '2025-08-11 22:00:37.655727') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (77, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.657689', '2025-08-11 22:00:37.657689') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_8A2E56C5' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_8A2E56C5' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0720-3', 'BONUS_8A2E56C5', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-20 00:02:00', '2024-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.661964', '2025-08-11 22:00:37.661964') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (78, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.663577', '2025-08-11 22:00:37.663577') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2448F223' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2448F223' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0720-4', 'BONUS_2448F223', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-20 00:03:00', '2024-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.667906', '2025-08-11 22:00:37.667906') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (79, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.669699', '2025-08-11 22:00:37.669699') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D501CEAE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D501CEAE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0720-5', 'BONUS_D501CEAE', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-20 00:04:00', '2024-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.673916', '2025-08-11 22:00:37.673916') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07205' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (80, 'TEST07205', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.685424', '2025-08-11 22:00:37.685424') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_5BA242B9' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_5BA242B9' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0720-6', 'BONUS_5BA242B9', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-20 00:05:00', '2024-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.688832', '2025-08-11 22:00:37.688832') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (81, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:37.690406', '2025-08-11 22:00:37.690406') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_F09EC580' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_F09EC580' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0720-7', 'BONUS_F09EC580', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-20 00:06:00', '2024-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.695090', '2025-08-11 22:00:37.695090') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (82, 'recurring', '0 12 * * *', '2024-07-21 00:00:00', '2024-07-20 00:00:00', 1, 30, '2025-08-11 22:00:37.696844', '2025-08-11 22:00:37.696844') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_FF9C1683' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_FF9C1683' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0720-8', 'BONUS_FF9C1683', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2024-07-20 00:07:00', '2024-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.702601', '2025-08-11 22:00:37.702601') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (83, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:00:37.704771', '2025-08-11 22:00:37.704771') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_3D5DB624' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_3D5DB624' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0716-1', 'BONUS_3D5DB624', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-16 00:00:00', '2024-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.710001', '2025-08-11 22:00:37.710001') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (84, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.713060', '2025-08-11 22:00:37.713060') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_71A64B4D' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_71A64B4D' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0716-2', 'BONUS_71A64B4D', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-16 00:01:00', '2024-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.718037', '2025-08-11 22:00:37.718037') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (85, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.722184', '2025-08-11 22:00:37.722184') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_8EFCBE81' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_8EFCBE81' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0716-3', 'BONUS_8EFCBE81', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-16 00:02:00', '2024-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.726455', '2025-08-11 22:00:37.726455') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (86, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.728986', '2025-08-11 22:00:37.728986') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2C66CA7B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2C66CA7B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0716-4', 'BONUS_2C66CA7B', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-16 00:03:00', '2024-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.735527', '2025-08-11 22:00:37.735527') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (1.2ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (87, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.737173', '2025-08-11 22:00:37.737173') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2FEDD848' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2FEDD848' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.4ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0716-5', 'BONUS_2FEDD848', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-16 00:04:00', '2024-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.741917', '2025-08-11 22:00:37.741917') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (88, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.743982', '2025-08-11 22:00:37.743982') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E4345A84' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E4345A84' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0716-6', 'BONUS_E4345A84', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-16 00:05:00', '2024-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.747814', '2025-08-11 22:00:37.747814') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07166' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (89, 'TEST07166', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.752103', '2025-08-11 22:00:37.752103') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_78AB9BAC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_78AB9BAC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0716-7', 'BONUS_78AB9BAC', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-16 00:06:00', '2024-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.755197', '2025-08-11 22:00:37.755197') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (90, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:37.757019', '2025-08-11 22:00:37.757019') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_ACF0F751' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_ACF0F751' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0716-8', 'BONUS_ACF0F751', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-16 00:07:00', '2024-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.762392', '2025-08-11 22:00:37.762392') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (91, 'recurring', '0 12 * * *', '2024-07-17 00:00:00', '2024-07-16 00:00:00', 1, 30, '2025-08-11 22:00:37.764285', '2025-08-11 22:00:37.764285') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7AA78032' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7AA78032' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0716-9', 'BONUS_7AA78032', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2024-07-16 00:08:00', '2024-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.768086', '2025-08-11 22:00:37.768086') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (92, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:00:37.771172', '2025-08-11 22:00:37.771172') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_79C21D0B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_79C21D0B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0728-1', 'BONUS_79C21D0B', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-28 00:00:00', '2024-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.775118', '2025-08-11 22:00:37.775118') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (93, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.776777', '2025-08-11 22:00:37.776777') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B10EB4ED' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B10EB4ED' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0728-2', 'BONUS_B10EB4ED', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-28 00:01:00', '2024-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.782273', '2025-08-11 22:00:37.782273') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (94, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.783943', '2025-08-11 22:00:37.783943') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_9BE436DA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_9BE436DA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0728-3', 'BONUS_9BE436DA', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-28 00:02:00', '2024-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.791187', '2025-08-11 22:00:37.791187') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (95, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.793045', '2025-08-11 22:00:37.793045') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_DD1636F8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_DD1636F8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0728-4', 'BONUS_DD1636F8', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-28 00:03:00', '2024-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.796758', '2025-08-11 22:00:37.796758') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (96, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.798574', '2025-08-11 22:00:37.798574') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C04B454B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C04B454B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0728-5', 'BONUS_C04B454B', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-28 00:04:00', '2024-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.801955', '2025-08-11 22:00:37.801955') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (97, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.803324', '2025-08-11 22:00:37.803324') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_3589BEDC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_3589BEDC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0728-6', 'BONUS_3589BEDC', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-28 00:05:00', '2024-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.806588', '2025-08-11 22:00:37.806588') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07286' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (98, 'TEST07286', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.809314', '2025-08-11 22:00:37.809314') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B9C11D6C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B9C11D6C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0728-7', 'BONUS_B9C11D6C', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-28 00:06:00', '2024-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.812086', '2025-08-11 22:00:37.812086') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07287' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (99, 'TEST07287', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.814819', '2025-08-11 22:00:37.814819') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_37DACE82' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_37DACE82' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0728-8', 'BONUS_37DACE82', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-28 00:07:00', '2024-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.817634', '2025-08-11 22:00:37.817634') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (100, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:37.819063', '2025-08-11 22:00:37.819063') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_651A6B8C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_651A6B8C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0728-9', 'BONUS_651A6B8C', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-28 00:08:00', '2024-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.822982', '2025-08-11 22:00:37.822982') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (101, 'recurring', '0 12 * * *', '2024-07-29 00:00:00', '2024-07-28 00:00:00', 1, 30, '2025-08-11 22:00:37.824585', '2025-08-11 22:00:37.824585') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_56BAA411' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_56BAA411' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0728-10', 'BONUS_56BAA411', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2024-07-28 00:09:00', '2024-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.827802', '2025-08-11 22:00:37.827802') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (4.5ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (102, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:00:37.829280', '2025-08-11 22:00:37.829280') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_EDAC49C2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_EDAC49C2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0731-1', 'BONUS_EDAC49C2', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-31 00:00:00', '2024-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.837735', '2025-08-11 22:00:37.837735') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (103, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.839637', '2025-08-11 22:00:37.839637') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_9F68F0CA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_9F68F0CA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0731-2', 'BONUS_9F68F0CA', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-31 00:01:00', '2024-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.845207', '2025-08-11 22:00:37.845207') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (104, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.846782', '2025-08-11 22:00:37.846782') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_439D5E8C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_439D5E8C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0731-3', 'BONUS_439D5E8C', 'deposit', 'active', NULL, NULL, NULL, NULL, '2024-07-31 00:02:00', '2024-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.851298', '2025-08-11 22:00:37.851298') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (105, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:00:37.854612', '2025-08-11 22:00:37.854612') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_927234E0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_927234E0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0731-4', 'BONUS_927234E0', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-31 00:03:00', '2024-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.858691', '2025-08-11 22:00:37.858691') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (1.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (106, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.860088', '2025-08-11 22:00:37.860088') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7A95C7CA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7A95C7CA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0731-5', 'BONUS_7A95C7CA', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-31 00:04:00', '2024-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.865072', '2025-08-11 22:00:37.865072') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (107, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.866677', '2025-08-11 22:00:37.866677') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_FB1659EE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_FB1659EE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0731-6', 'BONUS_FB1659EE', 'manual', 'active', NULL, NULL, NULL, NULL, '2024-07-31 00:05:00', '2024-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.872036', '2025-08-11 22:00:37.872036') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (108, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:00:37.873456', '2025-08-11 22:00:37.873456') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_6A982A46' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_6A982A46' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0731-7', 'BONUS_6A982A46', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-31 00:06:00', '2024-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.878419', '2025-08-11 22:00:37.878419') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07317' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (109, 'TEST07317', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.882103', '2025-08-11 22:00:37.882103') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C30DAF03' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C30DAF03' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0731-8', 'BONUS_C30DAF03', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2024-07-31 00:07:00', '2024-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.884996', '2025-08-11 22:00:37.884996') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07318' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (110, 'TEST07318', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:00:37.889718', '2025-08-11 22:00:37.889718') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_38DAAA06' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_38DAAA06' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0731-9', 'BONUS_38DAAA06', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-31 00:08:00', '2024-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.892825', '2025-08-11 22:00:37.892825') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (111, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:37.895889', '2025-08-11 22:00:37.895889') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_A526CDFC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_A526CDFC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0731-10', 'BONUS_A526CDFC', 'collection', 'active', NULL, NULL, NULL, NULL, '2024-07-31 00:09:00', '2024-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.899942', '2025-08-11 22:00:37.899942') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (112, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:00:37.901662', '2025-08-11 22:00:37.901662') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0B681498' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0B681498' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0731-11', 'BONUS_0B681498', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2024-07-31 00:10:00', '2024-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.907307', '2025-08-11 22:00:37.907307') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (113, 'recurring', '0 12 * * *', '2024-08-01 00:00:00', '2024-07-31 00:00:00', 1, 30, '2025-08-11 22:00:37.911137', '2025-08-11 22:00:37.911137') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_ADE8478B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_ADE8478B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0731-12', 'BONUS_ADE8478B', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2024-07-31 00:11:00', '2024-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2024', 'US', 'USD', NULL, NULL, '2025-08-11 22:00:37.915299', '2025-08-11 22:00:37.915299') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (114, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:00:37.916971', '2025-08-11 22:00:37.916971') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
Started GET "/heatmap" for ::1 at 2025-08-12 01:00:53 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 8.4ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap?bonus_type=all&month=7&year=2025&commit=Apply+Filter" for ::1 at 2025-08-12 01:00:58 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "7", "year" => "2025", "commit" => "Apply Filter"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 5.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 43ms (Views: 11.0ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 01:01:01 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.7ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.4ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (2.3ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 64.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 67.9ms | GC: 0.0ms)
Completed 200 OK in 82ms (Views: 64.1ms | ActiveRecord: 4.2ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 01:01:01 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (1.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.8ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.4ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 65.0ms | GC: 12.0ms)
  Rendered layout layouts/application.html.erb (Duration: 68.1ms | GC: 12.0ms)
Completed 200 OK in 88ms (Views: 65.3ms | ActiveRecord: 3.3ms (8 queries, 0 cached) | GC: 12.0ms)


Started GET "/heatmap?year=2024&month=7" for ::1 at 2025-08-12 01:01:03 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"year" => "2024", "month" => "7"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2024-07-01 00:00:00' AND '2024-07-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 8.8ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | GC: 0.7ms)
Completed 200 OK in 36ms (Views: 10.8ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 1.8ms)


Started GET "/bonuses?page=2" for ::1 at 2025-08-12 01:01:07 +0300
Processing by BonusesController#index as HTML
  Parameters: {"page" => "2"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 20 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 20 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (94, 93, 92, 91, 90, 89, 88, 87, 86, 85, 84, 83, 82, 81, 80, 79, 78, 77, 76, 75) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.4ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (94, 93, 92, 91, 90, 89, 88, 87, 86, 85, 84, 83, 82, 81, 80, 79, 78, 77, 76, 75) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.3ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (94, 93, 92, 91, 90, 89, 88, 87, 86, 85, 84, 83, 82, 81, 80, 79, 78, 77, 76, 75) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (94, 93, 92, 91, 90, 89, 88, 87, 86, 85, 84, 83, 82, 81, 80, 79, 78, 77, 76, 75) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (94, 93, 92, 91, 90, 89, 88, 87, 86, 85, 84, 83, 82, 81, 80, 79, 78, 77, 76, 75) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (94, 93, 92, 91, 90, 89, 88, 87, 86, 85, 84, 83, 82, 81, 80, 79, 78, 77, 76, 75) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
[31mUnpermitted parameter: :page. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x000076582e657f00>, params: {"page" => "2", "controller" => "bonuses", "action" => "index"} }[0m
[31mUnpermitted parameter: :page. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x000076582e657f00>, params: {"page" => "2", "controller" => "bonuses", "action" => "index"} }[0m
  Rendered bonuses/index.html.erb within layouts/application (Duration: 43.4ms | GC: 4.8ms)
  Rendered layout layouts/application.html.erb (Duration: 47.4ms | GC: 4.8ms)
Completed 200 OK in 64ms (Views: 46.5ms | ActiveRecord: 1.4ms (8 queries, 0 cached) | GC: 4.8ms)


Started GET "/bonuses/84/edit" for ::1 at 2025-08-12 01:01:09 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "84"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 84 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:175:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 84 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:10
  Rendered bonuses/_type_specific_form.html.erb (Duration: 7.0ms | GC: 0.8ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 19.0ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | GC: 0.8ms)
Completed 200 OK in 50ms (Views: 24.7ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 2.0ms)


Started GET "/bonuses/75" for ::1 at 2025-08-12 01:01:09 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:175:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 75 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:173
  Rendered bonuses/_type_specific_details.html.erb (Duration: 10.4ms | GC: 0.6ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 15.4ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | GC: 0.6ms)
Completed 200 OK in 33ms (Views: 20.8ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/heatmap" for ::1 at 2025-08-12 01:01:12 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 7.0ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | GC: 1.3ms)
Completed 200 OK in 31ms (Views: 10.7ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 2.1ms)


Started GET "/heatmap?bonus_type=all&month=7&year=2025&commit=Apply+Filter" for ::1 at 2025-08-12 01:01:24 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "7", "year" => "2025", "commit" => "Apply Filter"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.7ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.4ms)
Completed 200 OK in 19ms (Views: 4.9ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/heatmap" for ::1 at 2025-08-12 01:03:48 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 4.5ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.3ms)
Completed 200 OK in 27ms (Views: 7.6ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.3ms)


Started GET "/heatmap?bonus_type=all&month=7&year=2025&commit=Apply+Filter" for ::1 at 2025-08-12 01:03:52 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "7", "year" => "2025", "commit" => "Apply Filter"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.5ms)
Completed 200 OK in 26ms (Views: 6.2ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/heatmap?bonus_type=all&month=8&year=2025" for ::1 at 2025-08-12 01:03:54 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "8", "year" => "2025"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.3ms)
Completed 200 OK in 29ms (Views: 6.2ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 1.1ms)


Started GET "/heatmap?bonus_type=all&month=9&year=2025" for ::1 at 2025-08-12 01:03:55 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "9", "year" => "2025"}
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-09-01 00:00:00' AND '2025-09-30 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 13.7ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap?bonus_type=all&month=10&year=2025" for ::1 at 2025-08-12 01:03:55 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "10", "year" => "2025"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-10-01 00:00:00' AND '2025-10-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 4.8ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 01:04:49 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.9ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 34.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 35.6ms | GC: 0.0ms)
Completed 200 OK in 57ms (Views: 34.0ms | ActiveRecord: 1.9ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-08-12 01:04:56 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 5.4ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 01:05:19 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 54.0ms | GC: 7.5ms)
  Rendered layout layouts/application.html.erb (Duration: 55.9ms | GC: 7.5ms)
Completed 200 OK in 68ms (Views: 53.1ms | ActiveRecord: 3.5ms (8 queries, 0 cached) | GC: 7.5ms)


Started GET "/" for ::1 at 2025-08-12 01:05:20 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 45.2ms | GC: 2.5ms)
  Rendered layout layouts/application.html.erb (Duration: 47.6ms | GC: 2.5ms)
Completed 200 OK in 62ms (Views: 47.5ms | ActiveRecord: 1.4ms (8 queries, 0 cached) | GC: 2.5ms)


Started GET "/bonuses" for ::1 at 2025-08-12 01:05:21 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.4ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 38.4ms | GC: 5.1ms)
  Rendered layout layouts/application.html.erb (Duration: 40.9ms | GC: 5.1ms)
Completed 200 OK in 55ms (Views: 40.0ms | ActiveRecord: 1.5ms (8 queries, 0 cached) | GC: 5.1ms)


Started GET "/bonuses/106" for ::1 at 2025-08-12 01:05:22 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "106"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 106 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:175:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 106 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:89
  Rendered bonuses/_type_specific_details.html.erb (Duration: 6.3ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 8.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 14.9ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 1.2ms)


Started GET "/heatmap" for ::1 at 2025-08-12 01:06:57 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 9.3ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | GC: 0.3ms)
Completed 200 OK in 80ms (Views: 19.8ms | ActiveRecord: 11.2ms (2 queries, 0 cached) | GC: 1.3ms)


Started GET "/heatmap?bonus_type=all&month=7&year=2024&commit=Apply+Filter" for ::1 at 2025-08-12 01:07:01 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "7", "year" => "2024", "commit" => "Apply Filter"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2024-07-01 00:00:00' AND '2024-07-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 4.1ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.4ms)
Completed 200 OK in 25ms (Views: 7.1ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.4ms)


  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:10:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_BC761402' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_BC761402' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0701-1', 'BONUS_BC761402', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-01 00:00:00', '2025-07-01 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:45.176284', '2025-08-11 22:10:45.176284') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (3.0ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (115, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:45.202538', '2025-08-11 22:10:45.202538') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_13125883' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_13125883' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0703-1', 'BONUS_13125883', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-03 00:00:00', '2025-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:45.214819', '2025-08-11 22:10:45.214819') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (1.2ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (116, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:45.220058', '2025-08-11 22:10:45.220058') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_EFFD908C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_EFFD908C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0703-2', 'BONUS_EFFD908C', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-03 00:01:00', '2025-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:45.226191', '2025-08-11 22:10:45.226191') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (117, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:45.236114', '2025-08-11 22:10:45.236114') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_171888DE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_171888DE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0708-1', 'BONUS_171888DE', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-08 00:00:00', '2025-07-08 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:45.242270', '2025-08-11 22:10:45.242270') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07081' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:10:in 'block (2 levels) in <main>'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 115 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 36 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 115 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 115 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 115 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 115 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 115 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 115 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.8ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 116 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.0ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 37 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 116 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 116 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 116 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 116 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 116 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 116 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 117 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 117 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 117 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "manual_bonuses" WHERE "manual_bonuses"."id" = 23 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 117 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 117 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 117 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.3ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 117 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 118 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 118 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 118 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 118 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 118 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 118 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 118 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:13:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_9B5856EA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_9B5856EA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0701-1', 'BONUS_9B5856EA', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-01 00:00:00', '2025-07-01 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.636059', '2025-08-11 22:10:56.636059') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (119, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:56.639018', '2025-08-11 22:10:56.639018') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_519D9067' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_519D9067' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0703-1', 'BONUS_519D9067', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-03 00:00:00', '2025-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.644254', '2025-08-11 22:10:56.644254') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (120, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:56.646446', '2025-08-11 22:10:56.646446') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_66DABF57' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_66DABF57' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0703-2', 'BONUS_66DABF57', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-03 00:01:00', '2025-07-03 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.654448', '2025-08-11 22:10:56.654448') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (2.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (121, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:56.656255', '2025-08-11 22:10:56.656255') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_4DCB744C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_4DCB744C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0708-1', 'BONUS_4DCB744C', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-08 00:00:00', '2025-07-08 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.662562', '2025-08-11 22:10:56.662562') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07081ff5370' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (122, 'TEST07081ff5370', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:56.668623', '2025-08-11 22:10:56.668623') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_6559490A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_6559490A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0712-1', 'BONUS_6559490A', 'collection', 'active', NULL, NULL, NULL, NULL, '2025-07-12 00:00:00', '2025-07-12 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.673246', '2025-08-11 22:10:56.673246') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (1.2ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (123, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:10:56.695336', '2025-08-11 22:10:56.695336') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_13149165' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_13149165' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0712-2', 'BONUS_13149165', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2025-07-12 00:01:00', '2025-07-12 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.703231', '2025-08-11 22:10:56.703231') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (1.5ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (124, 'recurring', '0 12 * * *', '2025-07-13 00:00:00', '2025-07-12 00:00:00', 1, 30, '2025-08-11 22:10:56.709234', '2025-08-11 22:10:56.709234') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E7AD8EA0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E7AD8EA0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0705-1', 'BONUS_E7AD8EA0', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-05 00:00:00', '2025-07-05 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.715776', '2025-08-11 22:10:56.715776') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (125, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:56.718373', '2025-08-11 22:10:56.718373') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_EA755D5A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_EA755D5A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0705-2', 'BONUS_EA755D5A', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-05 00:01:00', '2025-07-05 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.722611', '2025-08-11 22:10:56.722611') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (126, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:56.724673', '2025-08-11 22:10:56.724673') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_8EFA88F8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_8EFA88F8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0705-3', 'BONUS_8EFA88F8', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-05 00:02:00', '2025-07-05 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.728307', '2025-08-11 22:10:56.728307') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST070535c27d8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (127, 'TEST070535c27d8', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:56.731355', '2025-08-11 22:10:56.731355') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C9D88A78' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C9D88A78' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0710-1', 'BONUS_C9D88A78', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-10 00:00:00', '2025-07-10 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.735752', '2025-08-11 22:10:56.735752') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (128, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:56.737510', '2025-08-11 22:10:56.737510') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_58A79FF3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_58A79FF3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0710-2', 'BONUS_58A79FF3', 'collection', 'active', NULL, NULL, NULL, NULL, '2025-07-10 00:01:00', '2025-07-10 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.741191', '2025-08-11 22:10:56.741191') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (129, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:10:56.742962', '2025-08-11 22:10:56.742962') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0399278D' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0399278D' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0710-3', 'BONUS_0399278D', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2025-07-10 00:02:00', '2025-07-10 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.747403', '2025-08-11 22:10:56.747403') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (130, 'recurring', '0 12 * * *', '2025-07-11 00:00:00', '2025-07-10 00:00:00', 1, 30, '2025-08-11 22:10:56.749672', '2025-08-11 22:10:56.749672') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0402FCAA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0402FCAA' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0710-4', 'BONUS_0402FCAA', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2025-07-10 00:03:00', '2025-07-10 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.762000', '2025-08-11 22:10:56.762000') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (1.5ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (131, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:10:56.768673', '2025-08-11 22:10:56.768673') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_9FCB0D16' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_9FCB0D16' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0718-1', 'BONUS_9FCB0D16', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-18 00:00:00', '2025-07-18 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.775961', '2025-08-11 22:10:56.775961') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (132, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:56.779877', '2025-08-11 22:10:56.779877') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C45D49E2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C45D49E2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0718-2', 'BONUS_C45D49E2', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-18 00:01:00', '2025-07-18 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.784286', '2025-08-11 22:10:56.784286') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST0718292c659' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (133, 'TEST0718292c659', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:56.788530', '2025-08-11 22:10:56.788530') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_416D7699' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_416D7699' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0718-3', 'BONUS_416D7699', 'collection', 'active', NULL, NULL, NULL, NULL, '2025-07-18 00:02:00', '2025-07-18 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.793766', '2025-08-11 22:10:56.793766') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (134, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:10:56.796611', '2025-08-11 22:10:56.796611') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0EC09C3B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0EC09C3B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0722-1', 'BONUS_0EC09C3B', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-22 00:00:00', '2025-07-22 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.801315', '2025-08-11 22:10:56.801315') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (135, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:56.803201', '2025-08-11 22:10:56.803201') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0CBD3BAE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0CBD3BAE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0722-2', 'BONUS_0CBD3BAE', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-22 00:01:00', '2025-07-22 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.809138', '2025-08-11 22:10:56.809138') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (136, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:56.811682', '2025-08-11 22:10:56.811682') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_39FCDE0C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_39FCDE0C' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0722-3', 'BONUS_39FCDE0C', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2025-07-22 00:02:00', '2025-07-22 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.817130', '2025-08-11 22:10:56.817130') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (137, 'recurring', '0 12 * * *', '2025-07-23 00:00:00', '2025-07-22 00:00:00', 1, 30, '2025-08-11 22:10:56.819012', '2025-08-11 22:10:56.819012') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B5C35782' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B5C35782' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0722-4', 'BONUS_B5C35782', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-22 00:03:00', '2025-07-22 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.823110', '2025-08-11 22:10:56.823110') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07224e98b15' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (138, 'TEST07224e98b15', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:56.830944', '2025-08-11 22:10:56.830944') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_45CB7314' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_45CB7314' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0707-1', 'BONUS_45CB7314', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-07 00:00:00', '2025-07-07 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.834349', '2025-08-11 22:10:56.834349') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (139, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:56.835969', '2025-08-11 22:10:56.835969') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_33E9646B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_33E9646B' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0707-2', 'BONUS_33E9646B', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-07 00:01:00', '2025-07-07 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.841163', '2025-08-11 22:10:56.841163') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (140, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:56.842700', '2025-08-11 22:10:56.842700') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_39BEDDEF' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_39BEDDEF' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0707-3', 'BONUS_39BEDDEF', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-07 00:02:00', '2025-07-07 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.848238', '2025-08-11 22:10:56.848238') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST070732f5cfd' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (141, 'TEST070732f5cfd', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:56.853743', '2025-08-11 22:10:56.853743') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_40CB3BBC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_40CB3BBC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0707-4', 'BONUS_40CB3BBC', 'collection', 'active', NULL, NULL, NULL, NULL, '2025-07-07 00:03:00', '2025-07-07 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.857915', '2025-08-11 22:10:56.857915') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (142, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:10:56.860327', '2025-08-11 22:10:56.860327') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_F4C25F1E' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_F4C25F1E' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0707-5', 'BONUS_F4C25F1E', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2025-07-07 00:04:00', '2025-07-07 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.865357', '2025-08-11 22:10:56.865357') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (1.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (143, 'recurring', '0 12 * * *', '2025-07-08 00:00:00', '2025-07-07 00:00:00', 1, 30, '2025-08-11 22:10:56.867265', '2025-08-11 22:10:56.867265') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_1DE6ADFC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_1DE6ADFC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0714-1', 'BONUS_1DE6ADFC', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-14 00:00:00', '2025-07-14 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.872211', '2025-08-11 22:10:56.872211') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (144, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:56.874687', '2025-08-11 22:10:56.874687') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_950E720F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_950E720F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0714-2', 'BONUS_950E720F', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-14 00:01:00', '2025-07-14 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.879871', '2025-08-11 22:10:56.879871') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (145, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:56.883079', '2025-08-11 22:10:56.883079') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D2393119' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D2393119' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0714-3', 'BONUS_D2393119', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-14 00:02:00', '2025-07-14 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.887089', '2025-08-11 22:10:56.887089') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07143bc52c7' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (146, 'TEST07143bc52c7', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:56.894067', '2025-08-11 22:10:56.894067') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_888D10A3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_888D10A3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0714-4', 'BONUS_888D10A3', 'collection', 'active', NULL, NULL, NULL, NULL, '2025-07-14 00:03:00', '2025-07-14 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.897868', '2025-08-11 22:10:56.897868') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (2.0ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (147, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:10:56.899740', '2025-08-11 22:10:56.899740') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_F3C02EB0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_F3C02EB0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0714-5', 'BONUS_F3C02EB0', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2025-07-14 00:04:00', '2025-07-14 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.905049', '2025-08-11 22:10:56.905049') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (148, 'recurring', '0 12 * * *', '2025-07-15 00:00:00', '2025-07-14 00:00:00', 1, 30, '2025-08-11 22:10:56.906892', '2025-08-11 22:10:56.906892') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_A6637ACE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_A6637ACE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0714-6', 'BONUS_A6637ACE', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2025-07-14 00:05:00', '2025-07-14 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.912711', '2025-08-11 22:10:56.912711') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (149, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:10:56.914790', '2025-08-11 22:10:56.914790') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_CC8F3F81' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_CC8F3F81' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0725-1', 'BONUS_CC8F3F81', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-25 00:00:00', '2025-07-25 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.918934', '2025-08-11 22:10:56.918934') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (150, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:56.921172', '2025-08-11 22:10:56.921172') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_50240EE8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_50240EE8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0725-2', 'BONUS_50240EE8', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-25 00:01:00', '2025-07-25 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.925317', '2025-08-11 22:10:56.925317') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (151, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:56.927232', '2025-08-11 22:10:56.927232') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_126ECFE3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_126ECFE3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0725-3', 'BONUS_126ECFE3', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-25 00:02:00', '2025-07-25 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.931703', '2025-08-11 22:10:56.931703') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (1.2ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (152, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:56.933697', '2025-08-11 22:10:56.933697') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_45A619AC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_45A619AC' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0725-4', 'BONUS_45A619AC', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-25 00:03:00', '2025-07-25 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.938478', '2025-08-11 22:10:56.938478') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST072548b965f' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (153, 'TEST072548b965f', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:56.944424', '2025-08-11 22:10:56.944424') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2D5035F7' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2D5035F7' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0725-5', 'BONUS_2D5035F7', 'collection', 'active', NULL, NULL, NULL, NULL, '2025-07-25 00:04:00', '2025-07-25 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.948853', '2025-08-11 22:10:56.948853') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (1.1ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (154, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:10:56.955056', '2025-08-11 22:10:56.955056') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B63DD054' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B63DD054' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0715-1', 'BONUS_B63DD054', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-15 00:00:00', '2025-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.961282', '2025-08-11 22:10:56.961282') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (155, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:56.964131', '2025-08-11 22:10:56.964131') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0BDB7749' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0BDB7749' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0715-2', 'BONUS_0BDB7749', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-15 00:01:00', '2025-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.971084', '2025-08-11 22:10:56.971084') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (156, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:56.973190', '2025-08-11 22:10:56.973190') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C7178EDB' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C7178EDB' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0715-3', 'BONUS_C7178EDB', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-15 00:02:00', '2025-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.978894', '2025-08-11 22:10:56.978894') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (157, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:56.980730', '2025-08-11 22:10:56.980730') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C9D40E58' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C9D40E58' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0715-4', 'BONUS_C9D40E58', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-15 00:03:00', '2025-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.984676', '2025-08-11 22:10:56.984676') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07154b3cb62' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (158, 'TEST07154b3cb62', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:56.988507', '2025-08-11 22:10:56.988507') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_5CF69C74' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_5CF69C74' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0715-5', 'BONUS_5CF69C74', 'collection', 'active', NULL, NULL, NULL, NULL, '2025-07-15 00:04:00', '2025-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.991826', '2025-08-11 22:10:56.991826') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (2.3ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (159, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:10:56.993863', '2025-08-11 22:10:56.993863') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2248C9F1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2248C9F1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0715-6', 'BONUS_2248C9F1', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2025-07-15 00:05:00', '2025-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:56.999907', '2025-08-11 22:10:56.999907') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (160, 'recurring', '0 12 * * *', '2025-07-16 00:00:00', '2025-07-15 00:00:00', 1, 30, '2025-08-11 22:10:57.001625', '2025-08-11 22:10:57.001625') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_A3BA2A45' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_A3BA2A45' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0715-7', 'BONUS_A3BA2A45', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2025-07-15 00:06:00', '2025-07-15 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.005585', '2025-08-11 22:10:57.005585') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (161, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:10:57.007049', '2025-08-11 22:10:57.007049') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C03A7456' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C03A7456' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0720-1', 'BONUS_C03A7456', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-20 00:00:00', '2025-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.010991', '2025-08-11 22:10:57.010991') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (162, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:57.015544', '2025-08-11 22:10:57.015544') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_20F588B0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_20F588B0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0720-2', 'BONUS_20F588B0', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-20 00:01:00', '2025-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.019948', '2025-08-11 22:10:57.019948') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (163, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:57.022255', '2025-08-11 22:10:57.022255') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7642C0F1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7642C0F1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0720-3', 'BONUS_7642C0F1', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-20 00:02:00', '2025-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.030077', '2025-08-11 22:10:57.030077') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (164, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:57.031737', '2025-08-11 22:10:57.031737') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_406CD048' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_406CD048' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0720-4', 'BONUS_406CD048', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-20 00:03:00', '2025-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.037977', '2025-08-11 22:10:57.037977') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (165, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:57.040827', '2025-08-11 22:10:57.040827') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_127E4658' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_127E4658' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0720-5', 'BONUS_127E4658', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-20 00:04:00', '2025-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.047088', '2025-08-11 22:10:57.047088') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07205965daa' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (166, 'TEST07205965daa', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:57.051418', '2025-08-11 22:10:57.051418') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_DC02D8FD' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_DC02D8FD' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0720-6', 'BONUS_DC02D8FD', 'collection', 'active', NULL, NULL, NULL, NULL, '2025-07-20 00:05:00', '2025-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.055432', '2025-08-11 22:10:57.055432') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (167, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:10:57.057265', '2025-08-11 22:10:57.057265') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2EEEE992' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_2EEEE992' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0720-7', 'BONUS_2EEEE992', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2025-07-20 00:06:00', '2025-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.063014', '2025-08-11 22:10:57.063014') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (168, 'recurring', '0 12 * * *', '2025-07-21 00:00:00', '2025-07-20 00:00:00', 1, 30, '2025-08-11 22:10:57.064800', '2025-08-11 22:10:57.064800') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E22F9C56' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E22F9C56' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0720-8', 'BONUS_E22F9C56', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2025-07-20 00:07:00', '2025-07-20 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.068543', '2025-08-11 22:10:57.068543') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (169, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:10:57.070114', '2025-08-11 22:10:57.070114') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_EA496163' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_EA496163' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0716-1', 'BONUS_EA496163', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-16 00:00:00', '2025-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.074090', '2025-08-11 22:10:57.074090') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (4.4ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (170, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:57.075966', '2025-08-11 22:10:57.075966') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_1169FDC3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_1169FDC3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0716-2', 'BONUS_1169FDC3', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-16 00:01:00', '2025-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.084102', '2025-08-11 22:10:57.084102') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (171, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:57.085783', '2025-08-11 22:10:57.085783') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_ACDE7154' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_ACDE7154' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0716-3', 'BONUS_ACDE7154', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-16 00:02:00', '2025-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.091000', '2025-08-11 22:10:57.091000') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (172, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:57.092648', '2025-08-11 22:10:57.092648') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E095092A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E095092A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (2.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0716-4', 'BONUS_E095092A', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-16 00:03:00', '2025-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.096913', '2025-08-11 22:10:57.096913') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (173, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:57.102374', '2025-08-11 22:10:57.102374') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D7E627AE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D7E627AE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0716-5', 'BONUS_D7E627AE', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-16 00:04:00', '2025-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.107406', '2025-08-11 22:10:57.107406') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (174, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:57.109096', '2025-08-11 22:10:57.109096') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_F5850114' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_F5850114' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0716-6', 'BONUS_F5850114', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-16 00:05:00', '2025-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.113830', '2025-08-11 22:10:57.113830') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07166f793cf' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (175, 'TEST07166f793cf', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:57.117336', '2025-08-11 22:10:57.117336') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_A3E0EE82' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_A3E0EE82' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0716-7', 'BONUS_A3E0EE82', 'collection', 'active', NULL, NULL, NULL, NULL, '2025-07-16 00:06:00', '2025-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.121804', '2025-08-11 22:10:57.121804') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (176, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:10:57.123515', '2025-08-11 22:10:57.123515') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_68A54313' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_68A54313' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0716-8', 'BONUS_68A54313', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2025-07-16 00:07:00', '2025-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.127332', '2025-08-11 22:10:57.127332') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (177, 'recurring', '0 12 * * *', '2025-07-17 00:00:00', '2025-07-16 00:00:00', 1, 30, '2025-08-11 22:10:57.129546', '2025-08-11 22:10:57.129546') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C35840A2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C35840A2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0716-9', 'BONUS_C35840A2', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2025-07-16 00:08:00', '2025-07-16 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.133579', '2025-08-11 22:10:57.133579') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (2.7ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (178, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:10:57.135153', '2025-08-11 22:10:57.135153') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_04CB458F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_04CB458F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0728-1', 'BONUS_04CB458F', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-28 00:00:00', '2025-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.141118', '2025-08-11 22:10:57.141118') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (179, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:57.142984', '2025-08-11 22:10:57.142984') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_A06F306A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_A06F306A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0728-2', 'BONUS_A06F306A', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-28 00:01:00', '2025-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.149049', '2025-08-11 22:10:57.149049') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (180, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:57.159131', '2025-08-11 22:10:57.159131') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C2DE9F7A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_C2DE9F7A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0728-3', 'BONUS_C2DE9F7A', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-28 00:02:00', '2025-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.171741', '2025-08-11 22:10:57.171741') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (181, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:57.175182', '2025-08-11 22:10:57.175182') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_176C1125' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_176C1125' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0728-4', 'BONUS_176C1125', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-28 00:03:00', '2025-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.181134', '2025-08-11 22:10:57.181134') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (182, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:57.182999', '2025-08-11 22:10:57.182999') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D45018EE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D45018EE' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0728-5', 'BONUS_D45018EE', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-28 00:04:00', '2025-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.187532', '2025-08-11 22:10:57.187532') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (183, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:57.189273', '2025-08-11 22:10:57.189273') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_13FDBB6A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_13FDBB6A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0728-6', 'BONUS_13FDBB6A', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-28 00:05:00', '2025-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.193848', '2025-08-11 22:10:57.193848') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST0728651e56c' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (184, 'TEST0728651e56c', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:57.199291', '2025-08-11 22:10:57.199291') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_85C1C954' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_85C1C954' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0728-7', 'BONUS_85C1C954', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-28 00:06:00', '2025-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.203622', '2025-08-11 22:10:57.203622') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07287ed022b' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (185, 'TEST07287ed022b', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:57.206836', '2025-08-11 22:10:57.206836') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_09951999' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_09951999' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0728-8', 'BONUS_09951999', 'collection', 'active', NULL, NULL, NULL, NULL, '2025-07-28 00:07:00', '2025-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.210673', '2025-08-11 22:10:57.210673') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (3.7ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (186, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:10:57.212558', '2025-08-11 22:10:57.212558') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_89BB6A98' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_89BB6A98' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0728-9', 'BONUS_89BB6A98', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2025-07-28 00:08:00', '2025-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.220297', '2025-08-11 22:10:57.220297') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (187, 'recurring', '0 12 * * *', '2025-07-29 00:00:00', '2025-07-28 00:00:00', 1, 30, '2025-08-11 22:10:57.222731', '2025-08-11 22:10:57.222731') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_449C3169' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_449C3169' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0728-10', 'BONUS_449C3169', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2025-07-28 00:09:00', '2025-07-28 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.228355', '2025-08-11 22:10:57.228355') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (188, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:10:57.230280', '2025-08-11 22:10:57.230280') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D9848566' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_D9848566' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0731-1', 'BONUS_D9848566', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-31 00:00:00', '2025-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.234417', '2025-08-11 22:10:57.234417') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (189, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:57.238579', '2025-08-11 22:10:57.238579') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_FA2DEB06' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_FA2DEB06' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0731-2', 'BONUS_FA2DEB06', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-31 00:01:00', '2025-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.243163', '2025-08-11 22:10:57.243163') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (190, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:57.247601', '2025-08-11 22:10:57.247601') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_422F4070' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_422F4070' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Deposit Bonus 0731-3', 'BONUS_422F4070', 'deposit', 'active', NULL, NULL, NULL, NULL, '2025-07-31 00:02:00', '2025-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.252599', '2025-08-11 22:10:57.252599') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (191, 50.0, 100.0, 500.0, 0, 1, '2025-08-11 22:10:57.255132', '2025-08-11 22:10:57.255132') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:75:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_1E998E7F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_1E998E7F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0731-4', 'BONUS_1E998E7F', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-31 00:03:00', '2025-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.260008', '2025-08-11 22:10:57.260008') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (192, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:57.261764', '2025-08-11 22:10:57.261764') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_62AB9DC4' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_62AB9DC4' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0731-5', 'BONUS_62AB9DC4', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-31 00:04:00', '2025-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.265509', '2025-08-11 22:10:57.265509') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (193, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:57.267154', '2025-08-11 22:10:57.267154') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B32FADF6' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B32FADF6' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Manual Bonus 0731-6', 'BONUS_B32FADF6', 'manual', 'active', NULL, NULL, NULL, NULL, '2025-07-31 00:05:00', '2025-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.270768', '2025-08-11 22:10:57.270768') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (194, 'Test manual bonus for heatmap testing', 0, 1, 'Test conditions for heatmap', '2025-08-11 22:10:57.272365', '2025-08-11 22:10:57.272365') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:93:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B3B2CDCD' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_B3B2CDCD' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0731-7', 'BONUS_B3B2CDCD', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-31 00:06:00', '2025-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.277806', '2025-08-11 22:10:57.277806') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07317671fea' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (195, 'TEST07317671fea', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:57.280834', '2025-08-11 22:10:57.280834') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0445F17A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_0445F17A' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Input coupon Bonus 0731-8', 'BONUS_0445F17A', 'input_coupon', 'active', NULL, NULL, NULL, NULL, '2025-07-31 00:07:00', '2025-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.286648', '2025-08-11 22:10:57.286648') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'TEST07318371701' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (196, 'TEST07318371701', 100, 0, '2025-08-18 23:59:59.999999', 0, '2025-08-11 22:10:57.290438', '2025-08-11 22:10:57.290438') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:84:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7AFC2235' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7AFC2235' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0731-9', 'BONUS_7AFC2235', 'collection', 'active', NULL, NULL, NULL, NULL, '2025-07-31 00:08:00', '2025-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.296932', '2025-08-11 22:10:57.296932') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (197, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:10:57.300850', '2025-08-11 22:10:57.300850') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7266F1D5' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7266F1D5' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Collection Bonus 0731-10', 'BONUS_7266F1D5', 'collection', 'active', NULL, NULL, NULL, NULL, '2025-07-31 00:09:00', '2025-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.305543', '2025-08-11 22:10:57.305543') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mCollectBonus Create (1.5ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (198, 'daily', 25.0, 'daily', 1, 0, '2025-08-11 22:10:57.307870', '2025-08-11 22:10:57.307870') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:101:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_89B76048' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_89B76048' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Scheduler Bonus 0731-11', 'BONUS_89B76048', 'scheduler', 'active', NULL, NULL, NULL, NULL, '2025-07-31 00:10:00', '2025-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.313147', '2025-08-11 22:10:57.313147') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (199, 'recurring', '0 12 * * *', '2025-08-01 00:00:00', '2025-07-31 00:00:00', 1, 30, '2025-08-11 22:10:57.314931', '2025-08-11 22:10:57.314931') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:119:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_87FABCB7' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:129:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_87FABCB7' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at") VALUES ('Test Groups update Bonus 0731-12', 'BONUS_87FABCB7', 'groups_update', 'active', NULL, NULL, NULL, NULL, '2025-07-31 00:11:00', '2025-07-31 23:59:59.999999', 'test_users', 'heatmap_test, july_2025', 'US', 'USD', NULL, NULL, '2025-08-11 22:10:57.319989', '2025-08-11 22:10:57.319989') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:60:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (200, '["test_group_1", "test_group_2"]', 'bulk_apply', '{"amount": 100}', 50, 'completed', '2025-08-11 22:10:57.322835', '2025-08-11 22:10:57.322835') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_heatmap_data.rake:110:in 'block (4 levels) in <main>'
Started GET "/heatmap?year=2025&month=7" for ::1 at 2025-08-12 01:11:02 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"year" => "2025", "month" => "7"}
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 8.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 15.6ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap?bonus_type=all&month=7&year=2025&commit=Apply+Filter" for ::1 at 2025-08-12 01:11:05 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "7", "year" => "2025", "commit" => "Apply Filter"}
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 5.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 10.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap?year=2025&month=7" for ::1 at 2025-08-12 01:11:26 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"year" => "2025", "month" => "7"}
Heatmap Debug: Start date: 2025-07-01, End date: 2025-07-31
Heatmap Debug: Bonus type filter: all
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
Heatmap Debug: Raw bonuses count: 82
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:44:in 'HeatmapController#generate_heatmap_data'
Heatmap Debug: Bonuses by date: {"2025-07-01" => 1, "2025-07-03" => 2, "2025-07-05" => 3, "2025-07-07" => 5, "2025-07-08" => 1, "2025-07-10" => 4, "2025-07-12" => 2, "2025-07-14" => 6, "2025-07-15" => 7, "2025-07-16" => 9, "2025-07-18" => 3, "2025-07-20" => 8, "2025-07-22" => 4, "2025-07-25" => 5, "2025-07-28" => 10, "2025-07-31" => 12}
Heatmap Debug: Final heatmap data: {"2025-07-01" => {count: 0, intensity: 0.0, date: Tue, 01 Jul 2025}, "2025-07-02" => {count: 0, intensity: 0.0, date: Wed, 02 Jul 2025}, "2025-07-03" => {count: 0, intensity: 0.0, date: Thu, 03 Jul 2025}, "2025-07-04" => {count: 0, intensity: 0.0, date: Fri, 04 Jul 2025}, "2025-07-05" => {count: 0, intensity: 0.0, date: Sat, 05 Jul 2025}, "2025-07-06" => {count: 0, intensity: 0.0, date: Sun, 06 Jul 2025}, "2025-07-07" => {count: 0, intensity: 0.0, date: Mon, 07 Jul 2025}, "2025-07-08" => {count: 0, intensity: 0.0, date: Tue, 08 Jul 2025}, "2025-07-09" => {count: 0, intensity: 0.0, date: Wed, 09 Jul 2025}, "2025-07-10" => {count: 0, intensity: 0.0, date: Thu, 10 Jul 2025}, "2025-07-11" => {count: 0, intensity: 0.0, date: Fri, 11 Jul 2025}, "2025-07-12" => {count: 0, intensity: 0.0, date: Sat, 12 Jul 2025}, "2025-07-13" => {count: 0, intensity: 0.0, date: Sun, 13 Jul 2025}, "2025-07-14" => {count: 0, intensity: 0.0, date: Mon, 14 Jul 2025}, "2025-07-15" => {count: 0, intensity: 0.0, date: Tue, 15 Jul 2025}, "2025-07-16" => {count: 0, intensity: 0.0, date: Wed, 16 Jul 2025}, "2025-07-17" => {count: 0, intensity: 0.0, date: Thu, 17 Jul 2025}, "2025-07-18" => {count: 0, intensity: 0.0, date: Fri, 18 Jul 2025}, "2025-07-19" => {count: 0, intensity: 0.0, date: Sat, 19 Jul 2025}, "2025-07-20" => {count: 0, intensity: 0.0, date: Sun, 20 Jul 2025}, "2025-07-21" => {count: 0, intensity: 0.0, date: Mon, 21 Jul 2025}, "2025-07-22" => {count: 0, intensity: 0.0, date: Tue, 22 Jul 2025}, "2025-07-23" => {count: 0, intensity: 0.0, date: Wed, 23 Jul 2025}, "2025-07-24" => {count: 0, intensity: 0.0, date: Thu, 24 Jul 2025}, "2025-07-25" => {count: 0, intensity: 0.0, date: Fri, 25 Jul 2025}, "2025-07-26" => {count: 0, intensity: 0.0, date: Sat, 26 Jul 2025}, "2025-07-27" => {count: 0, intensity: 0.0, date: Sun, 27 Jul 2025}, "2025-07-28" => {count: 0, intensity: 0.0, date: Mon, 28 Jul 2025}, "2025-07-29" => {count: 0, intensity: 0.0, date: Tue, 29 Jul 2025}, "2025-07-30" => {count: 0, intensity: 0.0, date: Wed, 30 Jul 2025}, "2025-07-31" => {count: 0, intensity: 0.0, date: Thu, 31 Jul 2025}}
  [1m[36mBonus Pluck (0.8ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 11.6ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | GC: 1.6ms)
Completed 200 OK in 93ms (Views: 21.9ms | ActiveRecord: 9.9ms (3 queries, 0 cached) | GC: 13.1ms)


Started GET "/heatmap?year=2025&month=7" for ::1 at 2025-08-12 01:11:57 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"year" => "2025", "month" => "7"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 7.8ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | GC: 0.4ms)
Completed 200 OK in 46ms (Views: 13.8ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 2.4ms)


Started GET "/heatmap?bonus_type=deposit&month=7&year=2025&commit=Apply+Filter" for ::1 at 2025-08-12 01:12:13 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "deposit", "month" => "7", "year" => "2025", "commit" => "Apply Filter"}
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' AND "bonuses"."bonus_type" = 'deposit' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 5.4ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | GC: 0.6ms)
Completed 200 OK in 36ms (Views: 9.1ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/heatmap?bonus_type=deposit&month=8&year=2025" for ::1 at 2025-08-12 01:12:23 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "deposit", "month" => "8", "year" => "2025"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' AND "bonuses"."bonus_type" = 'deposit' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 7.8ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | GC: 0.3ms)
Completed 200 OK in 34ms (Views: 13.6ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.3ms)


Started GET "/heatmap?bonus_type=deposit&month=9&year=2025" for ::1 at 2025-08-12 01:12:23 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "deposit", "month" => "9", "year" => "2025"}
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-09-01 00:00:00' AND '2025-09-30 23:59:59.999999' AND "bonuses"."bonus_type" = 'deposit' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 5.3ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.2ms)
Completed 200 OK in 35ms (Views: 7.8ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/heatmap?bonus_type=deposit&month=7&year=2025" for ::1 at 2025-08-12 01:12:28 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "deposit", "month" => "7", "year" => "2025"}
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' AND "bonuses"."bonus_type" = 'deposit' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 5.4ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap?bonus_type=deposit&month=6&year=2025" for ::1 at 2025-08-12 01:12:28 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "deposit", "month" => "6", "year" => "2025"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-06-01 00:00:00' AND '2025-06-30 23:59:59.999999' AND "bonuses"."bonus_type" = 'deposit' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 5.0ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 01:12:46 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (4.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (1.4ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (1.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (1.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (3.9ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 392.0ms | GC: 10.8ms)
  Rendered layout layouts/application.html.erb (Duration: 406.0ms | GC: 10.8ms)
Completed 200 OK in 429ms (Views: 390.0ms | ActiveRecord: 16.7ms (8 queries, 0 cached) | GC: 10.8ms)


Started GET "/heatmap?bonus_type=all&month=7&year=2024&commit=Apply+Filter" for ::1 at 2025-08-12 01:12:46 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "7", "year" => "2024", "commit" => "Apply Filter"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2024-07-01 00:00:00' AND '2024-07-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | GC: 0.5ms)
Completed 200 OK in 32ms (Views: 10.0ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/bonuses" for ::1 at 2025-08-12 01:15:31 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (2.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.3ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.5ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 98.9ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 103.7ms | GC: 0.6ms)
Completed 200 OK in 128ms (Views: 96.1ms | ActiveRecord: 9.8ms (8 queries, 0 cached) | GC: 1.2ms)


Started GET "/heatmap" for ::1 at 2025-08-12 01:15:39 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 9.3ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | GC: 1.5ms)
Completed 200 OK in 48ms (Views: 15.2ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 8.5ms)


Started GET "/heatmap?bonus_type=all&month=7&year=2025" for ::1 at 2025-08-12 01:15:42 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "7", "year" => "2025"}
  [1m[36mBonus Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 5.8ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.7ms)
Completed 200 OK in 25ms (Views: 8.7ms | ActiveRecord: 1.3ms (2 queries, 0 cached) | GC: 0.7ms)


Started GET "/heatmap?bonus_type=all&month=6&year=2025" for ::1 at 2025-08-12 01:15:43 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "6", "year" => "2025"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-06-01 00:00:00' AND '2025-06-30 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.7ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.5ms)
Completed 200 OK in 20ms (Views: 6.9ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 1.1ms)


Started GET "/heatmap?bonus_type=all&month=6&year=2025" for ::1 at 2025-08-12 01:15:44 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "6", "year" => "2025"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-06-01 00:00:00' AND '2025-06-30 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 7.2ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | GC: 1.0ms)
Completed 200 OK in 29ms (Views: 12.3ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 1.0ms)


Started GET "/heatmap?bonus_type=all&month=5&year=2025" for ::1 at 2025-08-12 01:15:44 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "5", "year" => "2025"}
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-05-01 00:00:00' AND '2025-05-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 5.0ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.6ms)
Completed 200 OK in 22ms (Views: 8.3ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 1.1ms)


Started GET "/heatmap?bonus_type=all&month=7&year=2025" for ::1 at 2025-08-12 01:15:45 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "7", "year" => "2025"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.4ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 6.8ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/heatmap?bonus_type=all&month=8&year=2025" for ::1 at 2025-08-12 01:15:45 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "all", "month" => "8", "year" => "2025"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.5ms)
Completed 200 OK in 16ms (Views: 3.9ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/heatmap?bonus_type=collection&month=7&year=2025&commit=Apply+Filter" for ::1 at 2025-08-12 01:15:49 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "collection", "month" => "7", "year" => "2025", "commit" => "Apply Filter"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' AND "bonuses"."bonus_type" = 'collection' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.2ms)
Completed 200 OK in 17ms (Views: 3.2ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.7ms)


Started GET "/heatmap?bonus_type=deposit&month=7&year=2025&commit=Apply+Filter" for ::1 at 2025-08-12 01:15:52 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "deposit", "month" => "7", "year" => "2025", "commit" => "Apply Filter"}
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' AND "bonuses"."bonus_type" = 'deposit' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 128.1ms | GC: 16.6ms)
  Rendered layout layouts/application.html.erb (Duration: 199.3ms | GC: 26.3ms)
Completed 200 OK in 216ms (Views: 201.4ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 26.3ms)


Started GET "/heatmap?bonus_type=groups_update&month=7&year=2025&commit=Apply+Filter" for ::1 at 2025-08-12 01:15:56 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_type" => "groups_update", "month" => "7", "year" => "2025", "commit" => "Apply Filter"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-07-01 00:00:00' AND '2025-07-31 23:59:59.999999' AND "bonuses"."bonus_type" = 'groups_update' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 98.5ms | GC: 20.2ms)
  Rendered layout layouts/application.html.erb (Duration: 106.4ms | GC: 21.4ms)
Completed 200 OK in 163ms (Views: 107.2ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 30.1ms)


Started GET "/bonuses" for ::1 at 2025-08-12 01:16:02 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (6.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (3.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 156.4ms | GC: 34.5ms)
  Rendered layout layouts/application.html.erb (Duration: 159.3ms | GC: 34.8ms)
Completed 200 OK in 178ms (Views: 150.0ms | ActiveRecord: 10.4ms (8 queries, 0 cached) | GC: 36.2ms)


Started GET "/bonuses/new?type=input_coupon" for ::1 at 2025-08-12 01:16:04 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "input_coupon"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.8ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 19.2ms | GC: 3.4ms)
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | GC: 3.4ms)
Completed 200 OK in 47ms (Views: 21.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 4.0ms)


Started GET "/bonuses/new?type=deposit" for ::1 at 2025-08-12 01:16:24 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 7.3ms | GC: 1.7ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 13.7ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | GC: 1.7ms)
Completed 200 OK in 29ms (Views: 16.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.7ms)


Started GET "/bonuses" for ::1 at 2025-08-12 01:16:35 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.5ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 35.4ms | GC: 3.7ms)
  Rendered layout layouts/application.html.erb (Duration: 39.0ms | GC: 4.8ms)
Completed 200 OK in 52ms (Views: 37.7ms | ActiveRecord: 1.8ms (8 queries, 0 cached) | GC: 4.8ms)


Started GET "/api/v1/bonuses" for ::1 at 2025-08-12 01:16:36 +0300
Processing by Api::V1::BonusesController#index as HTML
  [1m[36mBonus Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:20:in 'Api::V1::BonusesController#index'
  [1m[36mBonus Load (1.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mSchedulerBonus Load (0.3ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
Completed 200 OK in 34ms (Views: 2.3ms | ActiveRecord: 3.8ms (8 queries, 0 cached) | GC: 2.3ms)


Started GET "/heatmap" for ::1 at 2025-08-12 01:16:52 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:39:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 15.5ms | GC: 3.8ms)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | GC: 3.8ms)
Completed 200 OK in 35ms (Views: 19.8ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 3.8ms)


Started GET "/bonuses?page=2" for ::1 at 2025-08-12 01:16:59 +0300
Processing by BonusesController#index as HTML
  Parameters: {"page" => "2"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 20 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 20 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (180, 179, 178, 177, 176, 175, 174, 173, 172, 171, 170, 169, 168, 167, 166, 165, 164, 163, 162, 161) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.3ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (180, 179, 178, 177, 176, 175, 174, 173, 172, 171, 170, 169, 168, 167, 166, 165, 164, 163, 162, 161) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (180, 179, 178, 177, 176, 175, 174, 173, 172, 171, 170, 169, 168, 167, 166, 165, 164, 163, 162, 161) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (180, 179, 178, 177, 176, 175, 174, 173, 172, 171, 170, 169, 168, 167, 166, 165, 164, 163, 162, 161) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (180, 179, 178, 177, 176, 175, 174, 173, 172, 171, 170, 169, 168, 167, 166, 165, 164, 163, 162, 161) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.3ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (180, 179, 178, 177, 176, 175, 174, 173, 172, 171, 170, 169, 168, 167, 166, 165, 164, 163, 162, 161) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
[31mUnpermitted parameter: :page. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x000076582d9cff08>, params: {"page" => "2", "controller" => "bonuses", "action" => "index"} }[0m
[31mUnpermitted parameter: :page. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x000076582d9cff08>, params: {"page" => "2", "controller" => "bonuses", "action" => "index"} }[0m
  Rendered bonuses/index.html.erb within layouts/application (Duration: 46.7ms | GC: 5.0ms)
  Rendered layout layouts/application.html.erb (Duration: 48.6ms | GC: 5.0ms)
Completed 200 OK in 61ms (Views: 47.3ms | ActiveRecord: 1.7ms (8 queries, 0 cached) | GC: 5.0ms)


Started GET "/" for ::1 at 2025-08-12 22:33:36 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:59
  [1m[36mBonus Load (2.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:76
  Rendered bonuses/index.html.erb within layouts/application (Duration: 142.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 153.6ms | GC: 0.0ms)
Completed 200 OK in 221ms (Views: 144.5ms | ActiveRecord: 13.7ms (8 queries, 0 cached) | GC: 0.4ms)


  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddProjectAndDslTagToBonuses (20250812193953)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "project" varchar /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "dsl_tag" varchar /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_project" ON "bonuses" ("project") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_dsl_tag" ON "bonuses" ("dsl_tag") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250812193953') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses" for ::1 at 2025-08-12 22:41:45 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.3ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.9ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 114.3ms | GC: 18.9ms)
  Rendered layout layouts/application.html.erb (Duration: 117.1ms | GC: 18.9ms)
Completed 200 OK in 148ms (Views: 116.6ms | ActiveRecord: 4.3ms (8 queries, 0 cached) | GC: 19.3ms)


Started GET "/bonuses/new?type=deposit" for ::1 at 2025-08-12 22:41:54 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 9.5ms | GC: 0.5ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 28.9ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 29.8ms | GC: 0.8ms)
Completed 200 OK in 57ms (Views: 32.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)


Started POST "/bonuses" for ::1 at 2025-08-12 22:42:30 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Bonus with Project and DSL Tag", "code" => "", "bonus_type" => "deposit", "status" => "draft", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "VOLNA", "dsl_tag" => "test_bonus_volna_001", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-12T19:41", "availability_end_date" => "2025-09-12T19:41"}, "deposit_bonus" => {"deposit_amount_required" => "100", "bonus_percentage" => "50", "max_bonus_amount" => "", "first_deposit_only" => "0", "recurring_eligible" => "0"}, "commit" => "Create Bonus"}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'project' for Bonus.)
Caused by: NoMethodError (undefined method 'project=' for an instance of Bonus)

Information for: ActiveModel::UnknownAttributeError (unknown attribute 'project' for Bonus.):
  
app/controllers/bonuses_controller.rb:78:in 'BonusesController#create'

Information for cause: NoMethodError (undefined method 'project=' for an instance of Bonus):
  
app/controllers/bonuses_controller.rb:78:in 'BonusesController#create'
Started GET "/bonuses/new?type=deposit" for ::1 at 2025-08-12 22:42:51 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#new as HTML
  Parameters: {"type" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 7.7ms | GC: 1.7ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 17.8ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | GC: 3.5ms)
Completed 200 OK in 86ms (Views: 32.3ms | ActiveRecord: 3.0ms (0 queries, 0 cached) | GC: 12.4ms)


Started POST "/bonuses" for ::1 at 2025-08-12 22:43:14 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Bonus with Project and DSL Tag", "code" => "", "bonus_type" => "deposit", "status" => "draft", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "VOLNA", "dsl_tag" => "test_bonus_volna_001", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-12T19:42", "availability_end_date" => "2025-09-12T19:42"}, "deposit_bonus" => {"deposit_amount_required" => "100", "bonus_percentage" => "50", "max_bonus_amount" => "", "first_deposit_only" => "0", "recurring_eligible" => "0"}, "commit" => "Create Bonus"}
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:134:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (3.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7EE48A23' LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:134:in 'block in Bonus#generate_code'
  [1m[36mCACHE Bonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7EE48A23' LIMIT 1[0m
  ↳ app/controllers/bonuses_controller.rb:82:in 'block in BonusesController#create'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus with Project and DSL Tag', 'BONUS_7EE48A23', 'deposit', 'draft', NULL, NULL, NULL, '', '2025-08-12 19:42:00', '2025-09-12 19:42:00', '', '', '', 'USD', NULL, NULL, '2025-08-12 19:43:14.783145', '2025-08-12 19:43:14.783145', 'VOLNA', 'test_bonus_volna_001') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:82:in 'block in BonusesController#create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:82:in 'block in BonusesController#create'
  [1m[36mDepositBonus Load (0.5ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:247:in 'BonusesController#update_type_specific_attributes'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:250:in 'BonusesController#update_type_specific_attributes'
  [1m[36mDepositBonus Create (3.4ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (201, 100.0, 50.0, NULL, 0, 0, '2025-08-12 19:43:14.826091', '2025-08-12 19:43:14.826091') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:250:in 'BonusesController#update_type_specific_attributes'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:250:in 'BonusesController#update_type_specific_attributes'
Redirected to http://localhost:3000/bonuses/201
Completed 302 Found in 115ms (ActiveRecord: 13.3ms (5 queries, 1 cached) | GC: 31.0ms)


Started GET "/bonuses/201" for ::1 at 2025-08-12 22:43:14 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "201"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:181:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.3ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 7.5ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 17.0ms | GC: 5.2ms)
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | GC: 6.3ms)
Completed 200 OK in 37ms (Views: 23.9ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 9.5ms)


Started GET "/bonuses" for ::1 at 2025-08-12 22:43:18 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 69.2ms | GC: 3.8ms)
  Rendered layout layouts/application.html.erb (Duration: 75.8ms | GC: 4.3ms)
Completed 200 OK in 88ms (Views: 73.5ms | ActiveRecord: 4.4ms (8 queries, 0 cached) | GC: 4.9ms)


Started GET "/bonuses?type=&status=&search=&project=VOLNA&dsl_tag=&commit=Filter" for ::1 at 2025-08-12 22:43:27 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "", "search" => "", "project" => "VOLNA", "dsl_tag" => "", "commit" => "Filter"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 201 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 201 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 201 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 201 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 201 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
[31mUnpermitted parameters: :project, :dsl_tag, :commit. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x000076f8de5b50b0>, params: {"type" => "", "status" => "", "search" => "", "project" => "VOLNA", "dsl_tag" => "", "commit" => "Filter", "controller" => "bonuses", "action" => "index"} }[0m
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.0ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | GC: 0.6ms)
Completed 200 OK in 36ms (Views: 22.1ms | ActiveRecord: 0.8ms (8 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses?type=&status=&search=&project=VOLNA&dsl_tag=test_bonus_volna_001&commit=Filter" for ::1 at 2025-08-12 22:43:39 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "", "search" => "", "project" => "VOLNA", "dsl_tag" => "test_bonus_volna_001", "commit" => "Filter"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND (dsl_tag LIKE '%test_bonus_volna_001%') LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND (dsl_tag LIKE '%test_bonus_volna_001%') ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (1.8ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 201 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 201 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (1.3ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 201 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 201 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 201 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
[31mUnpermitted parameters: :project, :dsl_tag, :commit. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x000076f8de062ef0>, params: {"type" => "", "status" => "", "search" => "", "project" => "VOLNA", "dsl_tag" => "test_bonus_volna_001", "commit" => "Filter", "controller" => "bonuses", "action" => "index"} }[0m
  Rendered bonuses/index.html.erb within layouts/application (Duration: 29.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 32.9ms | GC: 0.0ms)
Completed 200 OK in 48ms (Views: 29.7ms | ActiveRecord: 3.7ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 22:44:44 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (1.0ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.4ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.5ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 77.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 81.9ms | GC: 0.0ms)
Completed 200 OK in 103ms (Views: 77.2ms | ActiveRecord: 7.1ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 22:50:30 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses"."id", "bonuses"."name", "bonuses"."code", "bonuses"."bonus_type", "bonuses"."status", "bonuses"."minimum_deposit", "bonuses"."wager", "bonuses"."maximum_winnings", "bonuses"."wagering_strategy", "bonuses"."availability_start_date", "bonuses"."availability_end_date", "bonuses"."user_group", "bonuses"."tags", "bonuses"."country", "bonuses"."created_by", "bonuses"."updated_by", "bonuses"."created_at", "bonuses"."updated_at", "bonuses"."project", "bonuses"."dsl_tag" FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (1.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.5ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 100.3ms | GC: 12.1ms)
  Rendered layout layouts/application.html.erb (Duration: 101.4ms | GC: 12.1ms)
Completed 500 Internal Server Error in 125ms (ActiveRecord: 16.4ms (8 queries, 0 cached) | GC: 12.1ms)


  
ActionView::Template::Error (missing attribute 'currency' for Bonus)
Caused by: ActiveModel::MissingAttributeError (missing attribute 'currency' for Bonus)

Information for: ActionView::Template::Error (missing attribute 'currency' for Bonus):
    129:                           <%= bonus.status.humanize %>
    130:                         </span>
    131:                       </td>
    132:                       <td><%= bonus.currency %></td>
    133:                       <td>
    134:                         <% if bonus.project.present? %>
    135:                           <span class="badge bg-primary"><%= bonus.project %></span>
  

Information for cause: ActiveModel::MissingAttributeError (missing attribute 'currency' for Bonus):
  
Started GET "/favicon.ico" for ::1 at 2025-08-12 22:50:30 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/bonuses" for ::1 at 2025-08-12 22:51:54 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (2.5ms)[0m  [1m[34mSELECT "bonuses"."id", "bonuses"."name", "bonuses"."code", "bonuses"."bonus_type", "bonuses"."status", "bonuses"."minimum_deposit", "bonuses"."wager", "bonuses"."maximum_winnings", "bonuses"."wagering_strategy", "bonuses"."availability_start_date", "bonuses"."availability_end_date", "bonuses"."user_group", "bonuses"."tags", "bonuses"."country", "bonuses"."created_by", "bonuses"."updated_by", "bonuses"."created_at", "bonuses"."updated_at", "bonuses"."project", "bonuses"."dsl_tag" FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  Rendered bonuses/index.html.erb within layouts/application (Duration: 83.6ms | GC: 9.7ms)
  Rendered layout layouts/application.html.erb (Duration: 86.5ms | GC: 10.2ms)
Completed 200 OK in 107ms (Views: 82.4ms | ActiveRecord: 6.9ms (8 queries, 0 cached) | GC: 10.2ms)


Started GET "/bonuses/201" for ::1 at 2025-08-12 22:51:57 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "201"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:182:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 7.3ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 12.2ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | GC: 0.5ms)
Completed 200 OK in 35ms (Views: 16.7ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/api/v1/bonuses" for ::1 at 2025-08-12 22:52:01 +0300
Processing by Api::V1::BonusesController#index as HTML
  [1m[36mBonus Count (1.8ms)[0m  [1m[34mSELECT COUNT("bonuses"."id", "bonuses"."name", "bonuses"."code", "bonuses"."bonus_type", "bonuses"."status", "bonuses"."minimum_deposit", "bonuses"."wager", "bonuses"."maximum_winnings", "bonuses"."wagering_strategy", "bonuses"."availability_start_date", "bonuses"."availability_end_date", "bonuses"."user_group", "bonuses"."tags", "bonuses"."country", "bonuses"."created_by", "bonuses"."updated_by", "bonuses"."created_at", "bonuses"."updated_at", "bonuses"."project", "bonuses"."dsl_tag") FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:21:in 'Api::V1::BonusesController#index'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.8ms (1 query, 0 cached) | GC: 0.7ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: wrong number of arguments to function COUNT():
SELECT COUNT("bonuses"."id", "bonuses"."name", "bonuses"."code", "bonuses"."bonus_type", "bonuses"."status", "bonuses"."minimum_deposit", "bonuses"."wager", "bonuses"."maximum_winnings", "bonuses"."wagering_strategy", "bonuses"."availability_start_date", "bonuses"."availability_end_date", "bonuses"."user_group", "bonuses"."tags", "bonuses"."country", "bonuses"."created_by", "bonuses"."updated_by", "bonuses"."created_at", "bonuses"."updated_at", "bonuses"."project", "bonuses"."dsl_tag") FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/
       ^)
Caused by: SQLite3::SQLException (wrong number of arguments to function COUNT():
SELECT COUNT("bonuses"."id", "bonuses"."name", "bonuses"."code", "bonuses"."bonus_type", "bonuses"."status", "bonuses"."minimum_deposit", "bonuses"."wager", "bonuses"."maximum_winnings", "bonuses"."wagering_strategy", "bonuses"."availability_start_date", "bonuses"."availability_end_date", "bonuses"."user_group", "bonuses"."tags", "bonuses"."country", "bonuses"."created_by", "bonuses"."updated_by", "bonuses"."created_at", "bonuses"."updated_at", "bonuses"."project", "bonuses"."dsl_tag") FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/
       ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: wrong number of arguments to function COUNT():
SELECT COUNT("bonuses"."id", "bonuses"."name", "bonuses"."code", "bonuses"."bonus_type", "bonuses"."status", "bonuses"."minimum_deposit", "bonuses"."wager", "bonuses"."maximum_winnings", "bonuses"."wagering_strategy", "bonuses"."availability_start_date", "bonuses"."availability_end_date", "bonuses"."user_group", "bonuses"."tags", "bonuses"."country", "bonuses"."created_by", "bonuses"."updated_by", "bonuses"."created_at", "bonuses"."updated_at", "bonuses"."project", "bonuses"."dsl_tag") FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/
       ^):
  

Information for cause: SQLite3::SQLException (wrong number of arguments to function COUNT():
SELECT COUNT("bonuses"."id", "bonuses"."name", "bonuses"."code", "bonuses"."bonus_type", "bonuses"."status", "bonuses"."minimum_deposit", "bonuses"."wager", "bonuses"."maximum_winnings", "bonuses"."wagering_strategy", "bonuses"."availability_start_date", "bonuses"."availability_end_date", "bonuses"."user_group", "bonuses"."tags", "bonuses"."country", "bonuses"."created_by", "bonuses"."updated_by", "bonuses"."created_at", "bonuses"."updated_at", "bonuses"."project", "bonuses"."dsl_tag") FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/
       ^):
  
app/controllers/api/v1/bonuses_controller.rb:21:in 'Api::V1::BonusesController#index'
Started GET "/api/v1/bonuses" for ::1 at 2025-08-12 22:52:09 +0300
Processing by Api::V1::BonusesController#index as HTML
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT("bonuses"."id", "bonuses"."name", "bonuses"."code", "bonuses"."bonus_type", "bonuses"."status", "bonuses"."minimum_deposit", "bonuses"."wager", "bonuses"."maximum_winnings", "bonuses"."wagering_strategy", "bonuses"."availability_start_date", "bonuses"."availability_end_date", "bonuses"."user_group", "bonuses"."tags", "bonuses"."country", "bonuses"."created_by", "bonuses"."updated_by", "bonuses"."created_at", "bonuses"."updated_at", "bonuses"."project", "bonuses"."dsl_tag") FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:21:in 'Api::V1::BonusesController#index'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.8ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: wrong number of arguments to function COUNT():
SELECT COUNT("bonuses"."id", "bonuses"."name", "bonuses"."code", "bonuses"."bonus_type", "bonuses"."status", "bonuses"."minimum_deposit", "bonuses"."wager", "bonuses"."maximum_winnings", "bonuses"."wagering_strategy", "bonuses"."availability_start_date", "bonuses"."availability_end_date", "bonuses"."user_group", "bonuses"."tags", "bonuses"."country", "bonuses"."created_by", "bonuses"."updated_by", "bonuses"."created_at", "bonuses"."updated_at", "bonuses"."project", "bonuses"."dsl_tag") FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/
       ^)
Caused by: SQLite3::SQLException (wrong number of arguments to function COUNT():
SELECT COUNT("bonuses"."id", "bonuses"."name", "bonuses"."code", "bonuses"."bonus_type", "bonuses"."status", "bonuses"."minimum_deposit", "bonuses"."wager", "bonuses"."maximum_winnings", "bonuses"."wagering_strategy", "bonuses"."availability_start_date", "bonuses"."availability_end_date", "bonuses"."user_group", "bonuses"."tags", "bonuses"."country", "bonuses"."created_by", "bonuses"."updated_by", "bonuses"."created_at", "bonuses"."updated_at", "bonuses"."project", "bonuses"."dsl_tag") FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/
       ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: wrong number of arguments to function COUNT():
SELECT COUNT("bonuses"."id", "bonuses"."name", "bonuses"."code", "bonuses"."bonus_type", "bonuses"."status", "bonuses"."minimum_deposit", "bonuses"."wager", "bonuses"."maximum_winnings", "bonuses"."wagering_strategy", "bonuses"."availability_start_date", "bonuses"."availability_end_date", "bonuses"."user_group", "bonuses"."tags", "bonuses"."country", "bonuses"."created_by", "bonuses"."updated_by", "bonuses"."created_at", "bonuses"."updated_at", "bonuses"."project", "bonuses"."dsl_tag") FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/
       ^):
  

Information for cause: SQLite3::SQLException (wrong number of arguments to function COUNT():
SELECT COUNT("bonuses"."id", "bonuses"."name", "bonuses"."code", "bonuses"."bonus_type", "bonuses"."status", "bonuses"."minimum_deposit", "bonuses"."wager", "bonuses"."maximum_winnings", "bonuses"."wagering_strategy", "bonuses"."availability_start_date", "bonuses"."availability_end_date", "bonuses"."user_group", "bonuses"."tags", "bonuses"."country", "bonuses"."created_by", "bonuses"."updated_by", "bonuses"."created_at", "bonuses"."updated_at", "bonuses"."project", "bonuses"."dsl_tag") FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/
       ^):
  
app/controllers/api/v1/bonuses_controller.rb:21:in 'Api::V1::BonusesController#index'
Started GET "/api/v1/bonuses" for ::1 at 2025-08-12 22:53:19 +0300
Processing by Api::V1::BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:20:in 'Api::V1::BonusesController#index'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mGroupsUpdateBonus Load (1.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
Completed 200 OK in 117ms (Views: 1.1ms | ActiveRecord: 11.1ms (8 queries, 0 cached) | GC: 1.6ms)


Started GET "/api/v1/bonuses/201" for ::1 at 2025-08-12 22:53:23 +0300
Processing by Api::V1::BonusesController#show as HTML
  Parameters: {"id" => "201"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:118:in 'Api::V1::BonusesController#set_bonus'
  [1m[36mDepositBonus Load (2.0ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:36:in 'Api::V1::BonusesController#show'
Completed 200 OK in 20ms (Views: 0.1ms | ActiveRecord: 2.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 22:53:26 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  Rendered bonuses/index.html.erb within layouts/application (Duration: 24.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.9ms | GC: 0.0ms)
Completed 200 OK in 44ms (Views: 29.7ms | ActiveRecord: 1.1ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 22:56:48 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (1.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  Rendered bonuses/index.html.erb within layouts/application (Duration: 93.2ms | GC: 5.3ms)
  Rendered layout layouts/application.html.erb (Duration: 96.7ms | GC: 5.3ms)
Completed 200 OK in 124ms (Views: 92.3ms | ActiveRecord: 7.8ms (8 queries, 0 cached) | GC: 6.2ms)


Started GET "/bonuses/201" for ::1 at 2025-08-12 22:57:01 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "201"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:181:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 5.5ms | GC: 0.1ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 9.1ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | GC: 0.1ms)
Completed 200 OK in 26ms (Views: 12.9ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.1ms)


Started GET "/bonuses/201/edit" for ::1 at 2025-08-12 22:57:01 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "201"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 201 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:181:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:10
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.5ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 17.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 19.3ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/bonuses/201/activate?_method=patch" for ::1 at 2025-08-12 22:57:02 +0300
Processing by BonusesController#activate as TURBO_STREAM
  Parameters: {"id" => "201"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 201 LIMIT 1 /*action='activate',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:181:in 'BonusesController#set_bonus'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='activate',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:95:in 'Bonus#activate!'
  [1m[36mBonus Update (0.1ms)[0m  [1m[33mUPDATE "bonuses" SET "status" = 'active', "updated_at" = '2025-08-12 19:57:02.794429' WHERE "bonuses"."id" = 201 /*action='activate',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:95:in 'Bonus#activate!'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='activate',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:95:in 'Bonus#activate!'
Redirected to http://localhost:3000/bonuses/201
Completed 302 Found in 26ms (ActiveRecord: 6.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/201" for ::1 at 2025-08-12 22:57:02 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "201"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:181:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 1.5ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 3.5ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 22:57:05 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mGroupsUpdateBonus Load (0.5ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mSchedulerBonus Load (0.6ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  Rendered bonuses/index.html.erb within layouts/application (Duration: 29.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 32.3ms | GC: 0.0ms)
Completed 200 OK in 47ms (Views: 30.9ms | ActiveRecord: 2.1ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/200" for ::1 at 2025-08-12 22:57:07 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "200"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 200 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:181:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mGroupsUpdateBonus Load (0.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 200 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:173
  Rendered bonuses/_type_specific_details.html.erb (Duration: 5.1ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 6.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 8.2ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/201" for ::1 at 2025-08-12 22:57:21 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "201"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:181:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 3.9ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 11.1ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/bonuses/201/deactivate?_method=patch" for ::1 at 2025-08-12 22:57:22 +0300
Processing by BonusesController#deactivate as TURBO_STREAM
  Parameters: {"id" => "201"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 201 LIMIT 1 /*action='deactivate',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:181:in 'BonusesController#set_bonus'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='deactivate',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:99:in 'Bonus#deactivate!'
  [1m[36mBonus Update (3.6ms)[0m  [1m[33mUPDATE "bonuses" SET "status" = 'inactive', "updated_at" = '2025-08-12 19:57:22.291535' WHERE "bonuses"."id" = 201 /*action='deactivate',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:99:in 'Bonus#deactivate!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='deactivate',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:99:in 'Bonus#deactivate!'
Redirected to http://localhost:3000/bonuses/201
Completed 302 Found in 21ms (ActiveRecord: 3.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/201" for ::1 at 2025-08-12 22:57:22 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "201"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:181:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 1.5ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 5.3ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 22:57:23 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mInputCouponBonus Load (0.5ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.4ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | GC: 2.1ms)
Completed 200 OK in 32ms (Views: 23.1ms | ActiveRecord: 1.5ms (8 queries, 0 cached) | GC: 2.1ms)


Started GET "/" for ::1 at 2025-08-12 22:57:24 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mSchedulerBonus Load (0.3ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  Rendered bonuses/index.html.erb within layouts/application (Duration: 29.6ms | GC: 2.1ms)
  Rendered layout layouts/application.html.erb (Duration: 33.5ms | GC: 2.1ms)
Completed 200 OK in 45ms (Views: 32.0ms | ActiveRecord: 1.8ms (8 queries, 0 cached) | GC: 2.1ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:00:14 +0300
Processing by BonusesController#index as HTML
Completed 404 Not Found in 12ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


  
AbstractController::ActionNotFound (The activate action could not be found for the :set_bonus
callback on BonusesController, but it is listed in the controller's
:only option.

Raising for missing callback actions is a new default in Rails 7.1, if you'd
like to turn this off you can delete the option from the environment configurations
or set `config.action_controller.raise_on_missing_callback_actions` to `false`.
):
  
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:62:in 'AbstractController::Callbacks::ActionFilter#match?'
activesupport (8.0.2) lib/active_support/callbacks.rb:384:in 'block in ActiveSupport::Callbacks::CallTemplate::ObjectCall#make_lambda'
activesupport (8.0.2) lib/active_support/callbacks.rb:177:in 'block in ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2) lib/active_support/callbacks.rb:177:in 'Array#all?'
activesupport (8.0.2) lib/active_support/callbacks.rb:177:in 'ActiveSupport::Callbacks::Filters::Before#call'
activesupport (8.0.2) lib/active_support/callbacks.rb:559:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2) lib/active_support/callbacks.rb:559:in 'Array#each'
activesupport (8.0.2) lib/active_support/callbacks.rb:559:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
activesupport (8.0.2) lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
turbo-rails (2.0.16) lib/turbo-rails.rb:24:in 'Turbo.with_request_id'
turbo-rails (2.0.16) app/controllers/concerns/turbo/request_id_tracking.rb:10:in 'Turbo::RequestIdTracking#turbo_tracking_request_id'
activesupport (8.0.2) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
actiontext (8.0.2) lib/action_text/rendering.rb:25:in 'ActionText::Rendering::ClassMethods#with_renderer'
actiontext (8.0.2) lib/action_text/engine.rb:71:in 'block (4 levels) in <class:Engine>'
activesupport (8.0.2) lib/active_support/callbacks.rb:129:in 'BasicObject#instance_exec'
activesupport (8.0.2) lib/active_support/callbacks.rb:129:in 'block in ActiveSupport::Callbacks#run_callbacks'
activesupport (8.0.2) lib/active_support/callbacks.rb:140:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2) lib/abstract_controller/callbacks.rb:260:in 'AbstractController::Callbacks#process_action'
actionpack (8.0.2) lib/action_controller/metal/rescue.rb:27:in 'ActionController::Rescue#process_action'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:76:in 'block in ActionController::Instrumentation#process_action'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in 'block in ActiveSupport::Notifications.instrument'
activesupport (8.0.2) lib/active_support/notifications/instrumenter.rb:58:in 'ActiveSupport::Notifications::Instrumenter#instrument'
activesupport (8.0.2) lib/active_support/notifications.rb:210:in 'ActiveSupport::Notifications.instrument'
actionpack (8.0.2) lib/action_controller/metal/instrumentation.rb:75:in 'ActionController::Instrumentation#process_action'
actionpack (8.0.2) lib/action_controller/metal/params_wrapper.rb:259:in 'ActionController::ParamsWrapper#process_action'
activerecord (8.0.2) lib/active_record/railties/controller_runtime.rb:39:in 'ActiveRecord::Railties::ControllerRuntime#process_action'
actionpack (8.0.2) lib/abstract_controller/base.rb:163:in 'AbstractController::Base#process'
actionview (8.0.2) lib/action_view/rendering.rb:40:in 'ActionView::Rendering#process'
actionpack (8.0.2) lib/action_controller/metal.rb:252:in 'ActionController::Metal#dispatch'
actionpack (8.0.2) lib/action_controller/metal.rb:335:in 'ActionController::Metal.dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:67:in 'ActionDispatch::Routing::RouteSet::Dispatcher#dispatch'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:50:in 'ActionDispatch::Routing::RouteSet::Dispatcher#serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:53:in 'block in ActionDispatch::Journey::Router#serve'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:133:in 'block in ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in 'Array#each'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:126:in 'ActionDispatch::Journey::Router#find_routes'
actionpack (8.0.2) lib/action_dispatch/journey/router.rb:34:in 'ActionDispatch::Journey::Router#serve'
actionpack (8.0.2) lib/action_dispatch/routing/route_set.rb:908:in 'ActionDispatch::Routing::RouteSet#call'
railties (8.0.2) lib/rails/engine/lazy_route_set.rb:68:in 'Rails::Engine::LazyRouteSet#call'
rack (3.1.16) lib/rack/tempfile_reaper.rb:20:in 'Rack::TempfileReaper#call'
rack (3.1.16) lib/rack/etag.rb:29:in 'Rack::ETag#call'
rack (3.1.16) lib/rack/conditional_get.rb:31:in 'Rack::ConditionalGet#call'
rack (3.1.16) lib/rack/head.rb:15:in 'Rack::Head#call'
actionpack (8.0.2) lib/action_dispatch/http/permissions_policy.rb:38:in 'ActionDispatch::PermissionsPolicy::Middleware#call'
actionpack (8.0.2) lib/action_dispatch/http/content_security_policy.rb:38:in 'ActionDispatch::ContentSecurityPolicy::Middleware#call'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:274:in 'Rack::Session::Abstract::Persisted#context'
rack-session (2.1.1) lib/rack/session/abstract/id.rb:268:in 'Rack::Session::Abstract::Persisted#call'
actionpack (8.0.2) lib/action_dispatch/middleware/cookies.rb:706:in 'ActionDispatch::Cookies#call'
activerecord (8.0.2) lib/active_record/migration.rb:671:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.1.16) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.1.16) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.1.16) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.0) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.0) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.0) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.0) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/favicon.ico" for ::1 at 2025-08-12 23:00:15 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/bonuses" for ::1 at 2025-08-12 23:00:32 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  Rendered bonuses/index.html.erb within layouts/application (Duration: 75.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 80.3ms | GC: 0.0ms)
Completed 200 OK in 107ms (Views: 77.6ms | ActiveRecord: 4.9ms (8 queries, 0 cached) | GC: 1.9ms)


Started GET "/bonuses/201" for ::1 at 2025-08-12 23:00:59 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "201"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:159:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.3ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 28.6ms | GC: 2.2ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 35.1ms | GC: 2.2ms)
  Rendered layout layouts/application.html.erb (Duration: 45.7ms | GC: 2.2ms)
Completed 200 OK in 104ms (Views: 53.4ms | ActiveRecord: 6.8ms (2 queries, 0 cached) | GC: 4.9ms)


Started GET "/bonuses/201/edit" for ::1 at 2025-08-12 23:01:03 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "201"}
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 201 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:159:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 201 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:10
  Rendered bonuses/_type_specific_form.html.erb (Duration: 8.3ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 18.1ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | GC: 1.6ms)
Completed 200 OK in 39ms (Views: 21.4ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 2.9ms)


Started GET "/bonuses/new" for ::1 at 2025-08-12 23:01:09 +0300
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.0ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 15.3ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | GC: 0.7ms)
Completed 200 OK in 46ms (Views: 20.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)


Started GET "/api/v1/bonuses" for ::1 at 2025-08-12 23:01:13 +0300
Processing by Api::V1::BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:20:in 'Api::V1::BonusesController#index'
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mDepositBonus Load (0.9ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
Completed 200 OK in 95ms (Views: 0.4ms | ActiveRecord: 5.8ms (8 queries, 0 cached) | GC: 0.5ms)


Started GET "/" for ::1 at 2025-08-12 23:04:41 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20250812200426_add_id_column_to_bonuses.rb


):
  
activerecord (8.0.2) lib/active_record/migration.rb:743:in 'ActiveRecord::Migration.check_pending_migrations'
activerecord (8.0.2) lib/active_record/migration.rb:660:in 'block (2 levels) in ActiveRecord::Migration::CheckPending#call'
activesupport (8.0.2) lib/active_support/file_update_checker.rb:85:in 'ActiveSupport::FileUpdateChecker#execute'
activesupport (8.0.2) lib/active_support/file_update_checker.rb:95:in 'ActiveSupport::FileUpdateChecker#execute_if_updated'
activerecord (8.0.2) lib/active_record/migration.rb:667:in 'block in ActiveRecord::Migration::CheckPending#call'
activerecord (8.0.2) lib/active_record/migration.rb:657:in 'Thread::Mutex#synchronize'
activerecord (8.0.2) lib/active_record/migration.rb:657:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.1.16) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.1.16) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.1.16) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.0) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.0) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.0) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.0) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
Started GET "/favicon.ico" for ::1 at 2025-08-12 23:04:41 +0300
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20250812200426_add_id_column_to_bonuses.rb


):
  
activerecord (8.0.2) lib/active_record/migration.rb:743:in 'ActiveRecord::Migration.check_pending_migrations'
activerecord (8.0.2) lib/active_record/migration.rb:660:in 'block (2 levels) in ActiveRecord::Migration::CheckPending#call'
activesupport (8.0.2) lib/active_support/file_update_checker.rb:85:in 'ActiveSupport::FileUpdateChecker#execute'
activerecord (8.0.2) lib/active_record/migration.rb:665:in 'block in ActiveRecord::Migration::CheckPending#call'
activerecord (8.0.2) lib/active_record/migration.rb:657:in 'Thread::Mutex#synchronize'
activerecord (8.0.2) lib/active_record/migration.rb:657:in 'ActiveRecord::Migration::CheckPending#call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in 'block in ActionDispatch::Callbacks#call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in 'ActiveSupport::Callbacks#run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in 'ActionDispatch::Callbacks#call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in 'ActionDispatch::ActionableExceptions#call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in 'ActionDispatch::DebugExceptions#call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in 'block in WebConsole::Middleware#call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in 'ActionDispatch::ShowExceptions#call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in 'Rails::Rack::Logger#call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in 'Rails::Rack::Logger#call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in 'ActionDispatch::RemoteIp#call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in 'ActionDispatch::RequestId#call'
rack (3.1.16) lib/rack/method_override.rb:28:in 'Rack::MethodOverride#call'
rack (3.1.16) lib/rack/runtime.rb:24:in 'Rack::Runtime#call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in 'block in ActionDispatch::ServerTiming#call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in 'ActionDispatch::ServerTiming::Subscriber#collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in 'ActionDispatch::ServerTiming#call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in 'ActionDispatch::Executor#call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in 'ActionDispatch::Static#call'
rack (3.1.16) lib/rack/sendfile.rb:114:in 'Rack::Sendfile#call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in 'ActionDispatch::HostAuthorization#call'
railties (8.0.2) lib/rails/engine.rb:535:in 'Rails::Engine#call'
puma (6.6.0) lib/puma/configuration.rb:279:in 'Puma::Configuration::ConfigMiddleware#call'
puma (6.6.0) lib/puma/request.rb:99:in 'block in Puma::Request#handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in 'Puma::ThreadPool#with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in 'Puma::Request#handle_request'
puma (6.6.0) lib/puma/server.rb:472:in 'Puma::Server#process_client'
puma (6.6.0) lib/puma/server.rb:254:in 'block in Puma::Server#run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in 'block in Puma::ThreadPool#spawn_thread'
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddIdColumnToBonuses (20250812200426)
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddIdColumnToBonuses (20250812200426)
  [1m[36mActiveRecord::InternalMetadata Load (2.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddIdColumnToBonuses (20250812200426)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "id" bigint /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddIdColumnToBonuses (20250812200426)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "id" bigint /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddProjectAndDslTagToBonuses (20250812193953)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mDROP INDEX "index_bonuses_on_dsl_tag" /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mDROP INDEX "index_bonuses_on_project" /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "bonus_type" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "project" varchar, "dsl_tag" varchar) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_currency" ON "abonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_country" ON "abonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_user_group" ON "abonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_availability_end_date" ON "abonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_availability_start_date" ON "abonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_status" ON "abonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_bonus_type" ON "abonuses" ("bonus_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_abonuses_on_code" ON "abonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "abonuses" ("id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag")
                     SELECT "id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag" FROM "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "bonus_type" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "project" varchar) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_bonus_type" ON "bonuses" ("bonus_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_status" ON "bonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_start_date" ON "bonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_end_date" ON "bonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_user_group" ON "bonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_country" ON "bonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_currency" ON "bonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "bonuses" ("id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project")
                     SELECT "id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project" FROM "abonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "abonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "bonus_type" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "project" varchar) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_currency" ON "abonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_country" ON "abonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_user_group" ON "abonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_availability_end_date" ON "abonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_availability_start_date" ON "abonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_status" ON "abonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_bonus_type" ON "abonuses" ("bonus_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_abonuses_on_code" ON "abonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "abonuses" ("id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project")
                     SELECT "id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project" FROM "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "bonus_type" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_bonus_type" ON "bonuses" ("bonus_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_status" ON "bonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_start_date" ON "bonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_end_date" ON "bonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_user_group" ON "bonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_country" ON "bonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_currency" ON "bonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "bonuses" ("id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at")
                     SELECT "id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at" FROM "abonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "abonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.0ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250812193953' /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "bonus_type" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_end_date" ON "bonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_start_date" ON "bonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_bonus_type" ON "bonuses" ("bonus_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_country" ON "bonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_currency" ON "bonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_status" ON "bonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_user_group" ON "bonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "collect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "collect_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "collection_type" varchar NOT NULL, "collection_amount" decimal(15,2), "collection_frequency" varchar DEFAULT 'daily', "collection_limit" integer DEFAULT 1, "collected_count" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_bonus_id" ON "collect_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_frequency" ON "collect_bonuses" ("collection_frequency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_type" ON "collect_bonuses" ("collection_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "deposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "deposit_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT 0, "recurring_eligible" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_deposit_bonuses_on_bonus_id" ON "deposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "groups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "groups_update_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "target_groups" text NOT NULL, "update_type" varchar NOT NULL, "update_parameters" text, "batch_size" integer DEFAULT 100, "processing_status" varchar DEFAULT 'pending', "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_bonus_id" ON "groups_update_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_processing_status" ON "groups_update_bonuses" ("processing_status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_update_type" ON "groups_update_bonuses" ("update_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "input_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "input_coupon_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "coupon_code" varchar NOT NULL, "usage_limit" integer DEFAULT 1, "usage_count" integer DEFAULT 0, "expires_at" datetime(6), "single_use" boolean DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_bonus_id" ON "input_coupon_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_input_coupon_bonuses_on_coupon_code" ON "input_coupon_bonuses" ("coupon_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_expires_at" ON "input_coupon_bonuses" ("expires_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "manual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "manual_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "admin_notes" text, "approval_required" boolean DEFAULT 1, "auto_apply" boolean DEFAULT 0, "conditions" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_approval_required" ON "manual_bonuses" ("approval_required") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_auto_apply" ON "manual_bonuses" ("auto_apply") /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_bonus_id" ON "manual_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "scheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "scheduler_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "schedule_type" varchar NOT NULL, "cron_expression" varchar, "next_run_at" datetime(6), "last_run_at" datetime(6), "execution_count" integer DEFAULT 0, "max_executions" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_bonus_id" ON "scheduler_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_last_run_at" ON "scheduler_bonuses" ("last_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_next_run_at" ON "scheduler_bonuses" ("next_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_schedule_type" ON "scheduler_bonuses" ("schedule_type") /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acollect_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "collection_type" varchar NOT NULL, "collection_amount" decimal(15,2), "collection_frequency" varchar DEFAULT 'daily', "collection_limit" integer DEFAULT 1, "collected_count" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acollect_bonuses_on_collection_type" ON "acollect_bonuses" ("collection_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acollect_bonuses_on_collection_frequency" ON "acollect_bonuses" ("collection_frequency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acollect_bonuses_on_bonus_id" ON "acollect_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "acollect_bonuses" ("id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at")
                     SELECT "id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at" FROM "collect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "collect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "collect_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "collection_type" varchar NOT NULL, "collection_amount" decimal(15,2), "collection_frequency" varchar DEFAULT 'daily', "collection_limit" integer DEFAULT 1, "collected_count" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_39036008a7"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_bonus_id" ON "collect_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_frequency" ON "collect_bonuses" ("collection_frequency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_type" ON "collect_bonuses" ("collection_type") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at")
                     SELECT "id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at" FROM "acollect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acollect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "adeposit_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT 0, "recurring_eligible" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_adeposit_bonuses_on_bonus_id" ON "adeposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "adeposit_bonuses" ("id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at")
                     SELECT "id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at" FROM "deposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "deposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "deposit_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT 0, "recurring_eligible" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_2448ff73ca"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_deposit_bonuses_on_bonus_id" ON "deposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at")
                     SELECT "id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at" FROM "adeposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "adeposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "agroups_update_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "target_groups" text NOT NULL, "update_type" varchar NOT NULL, "update_parameters" text, "batch_size" integer DEFAULT 100, "processing_status" varchar DEFAULT 'pending', "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_agroups_update_bonuses_on_update_type" ON "agroups_update_bonuses" ("update_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_agroups_update_bonuses_on_processing_status" ON "agroups_update_bonuses" ("processing_status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_agroups_update_bonuses_on_bonus_id" ON "agroups_update_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "agroups_update_bonuses" ("id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at")
                     SELECT "id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at" FROM "groups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "groups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "groups_update_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "target_groups" text NOT NULL, "update_type" varchar NOT NULL, "update_parameters" text, "batch_size" integer DEFAULT 100, "processing_status" varchar DEFAULT 'pending', "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_ed7bb087a7"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_bonus_id" ON "groups_update_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_processing_status" ON "groups_update_bonuses" ("processing_status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_update_type" ON "groups_update_bonuses" ("update_type") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at")
                     SELECT "id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at" FROM "agroups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "agroups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ainput_coupon_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "coupon_code" varchar NOT NULL, "usage_limit" integer DEFAULT 1, "usage_count" integer DEFAULT 0, "expires_at" datetime(6), "single_use" boolean DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ainput_coupon_bonuses_on_expires_at" ON "ainput_coupon_bonuses" ("expires_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ainput_coupon_bonuses_on_coupon_code" ON "ainput_coupon_bonuses" ("coupon_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ainput_coupon_bonuses_on_bonus_id" ON "ainput_coupon_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "ainput_coupon_bonuses" ("id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at")
                     SELECT "id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at" FROM "input_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "input_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "input_coupon_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "coupon_code" varchar NOT NULL, "usage_limit" integer DEFAULT 1, "usage_count" integer DEFAULT 0, "expires_at" datetime(6), "single_use" boolean DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_196a679410"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_bonus_id" ON "input_coupon_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_input_coupon_bonuses_on_coupon_code" ON "input_coupon_bonuses" ("coupon_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_expires_at" ON "input_coupon_bonuses" ("expires_at") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at")
                     SELECT "id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at" FROM "ainput_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "ainput_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amanual_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "admin_notes" text, "approval_required" boolean DEFAULT 1, "auto_apply" boolean DEFAULT 0, "conditions" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amanual_bonuses_on_bonus_id" ON "amanual_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amanual_bonuses_on_auto_apply" ON "amanual_bonuses" ("auto_apply") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amanual_bonuses_on_approval_required" ON "amanual_bonuses" ("approval_required") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "amanual_bonuses" ("id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at")
                     SELECT "id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at" FROM "manual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "manual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "manual_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "admin_notes" text, "approval_required" boolean DEFAULT 1, "auto_apply" boolean DEFAULT 0, "conditions" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_342825fcc9"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_approval_required" ON "manual_bonuses" ("approval_required") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_auto_apply" ON "manual_bonuses" ("auto_apply") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_bonus_id" ON "manual_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at")
                     SELECT "id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at" FROM "amanual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amanual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ascheduler_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "schedule_type" varchar NOT NULL, "cron_expression" varchar, "next_run_at" datetime(6), "last_run_at" datetime(6), "execution_count" integer DEFAULT 0, "max_executions" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_schedule_type" ON "ascheduler_bonuses" ("schedule_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_next_run_at" ON "ascheduler_bonuses" ("next_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_last_run_at" ON "ascheduler_bonuses" ("last_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_bonus_id" ON "ascheduler_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "ascheduler_bonuses" ("id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at")
                     SELECT "id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at" FROM "scheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "scheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "scheduler_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "schedule_type" varchar NOT NULL, "cron_expression" varchar, "next_run_at" datetime(6), "last_run_at" datetime(6), "execution_count" integer DEFAULT 0, "max_executions" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f9f29eae23"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_bonus_id" ON "scheduler_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_last_run_at" ON "scheduler_bonuses" ("last_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_next_run_at" ON "scheduler_bonuses" ("next_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_schedule_type" ON "scheduler_bonuses" ("schedule_type") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at")
                     SELECT "id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at" FROM "ascheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "ascheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY) /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250811210559) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250811204912),
(20250811204906),
(20250811204849),
(20250811204844),
(20250811204839),
(20250811204831),
(20250811204823); /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-08-12 20:06:19.561060', '2025-08-12 20:06:19.561063') RETURNING "key" /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '980d16bbc047c109e8fed7d1cab9da470bc3843d', '2025-08-12 20:06:19.563042', '2025-08-12 20:06:19.563043') RETURNING "key" /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddProjectAndDslTagToBonuses (20250812193953)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "project" varchar /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "dsl_tag" varchar /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_project" ON "bonuses" ("project") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_dsl_tag" ON "bonuses" ("dsl_tag") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250812193953') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started GET "/" for ::1 at 2025-08-12 23:06:27 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  Rendered bonuses/index.html.erb within layouts/application (Duration: 10.4ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | GC: 1.6ms)
Completed 200 OK in 44ms (Views: 17.5ms | ActiveRecord: 1.8ms (1 query, 0 cached) | GC: 3.7ms)


Started GET "/bonuses/new" for ::1 at 2025-08-12 23:06:29 +0300
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.9ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 8.3ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 0.7ms)
Completed 200 OK in 39ms (Views: 9.7ms | ActiveRecord: 1.1ms (0 queries, 0 cached) | GC: 7.2ms)


Started GET "/bonuses/new" for ::1 at 2025-08-12 23:06:30 +0300
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 5.9ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 1.0ms)
Completed 200 OK in 18ms (Views: 7.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.0ms)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'WELCOME100' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'WELCOME100' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Welcome Bonus 100%', 'WELCOME100', 'deposit', 'active', NULL, 1000.0, 500.0, 'standard', '2025-08-12 00:00:00', '2025-09-11 00:00:00', 'new_users', 'welcome, first_deposit, high_value', 'US', 'USD', 1, 1, '2025-08-12 20:08:44.328940', '2025-08-12 20:08:44.328940', 'VOLNA', 'welcome_bonus') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:118:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (1, 10.0, 100.0, 500.0, 1, 0, '2025-08-12 20:08:44.349629', '2025-08-12 20:08:44.349629') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:118:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:118:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 1 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:118:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'RELOAD50' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Reload Bonus 50%', 'RELOAD50', 'deposit', 'active', NULL, 750.0, 250.0, 'standard', '2025-08-12 00:00:00', '2025-10-11 00:00:00', 'existing_users', 'reload, weekly, medium_value', 'US', 'USD', 1, 1, '2025-08-12 20:08:44.356906', '2025-08-12 20:08:44.356906', 'ROX', 'reload_bonus') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:126:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (2, 25.0, 50.0, 250.0, 0, 1, '2025-08-12 20:08:44.362008', '2025-08-12 20:08:44.362008') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:126:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:126:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 2 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:126:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'VIP200' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('VIP Bonus 200%', 'VIP200', 'deposit', 'active', NULL, 3000.0, 2000.0, 'vip', '2025-08-12 00:00:00', '2025-11-10 00:00:00', 'vip_users', 'vip, high_roller, exclusive', 'US', 'USD', 1, 1, '2025-08-12 20:08:44.370970', '2025-08-12 20:08:44.370970', 'FRESH', 'vip_bonus') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:134:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (3, 100.0, 200.0, 2000.0, 0, 1, '2025-08-12 20:08:44.373449', '2025-08-12 20:08:44.373449') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:134:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:134:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 3 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:134:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'WEEKEND75' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Weekend Special 75%', 'WEEKEND75', 'deposit', 'active', NULL, 600.0, 150.0, 'weekend', '2025-08-11 00:00:00', '2025-08-17 00:00:00', 'all_users', 'weekend, limited_time, medium_value', 'US', 'USD', 1, 1, '2025-08-12 20:08:44.379180', '2025-08-12 20:08:44.379180', 'SOL', 'weekend_bonus') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:142:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (4, 20.0, 75.0, 150.0, 0, 0, '2025-08-12 20:08:44.381356', '2025-08-12 20:08:44.381356') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:142:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:142:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 4 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:142:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'FIRST150' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('First Deposit 150%', 'FIRST150', 'deposit', 'active', NULL, 1500.0, 750.0, 'first_deposit', '2025-08-12 00:00:00', '2025-12-10 00:00:00', 'new_users', 'first_deposit, high_value, exclusive', 'US', 'USD', 1, 1, '2025-08-12 20:08:44.386399', '2025-08-12 20:08:44.386399', 'JET', 'first_deposit_bonus') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:113:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:150:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (3.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (5, 50.0, 150.0, 750.0, 1, 0, '2025-08-12 20:08:44.388201', '2025-08-12 20:08:44.388201') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:150:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:150:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 5 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:150:in 'block (3 levels) in <main>'
  [1m[36mBonus Count (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Count (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."bonus_type" = 'deposit' /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."status" = 'active' /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 1 LIMIT 1 /*application='MbsPromoRetention'*/[0m
Started GET "/" for ::1 at 2025-08-12 23:09:05 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  Rendered bonuses/index.html.erb within layouts/application (Duration: 66.3ms | GC: 5.0ms)
  Rendered layout layouts/application.html.erb (Duration: 73.6ms | GC: 5.0ms)
Completed 200 OK in 111ms (Views: 73.0ms | ActiveRecord: 2.5ms (8 queries, 0 cached) | GC: 5.0ms)


Started GET "/bonuses/5" for ::1 at 2025-08-12 23:09:08 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "5"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 5 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:159:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 5 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:3
  Rendered bonuses/_type_specific_details.html.erb (Duration: 4.2ms | GC: 0.5ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 6.7ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.5ms)
Completed 200 OK in 19ms (Views: 7.9ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/bonuses/new?duplicate=5" for ::1 at 2025-08-12 23:09:09 +0300
Processing by BonusesController#new as HTML
  Parameters: {"duplicate" => "5"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 4.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.4ms)
Completed 200 OK in 18ms (Views: 8.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/" for ::1 at 2025-08-12 23:09:18 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mCollectBonus Load (0.8ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:110
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.4ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | GC: 0.7ms)
Completed 200 OK in 39ms (Views: 23.0ms | ActiveRecord: 1.7ms (8 queries, 0 cached) | GC: 1.3ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:10:08 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 67.4ms | GC: 6.2ms)
  Rendered layout layouts/application.html.erb (Duration: 70.0ms | GC: 6.2ms)
Completed 200 OK in 94ms (Views: 67.4ms | ActiveRecord: 6.2ms (8 queries, 0 cached) | GC: 6.2ms)


Started GET "/" for ::1 at 2025-08-12 23:10:21 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 68.0ms | GC: 3.1ms)
  Rendered layout layouts/application.html.erb (Duration: 70.9ms | GC: 3.1ms)
Completed 200 OK in 102ms (Views: 70.0ms | ActiveRecord: 4.9ms (8 queries, 0 cached) | GC: 5.5ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:12:44 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.4ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.3ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 62.6ms | GC: 6.3ms)
  Rendered layout layouts/application.html.erb (Duration: 67.3ms | GC: 6.9ms)
Completed 200 OK in 83ms (Views: 61.5ms | ActiveRecord: 7.9ms (8 queries, 0 cached) | GC: 6.9ms)


Started GET "/" for ::1 at 2025-08-12 23:13:07 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 83.3ms | GC: 2.7ms)
  Rendered layout layouts/application.html.erb (Duration: 87.1ms | GC: 2.7ms)
Completed 200 OK in 109ms (Views: 86.1ms | ActiveRecord: 5.8ms (8 queries, 0 cached) | GC: 3.3ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:13:51 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.3ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 73.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 85.3ms | GC: 0.0ms)
Completed 200 OK in 151ms (Views: 84.9ms | ActiveRecord: 6.5ms (8 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:14:17 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (1.7ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 93.1ms | GC: 20.4ms)
  Rendered layout layouts/application.html.erb (Duration: 95.9ms | GC: 20.7ms)
Completed 200 OK in 120ms (Views: 91.9ms | ActiveRecord: 6.5ms (8 queries, 0 cached) | GC: 20.7ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:14:39 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.4ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 59.7ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 64.6ms | GC: 0.1ms)
Completed 200 OK in 84ms (Views: 61.1ms | ActiveRecord: 6.5ms (8 queries, 0 cached) | GC: 0.5ms)


Started GET "/" for ::1 at 2025-08-12 23:15:03 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 44.3ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 46.6ms | GC: 1.3ms)
Completed 200 OK in 61ms (Views: 44.0ms | ActiveRecord: 4.3ms (8 queries, 0 cached) | GC: 1.5ms)


Started GET "/" for ::1 at 2025-08-12 23:15:05 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 18.2ms | ActiveRecord: 0.8ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:15:07 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 13.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 14.6ms | ActiveRecord: 0.9ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:15:08 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.5ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.2ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | GC: 1.2ms)
Completed 200 OK in 26ms (Views: 16.5ms | ActiveRecord: 2.0ms (8 queries, 0 cached) | GC: 1.2ms)


Started GET "/heatmap" for ::1 at 2025-08-12 23:15:09 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.3ms)
Completed 200 OK in 18ms (Views: 4.9ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.7ms)


Started GET "/heatmap" for ::1 at 2025-08-12 23:15:10 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.3ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.2ms)
Completed 200 OK in 16ms (Views: 3.8ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/heatmap" for ::1 at 2025-08-12 23:15:57 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.1ms)
Completed 200 OK in 18ms (Views: 4.6ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:15:57 +0300
Processing by BonusesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.5ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 39.7ms | GC: 15.2ms)
  Rendered layout layouts/application.html.erb (Duration: 41.5ms | GC: 15.8ms)
Completed 200 OK in 50ms (Views: 40.5ms | ActiveRecord: 1.7ms (8 queries, 0 cached) | GC: 15.8ms)


  [1m[36mBonus Load (2.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE (name LIKE 'Test Bonus%') /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 1 - Deposit', 'TESTDEPOSIT1', 'deposit', 'active', NULL, 446.0, 629.0, 'vip', '2025-08-10 00:00:00', '2025-12-13 00:00:00', 'new_users', 'deposit, test, volna', 'US', 'USD', 1, 1, '2025-08-12 20:22:17.585142', '2025-08-12 20:22:17.585142', 'VOLNA', 'test_deposit_1') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (1.0ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (6, 52.0, 25.0, 433.0, 1, 0, '2025-08-12 20:22:17.604652', '2025-08-12 20:22:17.604652') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 2 - Input coupon', 'TESTINPUT_COUPON2', 'input_coupon', 'inactive', NULL, 2725.0, 1457.0, 'vip', '2025-07-18 00:00:00', '2025-10-22 00:00:00', 'vip_users', 'input_coupon, test, rox', 'RU', 'EUR', 1, 1, '2025-08-12 20:22:17.614286', '2025-08-12 20:22:17.614286', 'ROX', 'test_input_coupon_2') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (7, 'COUPON2', 402, 0, '2026-03-01 00:00:00', 1, '2025-08-12 20:22:17.624237', '2025-08-12 20:22:17.624237') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 3 - Manual', 'TESTMANUAL3', 'manual', 'draft', NULL, 390.0, 583.0, 'first_deposit', '2025-08-01 00:00:00', '2025-10-16 00:00:00', 'existing_users', 'manual, test, fresh', 'DE', 'RUB', 1, 1, '2025-08-12 20:22:17.628955', '2025-08-12 20:22:17.628955', 'FRESH', 'test_manual_3') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:230:in 'block (3 levels) in <main>'
  [1m[36mBonus Load (4.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE (name LIKE 'Test Bonus%') /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 6 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 6 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 6 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.8ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."id" = 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 7 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 7 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.8ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 8 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 8 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 1 - Deposit', 'TESTDEPOSIT1', 'deposit', 'active', NULL, 1035.0, 1948.0, 'standard', '2025-07-20 00:00:00', '2026-01-02 00:00:00', 'existing_users', 'deposit, test, volna', 'US', 'USD', 1, 1, '2025-08-12 20:22:35.574846', '2025-08-12 20:22:35.574846', 'VOLNA', 'test_deposit_1') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (9, 152.0, 132.0, 959.0, 0, 0, '2025-08-12 20:22:35.579344', '2025-08-12 20:22:35.579344') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 2 - Input coupon', 'TESTINPUT_COUPON2', 'input_coupon', 'inactive', NULL, 2630.0, 351.0, 'weekend', '2025-08-07 00:00:00', '2026-02-06 00:00:00', 'new_users', 'input_coupon, test, rox', 'RU', 'EUR', 1, 1, '2025-08-12 20:22:35.585718', '2025-08-12 20:22:35.585718', 'ROX', 'test_input_coupon_2') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (10, 'COUPON2', 59, 0, '2025-11-01 00:00:00', 1, '2025-08-12 20:22:35.590834', '2025-08-12 20:22:35.590834') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 3 - Manual', 'TESTMANUAL3', 'manual', 'draft', NULL, 3419.0, 1041.0, 'weekend', '2025-07-25 00:00:00', '2026-02-04 00:00:00', 'all_users', 'manual, test, fresh', 'DE', 'RUB', 1, 1, '2025-08-12 20:22:35.596987', '2025-08-12 20:22:35.596987', 'FRESH', 'test_manual_3') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Create (1.1ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (11, 'Test manual bonus 3', 1, 0, 'Test conditions for bonus 3', '2025-08-12 20:22:35.603062', '2025-08-12 20:22:35.603062') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTCOLLECTION4' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 4 - Collection', 'TESTCOLLECTION4', 'collection', 'active', NULL, 2791.0, 1062.0, 'first_deposit', '2025-08-05 00:00:00', '2026-02-06 00:00:00', 'existing_users', 'collection, test, sol', 'FR', 'USD', 1, 1, '2025-08-12 20:22:35.610221', '2025-08-12 20:22:35.610221', 'SOL', 'test_collection_4') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mBonus Load (1.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE (name LIKE 'Test Bonus%') /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (1.7ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 7 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.3ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 9 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 9 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Destroy (0.0ms)[0m  [1m[31mDELETE FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."id" = 2 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 10 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 10 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "manual_bonuses" WHERE "manual_bonuses"."id" = 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 11 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 11 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.0ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 12 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 12 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 1 - Deposit', 'TESTDEPOSIT1', 'deposit', 'active', NULL, 1108.0, 1784.0, 'weekend', '2025-07-28 00:00:00', '2026-01-09 00:00:00', 'new_users', 'deposit, test, volna', 'US', 'USD', 1, 1, '2025-08-12 20:22:50.060092', '2025-08-12 20:22:50.060092', 'VOLNA', 'test_deposit_1') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (13, 154.0, 58.0, 272.0, 1, 0, '2025-08-12 20:22:50.063528', '2025-08-12 20:22:50.063528') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.3ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 2 - Input coupon', 'TESTINPUT_COUPON2', 'input_coupon', 'inactive', NULL, 2925.0, 832.0, 'standard', '2025-08-05 00:00:00', '2026-02-01 00:00:00', 'all_users', 'input_coupon, test, rox', 'RU', 'EUR', 1, 1, '2025-08-12 20:22:50.070410', '2025-08-12 20:22:50.070410', 'ROX', 'test_input_coupon_2') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (14, 'COUPON2', 677, 0, '2026-03-24 00:00:00', 0, '2025-08-12 20:22:50.076387', '2025-08-12 20:22:50.076387') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 3 - Manual', 'TESTMANUAL3', 'manual', 'draft', NULL, 2566.0, 1367.0, 'weekend', '2025-08-08 00:00:00', '2025-11-17 00:00:00', 'all_users', 'manual, test, fresh', 'DE', 'RUB', 1, 1, '2025-08-12 20:22:50.083350', '2025-08-12 20:22:50.083350', 'FRESH', 'test_manual_3') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (15, 'Test manual bonus 3', 1, 0, 'Test conditions for bonus 3', '2025-08-12 20:22:50.085616', '2025-08-12 20:22:50.085616') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTCOLLECTION4' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 4 - Collection', 'TESTCOLLECTION4', 'collection', 'active', NULL, 3321.0, 1706.0, 'first_deposit', '2025-07-16 00:00:00', '2025-10-12 00:00:00', 'all_users', 'collection, test, sol', 'FR', 'USD', 1, 1, '2025-08-12 20:22:50.093423', '2025-08-12 20:22:50.093423', 'SOL', 'test_collection_4') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Create (1.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (16, 'percentage', 34.0, 'daily', 31, 0, '2025-08-12 20:22:50.099992', '2025-08-12 20:22:50.099992') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Load (0.4ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTGROUPS_UPDATE5' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 5 - Groups update', 'TESTGROUPS_UPDATE5', 'groups_update', 'inactive', NULL, 2358.0, 1838.0, 'weekend', '2025-08-04 00:00:00', '2026-01-05 00:00:00', 'all_users', 'groups_update, test, jet', 'IT', 'EUR', 1, 1, '2025-08-12 20:22:50.108162', '2025-08-12 20:22:50.108162', 'JET', 'test_groups_update_5') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mBonus Load (2.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE (name LIKE 'Test Bonus%') /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 8 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 13 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 13 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.8ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Destroy (0.0ms)[0m  [1m[31mDELETE FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."id" = 3 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.0ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 14 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 14 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "manual_bonuses" WHERE "manual_bonuses"."id" = 2 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 15 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 15 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.8ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "collect_bonuses" WHERE "collect_bonuses"."id" = 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 16 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 16 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (1.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 17 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 17 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 1 - Deposit', 'TESTDEPOSIT1', 'deposit', 'active', NULL, 1111.0, 1689.0, 'standard', '2025-08-05 00:00:00', '2026-01-24 00:00:00', 'new_users', 'deposit, test, volna', 'US', 'USD', 1, 1, '2025-08-12 20:23:04.955699', '2025-08-12 20:23:04.955699', 'VOLNA', 'test_deposit_1') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (1.1ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (18, 22.0, 139.0, 323.0, 0, 1, '2025-08-12 20:23:04.958613', '2025-08-12 20:23:04.958613') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 2 - Input coupon', 'TESTINPUT_COUPON2', 'input_coupon', 'inactive', NULL, 2668.0, 1304.0, 'first_deposit', '2025-08-06 00:00:00', '2025-10-14 00:00:00', 'vip_users', 'input_coupon, test, rox', 'RU', 'EUR', 1, 1, '2025-08-12 20:23:04.965485', '2025-08-12 20:23:04.965485', 'ROX', 'test_input_coupon_2') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (19, 'COUPON2', 44, 0, '2026-05-04 00:00:00', 1, '2025-08-12 20:23:04.971782', '2025-08-12 20:23:04.971782') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 3 - Manual', 'TESTMANUAL3', 'manual', 'draft', NULL, 3981.0, 1464.0, 'weekend', '2025-08-07 00:00:00', '2025-12-13 00:00:00', 'new_users', 'manual, test, fresh', 'DE', 'RUB', 1, 1, '2025-08-12 20:23:04.976248', '2025-08-12 20:23:04.976248', 'FRESH', 'test_manual_3') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Create (1.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (20, 'Test manual bonus 3', 1, 0, 'Test conditions for bonus 3', '2025-08-12 20:23:04.978867', '2025-08-12 20:23:04.978867') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTCOLLECTION4' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 4 - Collection', 'TESTCOLLECTION4', 'collection', 'active', NULL, 3327.0, 210.0, 'standard', '2025-08-03 00:00:00', '2025-12-17 00:00:00', 'vip_users', 'collection, test, sol', 'FR', 'USD', 1, 1, '2025-08-12 20:23:04.985660', '2025-08-12 20:23:04.985660', 'SOL', 'test_collection_4') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Create (1.2ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (21, 'fixed_amount', 95.0, 'once', 44, 0, '2025-08-12 20:23:04.990366', '2025-08-12 20:23:04.990366') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTGROUPS_UPDATE5' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 5 - Groups update', 'TESTGROUPS_UPDATE5', 'groups_update', 'inactive', NULL, 604.0, 401.0, 'first_deposit', '2025-07-26 00:00:00', '2025-10-15 00:00:00', 'vip_users', 'groups_update, test, jet', 'IT', 'EUR', 1, 1, '2025-08-12 20:23:04.999093', '2025-08-12 20:23:04.999093', 'JET', 'test_groups_update_5') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (22, '["group_5", "group_6"]', 'modify_bonus', '{"param_5": "value_5"}', 859, 'pending', '2025-08-12 20:23:05.006348', '2025-08-12 20:23:05.006348') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTSCHEDULER6' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 6 - Scheduler', 'TESTSCHEDULER6', 'scheduler', 'draft', NULL, 4727.0, 684.0, 'first_deposit', '2025-08-11 00:00:00', '2025-11-14 00:00:00', 'new_users', 'scheduler, test, izzi', 'ES', 'RUB', 1, 1, '2025-08-12 20:23:05.015159', '2025-08-12 20:23:05.015159', 'IZZI', 'test_scheduler_6') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mBonus Load (2.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE (name LIKE 'Test Bonus%') /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "deposit_bonuses" WHERE "deposit_bonuses"."id" = 9 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 18 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 18 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."id" = 4 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 19 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 19 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (3.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "manual_bonuses" WHERE "manual_bonuses"."id" = 3 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 20 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 20 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "collect_bonuses" WHERE "collect_bonuses"."id" = 2 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 21 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 21 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."id" = 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 22 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 22 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.0ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.0ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 23 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 23 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:172:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.4ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 1 - Deposit', 'TESTDEPOSIT1', 'deposit', 'active', NULL, 4260.0, 306.0, 'first_deposit', '2025-07-31 00:00:00', '2025-11-15 00:00:00', 'vip_users', 'deposit, test, volna', 'US', 'USD', 1, 1, '2025-08-12 20:23:18.097973', '2025-08-12 20:23:18.097973', 'VOLNA', 'test_deposit_1') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (1.8ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (24, 26.0, 166.0, 399.0, 1, 0, '2025-08-12 20:23:18.101418', '2025-08-12 20:23:18.101418') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.3ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 24 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 2 - Input coupon', 'TESTINPUT_COUPON2', 'input_coupon', 'inactive', NULL, 4664.0, 544.0, 'weekend', '2025-07-28 00:00:00', '2025-12-13 00:00:00', 'existing_users', 'input_coupon, test, rox', 'RU', 'EUR', 1, 1, '2025-08-12 20:23:18.109397', '2025-08-12 20:23:18.109397', 'ROX', 'test_input_coupon_2') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (25, 'COUPON2', 379, 0, '2026-06-12 00:00:00', 1, '2025-08-12 20:23:18.115397', '2025-08-12 20:23:18.115397') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 25 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL3' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 3 - Manual', 'TESTMANUAL3', 'manual', 'draft', NULL, 2660.0, 956.0, 'vip', '2025-07-21 00:00:00', '2025-11-19 00:00:00', 'all_users', 'manual, test, fresh', 'DE', 'RUB', 1, 1, '2025-08-12 20:23:18.123175', '2025-08-12 20:23:18.123175', 'FRESH', 'test_manual_3') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (26, 'Test manual bonus 3', 1, 0, 'Test conditions for bonus 3', '2025-08-12 20:23:18.125281', '2025-08-12 20:23:18.125281') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 26 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTCOLLECTION4' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 4 - Collection', 'TESTCOLLECTION4', 'collection', 'active', NULL, 2521.0, 1840.0, 'weekend', '2025-07-22 00:00:00', '2026-01-15 00:00:00', 'all_users', 'collection, test, sol', 'FR', 'USD', 1, 1, '2025-08-12 20:23:18.130443', '2025-08-12 20:23:18.130443', 'SOL', 'test_collection_4') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (27, 'fixed_amount', 27.0, 'weekly', 42, 0, '2025-08-12 20:23:18.132460', '2025-08-12 20:23:18.132460') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 27 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTGROUPS_UPDATE5' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 5 - Groups update', 'TESTGROUPS_UPDATE5', 'groups_update', 'inactive', NULL, 714.0, 1254.0, 'standard', '2025-07-21 00:00:00', '2025-12-09 00:00:00', 'all_users', 'groups_update, test, jet', 'IT', 'EUR', 1, 1, '2025-08-12 20:23:18.137303', '2025-08-12 20:23:18.137303', 'JET', 'test_groups_update_5') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (28, '["group_5", "group_6"]', 'add_bonus', '{"param_5": "value_5"}', 869, 'pending', '2025-08-12 20:23:18.139269', '2025-08-12 20:23:18.139269') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 28 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTSCHEDULER6' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 6 - Scheduler', 'TESTSCHEDULER6', 'scheduler', 'draft', NULL, 4970.0, 135.0, 'vip', '2025-07-22 00:00:00', '2025-12-09 00:00:00', 'all_users', 'scheduler, test, izzi', 'ES', 'RUB', 1, 1, '2025-08-12 20:23:18.143751', '2025-08-12 20:23:18.143751', 'IZZI', 'test_scheduler_6') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (29, 'interval_based', '0 15 * * *', '2025-08-13 20:23:18.149381', NULL, 0, 821, '2025-08-12 20:23:18.149447', '2025-08-12 20:23:18.149447') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 29 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT7' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 7 - Deposit', 'TESTDEPOSIT7', 'deposit', 'active', NULL, 276.0, 1190.0, 'vip', '2025-07-31 00:00:00', '2025-10-30 00:00:00', 'new_users', 'deposit, test, legzo', 'US', 'USD', 1, 1, '2025-08-12 20:23:18.154101', '2025-08-12 20:23:18.154101', 'LEGZO', 'test_deposit_7') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (30, 172.0, 143.0, 798.0, 0, 0, '2025-08-12 20:23:18.156143', '2025-08-12 20:23:18.156143') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 30 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (2.5ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 8 - Input coupon', 'TESTINPUT_COUPON8', 'input_coupon', 'inactive', NULL, 1105.0, 468.0, 'weekend', '2025-07-19 00:00:00', '2025-10-11 00:00:00', 'all_users', 'input_coupon, test, starda', 'RU', 'EUR', 1, 1, '2025-08-12 20:23:18.160764', '2025-08-12 20:23:18.160764', 'STARDA', 'test_input_coupon_8') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON8' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (31, 'COUPON8', 732, 0, '2026-02-13 00:00:00', 1, '2025-08-12 20:23:18.167241', '2025-08-12 20:23:18.167241') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 31 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL9' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 9 - Manual', 'TESTMANUAL9', 'manual', 'draft', NULL, 1941.0, 1918.0, 'vip', '2025-07-24 00:00:00', '2025-12-12 00:00:00', 'new_users', 'manual, test, drip', 'DE', 'RUB', 1, 1, '2025-08-12 20:23:18.171219', '2025-08-12 20:23:18.171219', 'DRIP', 'test_manual_9') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Create (1.9ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (32, 'Test manual bonus 9', 1, 0, 'Test conditions for bonus 9', '2025-08-12 20:23:18.174993', '2025-08-12 20:23:18.174993') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 32 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTCOLLECTION10' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 10 - Collection', 'TESTCOLLECTION10', 'collection', 'active', NULL, 3570.0, 1345.0, 'weekend', '2025-08-01 00:00:00', '2025-12-14 00:00:00', 'all_users', 'collection, test, monro', 'FR', 'USD', 1, 1, '2025-08-12 20:23:18.181213', '2025-08-12 20:23:18.181213', 'MONRO', 'test_collection_10') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (33, 'fixed_amount', 85.0, 'once', 40, 0, '2025-08-12 20:23:18.183750', '2025-08-12 20:23:18.183750') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 33 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTGROUPS_UPDATE11' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 11 - Groups update', 'TESTGROUPS_UPDATE11', 'groups_update', 'inactive', NULL, 3711.0, 1558.0, 'first_deposit', '2025-07-16 00:00:00', '2025-10-11 00:00:00', 'all_users', 'groups_update, test, 1go', 'IT', 'EUR', 1, 1, '2025-08-12 20:23:18.190426', '2025-08-12 20:23:18.190426', '1GO', 'test_groups_update_11') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (19.1ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (34, '["group_11", "group_12"]', 'add_bonus', '{"param_11": "value_11"}', 798, 'pending', '2025-08-12 20:23:18.193107', '2025-08-12 20:23:18.193107') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 34 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTSCHEDULER12' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 12 - Scheduler', 'TESTSCHEDULER12', 'scheduler', 'draft', NULL, 4131.0, 763.0, 'first_deposit', '2025-07-20 00:00:00', '2025-11-02 00:00:00', 'all_users', 'scheduler, test, lex', 'ES', 'RUB', 1, 1, '2025-08-12 20:23:18.218229', '2025-08-12 20:23:18.218229', 'LEX', 'test_scheduler_12') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (35, 'recurring', '0 19 * * *', '2025-08-13 20:23:18.220610', NULL, 0, 700, '2025-08-12 20:23:18.220692', '2025-08-12 20:23:18.220692') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 35 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT13' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 13 - Deposit', 'TESTDEPOSIT13', 'deposit', 'active', NULL, 3770.0, 1801.0, 'standard', '2025-07-15 00:00:00', '2025-11-20 00:00:00', 'vip_users', 'deposit, test, gizbo', 'US', 'USD', 1, 1, '2025-08-12 20:23:18.227798', '2025-08-12 20:23:18.227798', 'GIZBO', 'test_deposit_13') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (2.1ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (36, 42.0, 200.0, 852.0, 1, 0, '2025-08-12 20:23:18.231120', '2025-08-12 20:23:18.231120') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 36 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON14' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 14 - Input coupon', 'TESTINPUT_COUPON14', 'input_coupon', 'inactive', NULL, 4703.0, 460.0, 'standard', '2025-08-09 00:00:00', '2025-10-15 00:00:00', 'existing_users', 'input_coupon, test, irwin', 'RU', 'EUR', 1, 1, '2025-08-12 20:23:18.239116', '2025-08-12 20:23:18.239116', 'IRWIN', 'test_input_coupon_14') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON14' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (37, 'COUPON14', 182, 0, '2026-08-06 00:00:00', 0, '2025-08-12 20:23:18.244554', '2025-08-12 20:23:18.244554') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 37 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL15' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 15 - Manual', 'TESTMANUAL15', 'manual', 'draft', NULL, 283.0, 825.0, 'first_deposit', '2025-07-29 00:00:00', '2025-11-28 00:00:00', 'new_users', 'manual, test, flagman', 'DE', 'RUB', 1, 1, '2025-08-12 20:23:18.249386', '2025-08-12 20:23:18.249386', 'FLAGMAN', 'test_manual_15') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (38, 'Test manual bonus 15', 0, 0, 'Test conditions for bonus 15', '2025-08-12 20:23:18.251115', '2025-08-12 20:23:18.251115') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 38 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTCOLLECTION16' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 16 - Collection', 'TESTCOLLECTION16', 'collection', 'active', NULL, 1572.0, 721.0, 'standard', '2025-07-16 00:00:00', '2025-12-28 00:00:00', 'vip_users', 'collection, test, martin', 'FR', 'USD', 1, 1, '2025-08-12 20:23:18.256857', '2025-08-12 20:23:18.256857', 'MARTIN', 'test_collection_16') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (39, 'daily', 88.0, 'once', 45, 0, '2025-08-12 20:23:18.259084', '2025-08-12 20:23:18.259084') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 39 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTGROUPS_UPDATE17' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 17 - Groups update', 'TESTGROUPS_UPDATE17', 'groups_update', 'inactive', NULL, 3692.0, 1861.0, 'standard', '2025-07-26 00:00:00', '2025-11-25 00:00:00', 'all_users', 'groups_update, test, p17', 'IT', 'EUR', 1, 1, '2025-08-12 20:23:18.264478', '2025-08-12 20:23:18.264478', 'P17', 'test_groups_update_17') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (40, '["group_17", "group_18"]', 'add_bonus', '{"param_17": "value_17"}', 826, 'pending', '2025-08-12 20:23:18.266779', '2025-08-12 20:23:18.266779') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 40 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTSCHEDULER18' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 18 - Scheduler', 'TESTSCHEDULER18', 'scheduler', 'draft', NULL, 2023.0, 1462.0, 'standard', '2025-07-21 00:00:00', '2026-01-16 00:00:00', 'all_users', 'scheduler, test, anjuan', 'ES', 'RUB', 1, 1, '2025-08-12 20:23:18.271985', '2025-08-12 20:23:18.271985', 'ANJUAN', 'test_scheduler_18') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Create (1.1ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (41, 'one_time', '0 10 * * *', '2025-08-13 20:23:18.273308', NULL, 0, 311, '2025-08-12 20:23:18.274050', '2025-08-12 20:23:18.274050') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 41 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT19' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 19 - Deposit', 'TESTDEPOSIT19', 'deposit', 'active', NULL, 1272.0, 1685.0, 'vip', '2025-07-27 00:00:00', '2025-11-15 00:00:00', 'new_users', 'deposit, test, namaste', 'US', 'USD', 1, 1, '2025-08-12 20:23:18.280913', '2025-08-12 20:23:18.280913', 'NAMASTE', 'test_deposit_19') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (42, 11.0, 37.0, 751.0, 0, 0, '2025-08-12 20:23:18.283098', '2025-08-12 20:23:18.283098') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 42 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON20' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 20 - Input coupon', 'TESTINPUT_COUPON20', 'input_coupon', 'inactive', NULL, 2034.0, 1501.0, 'vip', '2025-07-18 00:00:00', '2025-12-14 00:00:00', 'vip_users', 'input_coupon, test, volna', 'RU', 'EUR', 1, 1, '2025-08-12 20:23:18.287812', '2025-08-12 20:23:18.287812', 'VOLNA', 'test_input_coupon_20') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON20' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (43, 'COUPON20', 459, 0, '2025-11-21 00:00:00', 1, '2025-08-12 20:23:18.292126', '2025-08-12 20:23:18.292126') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 43 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL21' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 21 - Manual', 'TESTMANUAL21', 'manual', 'draft', NULL, 1581.0, 1228.0, 'weekend', '2025-08-09 00:00:00', '2025-12-25 00:00:00', 'all_users', 'manual, test, rox', 'DE', 'RUB', 1, 1, '2025-08-12 20:23:18.295815', '2025-08-12 20:23:18.295815', 'ROX', 'test_manual_21') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (44, 'Test manual bonus 21', 0, 1, 'Test conditions for bonus 21', '2025-08-12 20:23:18.298196', '2025-08-12 20:23:18.298196') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 44 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTCOLLECTION22' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 22 - Collection', 'TESTCOLLECTION22', 'collection', 'active', NULL, 2427.0, 1823.0, 'first_deposit', '2025-07-22 00:00:00', '2026-02-07 00:00:00', 'all_users', 'collection, test, fresh', 'FR', 'USD', 1, 1, '2025-08-12 20:23:18.302563', '2025-08-12 20:23:18.302563', 'FRESH', 'test_collection_22') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Create (1.8ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (45, 'daily', 76.0, 'weekly', 18, 0, '2025-08-12 20:23:18.304427', '2025-08-12 20:23:18.304427') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 45 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTGROUPS_UPDATE23' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 23 - Groups update', 'TESTGROUPS_UPDATE23', 'groups_update', 'inactive', NULL, 3491.0, 1536.0, 'standard', '2025-07-18 00:00:00', '2025-11-02 00:00:00', 'existing_users', 'groups_update, test, sol', 'IT', 'EUR', 1, 1, '2025-08-12 20:23:18.310048', '2025-08-12 20:23:18.310048', 'SOL', 'test_groups_update_23') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (46, '["group_23", "group_24"]', 'remove_bonus', '{"param_23": "value_23"}', 520, 'pending', '2025-08-12 20:23:18.311760', '2025-08-12 20:23:18.311760') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 46 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTSCHEDULER24' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 24 - Scheduler', 'TESTSCHEDULER24', 'scheduler', 'draft', NULL, 4617.0, 125.0, 'first_deposit', '2025-07-17 00:00:00', '2025-12-01 00:00:00', 'vip_users', 'scheduler, test, jet', 'ES', 'RUB', 1, 1, '2025-08-12 20:23:18.315830', '2025-08-12 20:23:18.315830', 'JET', 'test_scheduler_24') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (47, 'recurring', '0 17 * * *', '2025-08-13 20:23:18.317581', NULL, 0, 654, '2025-08-12 20:23:18.317627', '2025-08-12 20:23:18.317627') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 47 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT25' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 25 - Deposit', 'TESTDEPOSIT25', 'deposit', 'active', NULL, 4458.0, 155.0, 'weekend', '2025-07-18 00:00:00', '2026-01-07 00:00:00', 'new_users', 'deposit, test, izzi', 'US', 'USD', 1, 1, '2025-08-12 20:23:18.321705', '2025-08-12 20:23:18.321705', 'IZZI', 'test_deposit_25') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (48, 103.0, 75.0, 880.0, 0, 1, '2025-08-12 20:23:18.323403', '2025-08-12 20:23:18.323403') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 48 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON26' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 26 - Input coupon', 'TESTINPUT_COUPON26', 'input_coupon', 'inactive', NULL, 4959.0, 293.0, 'standard', '2025-08-01 00:00:00', '2026-02-06 00:00:00', 'vip_users', 'input_coupon, test, legzo', 'RU', 'EUR', 1, 1, '2025-08-12 20:23:18.327623', '2025-08-12 20:23:18.327623', 'LEGZO', 'test_input_coupon_26') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON26' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (49, 'COUPON26', 808, 0, '2025-12-14 00:00:00', 0, '2025-08-12 20:23:18.330794', '2025-08-12 20:23:18.330794') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 49 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL27' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 27 - Manual', 'TESTMANUAL27', 'manual', 'draft', NULL, 4626.0, 1169.0, 'first_deposit', '2025-07-26 00:00:00', '2026-02-08 00:00:00', 'vip_users', 'manual, test, starda', 'DE', 'RUB', 1, 1, '2025-08-12 20:23:18.334809', '2025-08-12 20:23:18.334809', 'STARDA', 'test_manual_27') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (50, 'Test manual bonus 27', 0, 0, 'Test conditions for bonus 27', '2025-08-12 20:23:18.336489', '2025-08-12 20:23:18.336489') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 50 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTCOLLECTION28' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 28 - Collection', 'TESTCOLLECTION28', 'collection', 'active', NULL, 830.0, 1380.0, 'vip', '2025-08-01 00:00:00', '2025-11-24 00:00:00', 'new_users', 'collection, test, drip', 'FR', 'USD', 1, 1, '2025-08-12 20:23:18.340909', '2025-08-12 20:23:18.340909', 'DRIP', 'test_collection_28') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (51, 'weekly', 62.0, 'once', 16, 0, '2025-08-12 20:23:18.342824', '2025-08-12 20:23:18.342824') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 51 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTGROUPS_UPDATE29' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 29 - Groups update', 'TESTGROUPS_UPDATE29', 'groups_update', 'inactive', NULL, 3930.0, 877.0, 'weekend', '2025-07-16 00:00:00', '2025-12-17 00:00:00', 'vip_users', 'groups_update, test, monro', 'IT', 'EUR', 1, 1, '2025-08-12 20:23:18.347455', '2025-08-12 20:23:18.347455', 'MONRO', 'test_groups_update_29') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (12.4ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (52, '["group_29", "group_30"]', 'remove_bonus', '{"param_29": "value_29"}', 923, 'pending', '2025-08-12 20:23:18.349586', '2025-08-12 20:23:18.349586') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 52 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTSCHEDULER30' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 30 - Scheduler', 'TESTSCHEDULER30', 'scheduler', 'draft', NULL, 522.0, 1119.0, 'weekend', '2025-08-12 00:00:00', '2025-11-18 00:00:00', 'vip_users', 'scheduler, test, 1go', 'ES', 'RUB', 1, 1, '2025-08-12 20:23:18.367319', '2025-08-12 20:23:18.367319', '1GO', 'test_scheduler_30') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (53, 'cron_based', '0 21 * * *', '2025-08-12 21:23:18.369762', NULL, 0, 671, '2025-08-12 20:23:18.369789', '2025-08-12 20:23:18.369789') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 53 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT31' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 31 - Deposit', 'TESTDEPOSIT31', 'deposit', 'active', NULL, 1991.0, 905.0, 'weekend', '2025-08-10 00:00:00', '2025-11-17 00:00:00', 'vip_users', 'deposit, test, lex', 'US', 'USD', 1, 1, '2025-08-12 20:23:18.375424', '2025-08-12 20:23:18.375424', 'LEX', 'test_deposit_31') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (54, 52.0, 151.0, 509.0, 0, 1, '2025-08-12 20:23:18.377176', '2025-08-12 20:23:18.377176') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 54 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON32' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 32 - Input coupon', 'TESTINPUT_COUPON32', 'input_coupon', 'inactive', NULL, 4417.0, 449.0, 'weekend', '2025-08-06 00:00:00', '2025-12-06 00:00:00', 'vip_users', 'input_coupon, test, gizbo', 'RU', 'EUR', 1, 1, '2025-08-12 20:23:18.382468', '2025-08-12 20:23:18.382468', 'GIZBO', 'test_input_coupon_32') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON32' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (55, 'COUPON32', 617, 0, '2025-11-20 00:00:00', 0, '2025-08-12 20:23:18.385390', '2025-08-12 20:23:18.385390') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 55 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL33' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 33 - Manual', 'TESTMANUAL33', 'manual', 'draft', NULL, 3434.0, 1260.0, 'weekend', '2025-08-09 00:00:00', '2025-11-26 00:00:00', 'vip_users', 'manual, test, irwin', 'DE', 'RUB', 1, 1, '2025-08-12 20:23:18.390714', '2025-08-12 20:23:18.390714', 'IRWIN', 'test_manual_33') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (56, 'Test manual bonus 33', 0, 1, 'Test conditions for bonus 33', '2025-08-12 20:23:18.392527', '2025-08-12 20:23:18.392527') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 56 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTCOLLECTION34' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 34 - Collection', 'TESTCOLLECTION34', 'collection', 'active', NULL, 3672.0, 1693.0, 'vip', '2025-08-11 00:00:00', '2025-12-06 00:00:00', 'new_users', 'collection, test, flagman', 'FR', 'USD', 1, 1, '2025-08-12 20:23:18.397541', '2025-08-12 20:23:18.397541', 'FLAGMAN', 'test_collection_34') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (57, 'daily', 93.0, 'weekly', 20, 0, '2025-08-12 20:23:18.399237', '2025-08-12 20:23:18.399237') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 57 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTGROUPS_UPDATE35' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 35 - Groups update', 'TESTGROUPS_UPDATE35', 'groups_update', 'inactive', NULL, 3982.0, 191.0, 'weekend', '2025-07-25 00:00:00', '2025-11-11 00:00:00', 'vip_users', 'groups_update, test, martin', 'IT', 'EUR', 1, 1, '2025-08-12 20:23:18.404355', '2025-08-12 20:23:18.404355', 'MARTIN', 'test_groups_update_35') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (58, '["group_35", "group_36"]', 'add_bonus', '{"param_35": "value_35"}', 219, 'pending', '2025-08-12 20:23:18.406319', '2025-08-12 20:23:18.406319') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 58 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTSCHEDULER36' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.5ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 36 - Scheduler', 'TESTSCHEDULER36', 'scheduler', 'draft', NULL, 4713.0, 465.0, 'weekend', '2025-07-26 00:00:00', '2025-11-10 00:00:00', 'existing_users', 'scheduler, test, p17', 'ES', 'RUB', 1, 1, '2025-08-12 20:23:18.411050', '2025-08-12 20:23:18.411050', 'P17', 'test_scheduler_36') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.8ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (59, 'recurring', '0 12 * * *', '2025-08-13 20:23:18.415392', NULL, 0, 991, '2025-08-12 20:23:18.415453', '2025-08-12 20:23:18.415453') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 59 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT37' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 37 - Deposit', 'TESTDEPOSIT37', 'deposit', 'active', NULL, 4075.0, 837.0, 'weekend', '2025-07-18 00:00:00', '2025-12-20 00:00:00', 'existing_users', 'deposit, test, anjuan', 'US', 'USD', 1, 1, '2025-08-12 20:23:18.420202', '2025-08-12 20:23:18.420202', 'ANJUAN', 'test_deposit_37') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (60, 180.0, 44.0, 750.0, 0, 1, '2025-08-12 20:23:18.422101', '2025-08-12 20:23:18.422101') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 60 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON38' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 38 - Input coupon', 'TESTINPUT_COUPON38', 'input_coupon', 'inactive', NULL, 3588.0, 1590.0, 'first_deposit', '2025-07-15 00:00:00', '2025-10-11 00:00:00', 'all_users', 'input_coupon, test, namaste', 'RU', 'EUR', 1, 1, '2025-08-12 20:23:18.427734', '2025-08-12 20:23:18.427734', 'NAMASTE', 'test_input_coupon_38') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON38' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (61, 'COUPON38', 787, 0, '2026-04-29 00:00:00', 1, '2025-08-12 20:23:18.431268', '2025-08-12 20:23:18.431268') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.7ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 61 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL39' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 39 - Manual', 'TESTMANUAL39', 'manual', 'draft', NULL, 4206.0, 1343.0, 'standard', '2025-08-08 00:00:00', '2025-10-24 00:00:00', 'existing_users', 'manual, test, volna', 'DE', 'RUB', 1, 1, '2025-08-12 20:23:18.436203', '2025-08-12 20:23:18.436203', 'VOLNA', 'test_manual_39') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (62, 'Test manual bonus 39', 1, 0, 'Test conditions for bonus 39', '2025-08-12 20:23:18.437967', '2025-08-12 20:23:18.437967') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 62 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTCOLLECTION40' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 40 - Collection', 'TESTCOLLECTION40', 'collection', 'active', NULL, 2177.0, 325.0, 'vip', '2025-07-28 00:00:00', '2025-12-11 00:00:00', 'all_users', 'collection, test, rox', 'FR', 'USD', 1, 1, '2025-08-12 20:23:18.445150', '2025-08-12 20:23:18.445150', 'ROX', 'test_collection_40') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (63, 'percentage', 6.0, 'monthly', 27, 0, '2025-08-12 20:23:18.447146', '2025-08-12 20:23:18.447146') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 63 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTGROUPS_UPDATE41' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 41 - Groups update', 'TESTGROUPS_UPDATE41', 'groups_update', 'inactive', NULL, 4903.0, 441.0, 'standard', '2025-08-11 00:00:00', '2026-01-03 00:00:00', 'all_users', 'groups_update, test, fresh', 'IT', 'EUR', 1, 1, '2025-08-12 20:23:18.454922', '2025-08-12 20:23:18.454922', 'FRESH', 'test_groups_update_41') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (64, '["group_41", "group_42"]', 'add_bonus', '{"param_41": "value_41"}', 727, 'pending', '2025-08-12 20:23:18.456864', '2025-08-12 20:23:18.456864') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.5ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 64 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTSCHEDULER42' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 42 - Scheduler', 'TESTSCHEDULER42', 'scheduler', 'draft', NULL, 4967.0, 674.0, 'weekend', '2025-07-14 00:00:00', '2025-10-21 00:00:00', 'all_users', 'scheduler, test, sol', 'ES', 'RUB', 1, 1, '2025-08-12 20:23:18.461438', '2025-08-12 20:23:18.461438', 'SOL', 'test_scheduler_42') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (65, 'interval_based', '0 9 * * *', '2025-08-13 20:23:18.463289', NULL, 0, 708, '2025-08-12 20:23:18.463335', '2025-08-12 20:23:18.463335') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 65 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT43' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 43 - Deposit', 'TESTDEPOSIT43', 'deposit', 'active', NULL, 1711.0, 684.0, 'weekend', '2025-07-30 00:00:00', '2025-12-06 00:00:00', 'vip_users', 'deposit, test, jet', 'US', 'USD', 1, 1, '2025-08-12 20:23:18.467758', '2025-08-12 20:23:18.467758', 'JET', 'test_deposit_43') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (66, 116.0, 198.0, 342.0, 1, 1, '2025-08-12 20:23:18.469714', '2025-08-12 20:23:18.469714') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 66 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON44' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 44 - Input coupon', 'TESTINPUT_COUPON44', 'input_coupon', 'inactive', NULL, 3321.0, 1236.0, 'first_deposit', '2025-08-07 00:00:00', '2025-12-28 00:00:00', 'all_users', 'input_coupon, test, izzi', 'RU', 'EUR', 1, 1, '2025-08-12 20:23:18.473734', '2025-08-12 20:23:18.473734', 'IZZI', 'test_input_coupon_44') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON44' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.4ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (67, 'COUPON44', 196, 0, '2026-03-07 00:00:00', 1, '2025-08-12 20:23:18.476924', '2025-08-12 20:23:18.476924') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 67 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL45' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 45 - Manual', 'TESTMANUAL45', 'manual', 'draft', NULL, 1997.0, 531.0, 'vip', '2025-07-28 00:00:00', '2025-11-21 00:00:00', 'vip_users', 'manual, test, legzo', 'DE', 'RUB', 1, 1, '2025-08-12 20:23:18.481385', '2025-08-12 20:23:18.481385', 'LEGZO', 'test_manual_45') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Create (0.9ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (68, 'Test manual bonus 45', 1, 0, 'Test conditions for bonus 45', '2025-08-12 20:23:18.483537', '2025-08-12 20:23:18.483537') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 68 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTCOLLECTION46' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 46 - Collection', 'TESTCOLLECTION46', 'collection', 'active', NULL, 2405.0, 1404.0, 'standard', '2025-08-05 00:00:00', '2026-01-16 00:00:00', 'existing_users', 'collection, test, starda', 'FR', 'USD', 1, 1, '2025-08-12 20:23:18.488165', '2025-08-12 20:23:18.488165', 'STARDA', 'test_collection_46') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (69, 'monthly', 66.0, 'once', 49, 0, '2025-08-12 20:23:18.489973', '2025-08-12 20:23:18.489973') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 69 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTGROUPS_UPDATE47' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 47 - Groups update', 'TESTGROUPS_UPDATE47', 'groups_update', 'inactive', NULL, 4948.0, 1430.0, 'first_deposit', '2025-07-14 00:00:00', '2025-11-13 00:00:00', 'vip_users', 'groups_update, test, drip', 'IT', 'EUR', 1, 1, '2025-08-12 20:23:18.494154', '2025-08-12 20:23:18.494154', 'DRIP', 'test_groups_update_47') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("bonus_id", "target_groups", "update_type", "update_parameters", "batch_size", "processing_status", "created_at", "updated_at") VALUES (70, '["group_47", "group_48"]', 'bulk_apply', '{"param_47": "value_47"}', 926, 'pending', '2025-08-12 20:23:18.495840', '2025-08-12 20:23:18.495840') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" = 70 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:247:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTSCHEDULER48' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 48 - Scheduler', 'TESTSCHEDULER48', 'scheduler', 'draft', NULL, 261.0, 1803.0, 'standard', '2025-07-17 00:00:00', '2025-10-16 00:00:00', 'all_users', 'scheduler, test, monro', 'ES', 'RUB', 1, 1, '2025-08-12 20:23:18.507809', '2025-08-12 20:23:18.507809', 'MONRO', 'test_scheduler_48') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("bonus_id", "schedule_type", "cron_expression", "next_run_at", "last_run_at", "execution_count", "max_executions", "created_at", "updated_at") VALUES (71, 'one_time', '0 18 * * *', '2025-08-16 20:23:18.509193', NULL, 0, 793, '2025-08-12 20:23:18.509751', '2025-08-12 20:23:18.509751') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" = 71 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:254:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTDEPOSIT49' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 49 - Deposit', 'TESTDEPOSIT49', 'deposit', 'active', NULL, 3077.0, 894.0, 'vip', '2025-07-23 00:00:00', '2025-12-10 00:00:00', 'all_users', 'deposit, test, 1go', 'US', 'USD', 1, 1, '2025-08-12 20:23:18.515542', '2025-08-12 20:23:18.515542', '1GO', 'test_deposit_49') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("bonus_id", "deposit_amount_required", "bonus_percentage", "max_bonus_amount", "first_deposit_only", "recurring_eligible", "created_at", "updated_at") VALUES (72, 18.0, 46.0, 891.0, 0, 0, '2025-08-12 20:23:18.517333', '2025-08-12 20:23:18.517333') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" = 72 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:215:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTINPUT_COUPON50' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 50 - Input coupon', 'TESTINPUT_COUPON50', 'input_coupon', 'inactive', NULL, 2267.0, 1641.0, 'vip', '2025-07-28 00:00:00', '2026-02-01 00:00:00', 'existing_users', 'input_coupon, test, lex', 'RU', 'EUR', 1, 1, '2025-08-12 20:23:18.523215', '2025-08-12 20:23:18.523215', 'LEX', 'test_input_coupon_50') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."coupon_code" = 'COUPON50' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("bonus_id", "coupon_code", "usage_limit", "usage_count", "expires_at", "single_use", "created_at", "updated_at") VALUES (73, 'COUPON50', 263, 0, '2026-05-05 00:00:00', 0, '2025-08-12 20:23:18.526453', '2025-08-12 20:23:18.526453') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" = 73 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:223:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTMANUAL51' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 51 - Manual', 'TESTMANUAL51', 'manual', 'draft', NULL, 3496.0, 1173.0, 'standard', '2025-07-18 00:00:00', '2025-11-12 00:00:00', 'existing_users', 'manual, test, gizbo', 'DE', 'RUB', 1, 1, '2025-08-12 20:23:18.531778', '2025-08-12 20:23:18.531778', 'GIZBO', 'test_manual_51') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Create (0.6ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("bonus_id", "admin_notes", "approval_required", "auto_apply", "conditions", "created_at", "updated_at") VALUES (74, 'Test manual bonus 51', 0, 0, 'Test conditions for bonus 51', '2025-08-12 20:23:18.533490', '2025-08-12 20:23:18.533490') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" = 74 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:233:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TESTCOLLECTION52' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mBonus Create (0.1ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "bonus_type", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag") VALUES ('Test Bonus 52 - Collection', 'TESTCOLLECTION52', 'collection', 'active', NULL, 1149.0, 1486.0, 'standard', '2025-08-05 00:00:00', '2025-10-30 00:00:00', 'new_users', 'collection, test, irwin', 'FR', 'USD', 1, 1, '2025-08-12 20:23:18.538907', '2025-08-12 20:23:18.538907', 'IRWIN', 'test_collection_52') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:210:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Create (0.7ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("bonus_id", "collection_type", "collection_amount", "collection_frequency", "collection_limit", "collected_count", "created_at", "updated_at") VALUES (75, 'monthly', 98.0, 'daily', 18, 0, '2025-08-12 20:23:18.541083', '2025-08-12 20:23:18.541083') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 75 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:240:in 'block (3 levels) in <main>'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_bonuses.rake:273:in 'block (2 levels) in <main>'
Started GET "/bonuses" for ::1 at 2025-08-12 23:23:26 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 50 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (1.3ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 95.2ms | GC: 2.1ms)
  Rendered layout layouts/application.html.erb (Duration: 98.0ms | GC: 2.1ms)
Completed 200 OK in 122ms (Views: 96.2ms | ActiveRecord: 3.8ms (9 queries, 0 cached) | GC: 3.1ms)


Started GET "/bonuses?page=2" for ::1 at 2025-08-12 23:23:31 +0300
Processing by BonusesController#index as HTML
  Parameters: {"page" => "2"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 50 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 50 OFFSET 50 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (25, 24, 5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (25, 24, 5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (25, 24, 5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (25, 24, 5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (25, 24, 5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (25, 24, 5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
[31mUnpermitted parameter: :page. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x00007ededce4cc78>, params: {"page" => "2", "controller" => "bonuses", "action" => "index"} }[0m
  Rendered bonuses/index.html.erb within layouts/application (Duration: 26.9ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | GC: 1.2ms)
Completed 200 OK in 53ms (Views: 27.8ms | ActiveRecord: 1.1ms (9 queries, 0 cached) | GC: 6.9ms)


Started GET "/bonuses?type=deposit&status=&search=&project=&dsl_tag=&commit=Filter" for ::1 at 2025-08-12 23:23:40 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "deposit", "status" => "", "search" => "", "project" => "", "dsl_tag" => "", "commit" => "Filter"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."bonus_type" = 'deposit' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."bonus_type" = 'deposit' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."bonus_type" = 'deposit' ORDER BY "bonuses"."id" DESC LIMIT 50 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (2.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (72, 66, 60, 54, 48, 42, 36, 30, 24, 5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (72, 66, 60, 54, 48, 42, 36, 30, 24, 5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (72, 66, 60, 54, 48, 42, 36, 30, 24, 5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (72, 66, 60, 54, 48, 42, 36, 30, 24, 5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (72, 66, 60, 54, 48, 42, 36, 30, 24, 5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (72, 66, 60, 54, 48, 42, 36, 30, 24, 5, 4, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 24.0ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | GC: 1.3ms)
Completed 200 OK in 39ms (Views: 22.8ms | ActiveRecord: 3.0ms (9 queries, 0 cached) | GC: 1.3ms)


Started GET "/" for ::1 at 2025-08-12 23:23:48 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 50 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 30.4ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 31.9ms | GC: 1.5ms)
Completed 200 OK in 50ms (Views: 31.2ms | ActiveRecord: 1.3ms (9 queries, 0 cached) | GC: 1.5ms)


Started GET "/" for ::1 at 2025-08-12 23:24:03 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.5ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 61.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 63.6ms | GC: 0.0ms)
Completed 200 OK in 92ms (Views: 62.8ms | ActiveRecord: 7.3ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 23:25:46 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.4ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.8ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (1.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 124.6ms | GC: 16.5ms)
  Rendered layout layouts/application.html.erb (Duration: 130.5ms | GC: 17.0ms)
Completed 200 OK in 158ms (Views: 125.8ms | ActiveRecord: 9.0ms (9 queries, 0 cached) | GC: 17.0ms)


Started GET "/bonuses?page=2" for ::1 at 2025-08-12 23:25:48 +0300
Processing by BonusesController#index as HTML
  Parameters: {"page" => "2"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 25 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 25 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (1.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (1.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.9ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
[31mUnpermitted parameter: :page. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x00007ededaa82590>, params: {"page" => "2", "controller" => "bonuses", "action" => "index"} }[0m
[31mUnpermitted parameter: :page. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x00007ededaa82590>, params: {"page" => "2", "controller" => "bonuses", "action" => "index"} }[0m
  Rendered bonuses/index.html.erb within layouts/application (Duration: 37.8ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 39.2ms | GC: 0.5ms)
Completed 200 OK in 61ms (Views: 35.5ms | ActiveRecord: 4.7ms (9 queries, 0 cached) | GC: 0.6ms)


Started GET "/" for ::1 at 2025-08-12 23:25:58 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 87.4ms | GC: 8.6ms)
  Rendered layout layouts/application.html.erb (Duration: 90.7ms | GC: 9.1ms)
Completed 200 OK in 116ms (Views: 86.9ms | ActiveRecord: 7.0ms (9 queries, 0 cached) | GC: 9.1ms)


Started GET "/bonuses?page=2" for ::1 at 2025-08-12 23:26:06 +0300
Processing by BonusesController#index as HTML
  Parameters: {"page" => "2"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 25 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 25 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.6ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
[31mUnpermitted parameter: :page. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x00007ededaf68168>, params: {"page" => "2", "controller" => "bonuses", "action" => "index"} }[0m
[31mUnpermitted parameter: :page. Context: { controller: BonusesController, action: index, request: #<ActionDispatch::Request:0x00007ededaf68168>, params: {"page" => "2", "controller" => "bonuses", "action" => "index"} }[0m
  Rendered bonuses/index.html.erb within layouts/application (Duration: 25.4ms | GC: 1.9ms)
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | GC: 1.9ms)
Completed 200 OK in 40ms (Views: 25.6ms | ActiveRecord: 2.1ms (9 queries, 0 cached) | GC: 1.9ms)


Started GET "/" for ::1 at 2025-08-12 23:26:31 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (1.6ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (1.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 115.4ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 120.2ms | GC: 1.3ms)
Completed 200 OK in 151ms (Views: 113.0ms | ActiveRecord: 11.7ms (9 queries, 0 cached) | GC: 1.8ms)


Started GET "/" for ::1 at 2025-08-12 23:27:33 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (1.0ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 108.2ms | GC: 5.3ms)
  Rendered layout layouts/application.html.erb (Duration: 111.8ms | GC: 5.6ms)
Completed 200 OK in 146ms (Views: 107.7ms | ActiveRecord: 9.1ms (9 queries, 0 cached) | GC: 7.2ms)


Started GET "/bonuses/75" for ::1 at 2025-08-12 23:27:36 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:164:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mCollectBonus Load (2.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 75 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:127
  Rendered bonuses/_type_specific_details.html.erb (Duration: 8.7ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 14.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | GC: 0.6ms)
Completed 200 OK in 27ms (Views: 14.1ms | ActiveRecord: 2.3ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses/75" for ::1 at 2025-08-12 23:27:40 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:164:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" = 75 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_details.html.erb:127
  Rendered bonuses/_type_specific_details.html.erb (Duration: 1.9ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 4.1ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-08-12 23:28:11 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 4.6ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:28:12 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 21.9ms | ActiveRecord: 1.5ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-08-12 23:28:13 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.5ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 4.2ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:28:13 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 20.9ms | ActiveRecord: 1.1ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-08-12 23:28:14 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.2ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 8.9ms | GC: 6.5ms)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | GC: 7.2ms)
Completed 200 OK in 25ms (Views: 11.2ms | ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 7.2ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:28:14 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.7ms | GC: 2.5ms)
  Rendered layout layouts/application.html.erb (Duration: 22.7ms | GC: 2.5ms)
Completed 200 OK in 35ms (Views: 22.2ms | ActiveRecord: 1.2ms (9 queries, 0 cached) | GC: 2.5ms)


Started GET "/heatmap" for ::1 at 2025-08-12 23:28:14 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.5ms)
Completed 200 OK in 20ms (Views: 5.4ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/" for ::1 at 2025-08-12 23:29:21 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.6ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 35.7ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 40.0ms | GC: 1.5ms)
Completed 200 OK in 68ms (Views: 38.8ms | ActiveRecord: 1.9ms (9 queries, 0 cached) | GC: 3.0ms)


Started GET "/assets/app-a4c1864b.css" for ::1 at 2025-08-12 23:29:21 +0300
Started GET "/" for ::1 at 2025-08-12 23:29:26 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (1.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 24.5ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | GC: 1.1ms)
Completed 200 OK in 48ms (Views: 28.1ms | ActiveRecord: 2.8ms (9 queries, 0 cached) | GC: 1.1ms)


Started GET "/assets/app-a4c1864b.css" for ::1 at 2025-08-12 23:29:26 +0300
Started GET "/heatmap" for ::1 at 2025-08-12 23:29:28 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 4.8ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.1ms)
Completed 200 OK in 23ms (Views: 7.4ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)


Started GET "/heatmap" for ::1 at 2025-08-12 23:29:28 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 5.3ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-08-12 23:29:29 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 6.3ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 23:29:34 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.3ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 40.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 45.1ms | GC: 0.0ms)
Completed 200 OK in 66ms (Views: 44.4ms | ActiveRecord: 1.5ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 23:29:38 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 44.7ms | GC: 7.3ms)
  Rendered layout layouts/application.html.erb (Duration: 47.2ms | GC: 7.3ms)
Completed 200 OK in 64ms (Views: 46.5ms | ActiveRecord: 1.5ms (9 queries, 0 cached) | GC: 7.3ms)


Started GET "/" for ::1 at 2025-08-12 23:29:39 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.4ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 33.7ms | GC: 2.0ms)
  Rendered layout layouts/application.html.erb (Duration: 34.5ms | GC: 2.0ms)
Completed 200 OK in 49ms (Views: 34.1ms | ActiveRecord: 1.5ms (9 queries, 0 cached) | GC: 2.7ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:29:41 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.6ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.6ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.7ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 38.8ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 40.5ms | GC: 1.2ms)
Completed 200 OK in 63ms (Views: 44.1ms | ActiveRecord: 2.9ms (9 queries, 0 cached) | GC: 1.2ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:29:45 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.6ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 35.0ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 36.4ms | GC: 1.1ms)
Completed 200 OK in 58ms (Views: 35.5ms | ActiveRecord: 2.3ms (9 queries, 0 cached) | GC: 1.4ms)


Started GET "/heatmap" for ::1 at 2025-08-12 23:29:46 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.3ms)
Completed 200 OK in 22ms (Views: 3.4ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.3ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:29:47 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (2.5ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.0ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | GC: 0.4ms)
Completed 200 OK in 38ms (Views: 21.9ms | ActiveRecord: 3.5ms (9 queries, 0 cached) | GC: 0.4ms)


Started GET "/heatmap" for ::1 at 2025-08-12 23:29:47 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 5.2ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 23:31:14 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (1.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 85.2ms | GC: 7.3ms)
  Rendered layout layouts/application.html.erb (Duration: 90.3ms | GC: 7.3ms)
Completed 200 OK in 120ms (Views: 85.5ms | ActiveRecord: 7.6ms (9 queries, 0 cached) | GC: 9.9ms)


Started GET "/" for ::1 at 2025-08-12 23:31:30 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 125.1ms | GC: 9.5ms)
  Rendered layout layouts/application.html.erb (Duration: 136.3ms | GC: 10.0ms)
Completed 200 OK in 164ms (Views: 132.7ms | ActiveRecord: 5.5ms (9 queries, 0 cached) | GC: 10.0ms)


Started GET "/" for ::1 at 2025-08-12 23:31:33 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.1ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | GC: 0.6ms)
Completed 200 OK in 44ms (Views: 23.8ms | ActiveRecord: 1.1ms (9 queries, 0 cached) | GC: 1.1ms)


Started GET "/" for ::1 at 2025-08-12 23:36:13 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 118.5ms | GC: 11.8ms)
  Rendered layout layouts/application.html.erb (Duration: 130.4ms | GC: 12.2ms)
Completed 200 OK in 159ms (Views: 125.5ms | ActiveRecord: 9.6ms (10 queries, 0 cached) | GC: 12.2ms)


Started GET "/assets/controllers/projects_dropdown_controller-8d26091c.js" for ::1 at 2025-08-12 23:36:13 +0300
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:36:22 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 15.5ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | GC: 0.3ms)
Completed 200 OK in 40ms (Views: 20.2ms | ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 0.3ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:36:38 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (2.4ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.6ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.3ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 86.7ms | GC: 24.6ms)
  Rendered layout layouts/application.html.erb (Duration: 96.1ms | GC: 28.9ms)
Completed 200 OK in 131ms (Views: 93.9ms | ActiveRecord: 5.8ms (10 queries, 0 cached) | GC: 32.6ms)


Started GET "/bonuses?type=&status=&search=&project=ROX&dsl_tag=&commit=Filter" for ::1 at 2025-08-12 23:36:49 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "", "search" => "", "project" => "ROX", "dsl_tag" => "", "commit" => "Filter"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.5ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.3ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 30.5ms | GC: 7.0ms)
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | GC: 7.0ms)
Completed 200 OK in 49ms (Views: 30.9ms | ActiveRecord: 2.4ms (10 queries, 0 cached) | GC: 10.7ms)


Started GET "/" for ::1 at 2025-08-12 23:37:53 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (1.0ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 88.8ms | GC: 4.9ms)
  Rendered layout layouts/application.html.erb (Duration: 96.7ms | GC: 4.9ms)
Completed 200 OK in 120ms (Views: 91.2ms | ActiveRecord: 7.7ms (10 queries, 0 cached) | GC: 6.1ms)


Started GET "/assets/controllers/projects_dropdown_controller-8d26091c.js" for ::1 at 2025-08-12 23:37:53 +0300
Started GET "/bonuses?project=GIZBO" for ::1 at 2025-08-12 23:37:57 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "GIZBO"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'GIZBO' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'GIZBO' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'GIZBO' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 13.2ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=MARTIN" for ::1 at 2025-08-12 23:37:57 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "MARTIN"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'MARTIN' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'MARTIN' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'MARTIN' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (58, 39) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (58, 39) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (58, 39) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (58, 39) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (58, 39) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (58, 39) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 12.2ms | ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=GIZBO" for ::1 at 2025-08-12 23:37:58 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "GIZBO"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'GIZBO' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'GIZBO' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'GIZBO' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 10.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 11.2ms | ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=LEX" for ::1 at 2025-08-12 23:37:58 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "LEX"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'LEX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'LEX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'LEX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (73, 54, 35) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (73, 54, 35) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (73, 54, 35) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (73, 54, 35) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (73, 54, 35) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (73, 54, 35) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.1ms | GC: 6.1ms)
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | GC: 7.1ms)
Completed 200 OK in 33ms (Views: 19.6ms | ActiveRecord: 1.3ms (10 queries, 0 cached) | GC: 7.1ms)


Started GET "/bonuses?project=1GO" for ::1 at 2025-08-12 23:37:58 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "1GO"}
  [1m[36mBonus Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = '1GO' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = '1GO' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = '1GO' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (72, 53, 34) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (72, 53, 34) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (72, 53, 34) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (72, 53, 34) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (72, 53, 34) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (72, 53, 34) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 13.2ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | GC: 1.5ms)
Completed 200 OK in 28ms (Views: 14.4ms | ActiveRecord: 1.6ms (10 queries, 0 cached) | GC: 1.5ms)


Started GET "/bonuses?project=MONRO" for ::1 at 2025-08-12 23:37:58 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "MONRO"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'MONRO' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'MONRO' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'MONRO' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (71, 52, 33) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (71, 52, 33) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (71, 52, 33) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (71, 52, 33) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (71, 52, 33) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (71, 52, 33) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.7ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | GC: 1.6ms)
Completed 200 OK in 30ms (Views: 15.9ms | ActiveRecord: 1.4ms (10 queries, 0 cached) | GC: 2.3ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:38:10 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.7ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.4ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.9ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | GC: 0.5ms)
Completed 200 OK in 45ms (Views: 24.9ms | ActiveRecord: 3.2ms (10 queries, 0 cached) | GC: 0.5ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:38:19 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 63.9ms | GC: 2.2ms)
  Rendered layout layouts/application.html.erb (Duration: 68.1ms | GC: 2.2ms)
Completed 200 OK in 93ms (Views: 65.1ms | ActiveRecord: 5.7ms (10 queries, 0 cached) | GC: 2.7ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:38:19 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 13.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 15.3ms | ActiveRecord: 1.0ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:38:22 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (5.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 26.4ms | GC: 7.7ms)
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | GC: 7.7ms)
Completed 200 OK in 42ms (Views: 22.2ms | ActiveRecord: 6.9ms (10 queries, 0 cached) | GC: 7.7ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:38:23 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.6ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 20.1ms | GC: 2.3ms)
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | GC: 2.8ms)
Completed 200 OK in 34ms (Views: 21.1ms | ActiveRecord: 1.5ms (10 queries, 0 cached) | GC: 3.4ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:38:28 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (1.7ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 28.8ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 30.4ms | GC: 1.6ms)
Completed 200 OK in 49ms (Views: 29.2ms | ActiveRecord: 4.1ms (10 queries, 0 cached) | GC: 1.6ms)


Started GET "/" for ::1 at 2025-08-12 23:39:35 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 30.4ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 32.3ms | GC: 0.9ms)
Completed 200 OK in 49ms (Views: 31.2ms | ActiveRecord: 1.8ms (10 queries, 0 cached) | GC: 1.2ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:39:57 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (1.8ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.3ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.3ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 27.0ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 31.1ms | GC: 1.2ms)
Completed 200 OK in 55ms (Views: 29.0ms | ActiveRecord: 3.1ms (10 queries, 0 cached) | GC: 1.2ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:40:25 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.8ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 22.5ms | ActiveRecord: 2.0ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:40:32 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 20.0ms | ActiveRecord: 1.6ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 23:41:20 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/application_controller.rb:10:in 'ApplicationController#set_project_stats'
  [1m[36mCACHE Bonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project"[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.3ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 95.1ms | GC: 8.0ms)
  Rendered layout layouts/application.html.erb (Duration: 98.7ms | GC: 8.2ms)
Completed 200 OK in 140ms (Views: 95.7ms | ActiveRecord: 7.6ms (11 queries, 1 cached) | GC: 15.8ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:41:30 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/application_controller.rb:10:in 'ApplicationController#set_project_stats'
  [1m[36mCACHE Bonus Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project"[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.9ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | GC: 0.8ms)
Completed 200 OK in 44ms (Views: 23.5ms | ActiveRecord: 1.2ms (11 queries, 1 cached) | GC: 0.8ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:41:30 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/application_controller.rb:10:in 'ApplicationController#set_project_stats'
  [1m[36mCACHE Bonus Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project"[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.6ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (2.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 32.9ms | GC: 1.8ms)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | GC: 1.8ms)
Completed 200 OK in 56ms (Views: 31.8ms | ActiveRecord: 3.9ms (11 queries, 1 cached) | GC: 1.8ms)


Started GET "/bonuses?project=FRESH" for ::1 at 2025-08-12 23:41:31 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "FRESH"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/application_controller.rb:10:in 'ApplicationController#set_project_stats'
  [1m[36mCACHE Bonus Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project"[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 27.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 30.1ms | GC: 0.0ms)
Completed 200 OK in 54ms (Views: 29.5ms | ActiveRecord: 1.2ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-08-12 23:41:35 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/application_controller.rb:10:in 'ApplicationController#set_project_stats'
  [1m[36mCACHE Bonus Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project"[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.5ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 9.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 12.9ms | ActiveRecord: 1.6ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:41:35 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/application_controller.rb:10:in 'ApplicationController#set_project_stats'
  [1m[36mCACHE Bonus Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", "bonuses"."project" AS "bonuses_project" FROM "bonuses" GROUP BY "bonuses"."project"[0m
  ↳ app/controllers/bonuses_controller.rb:45:in 'BonusesController#index'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.6ms | GC: 0.0ms)
Completed 200 OK in 48ms (Views: 26.0ms | ActiveRecord: 1.1ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 23:43:01 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (1.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.9ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 89.2ms | GC: 5.4ms)
  Rendered layout layouts/application.html.erb (Duration: 92.8ms | GC: 5.6ms)
Completed 200 OK in 125ms (Views: 88.5ms | ActiveRecord: 8.4ms (9 queries, 0 cached) | GC: 7.6ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:43:17 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.5ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.6ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.4ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.3ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | GC: 0.6ms)
Completed 200 OK in 35ms (Views: 17.2ms | ActiveRecord: 3.3ms (9 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-08-12 23:43:18 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.4ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.7ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 25.5ms | GC: 0.4ms)
Completed 200 OK in 41ms (Views: 24.6ms | ActiveRecord: 1.3ms (9 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses?project=FRESH" for ::1 at 2025-08-12 23:43:19 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "FRESH"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 24.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.1ms | GC: 0.0ms)
Completed 200 OK in 45ms (Views: 27.6ms | ActiveRecord: 1.3ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=SOL" for ::1 at 2025-08-12 23:43:19 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "SOL"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 14.9ms | ActiveRecord: 1.1ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=JET" for ::1 at 2025-08-12 23:43:19 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "JET"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'JET' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'JET' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'JET' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.3ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.3ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.7ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 21.1ms | ActiveRecord: 1.4ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=IZZI" for ::1 at 2025-08-12 23:43:20 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "IZZI"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.3ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 25.9ms | GC: 5.8ms)
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | GC: 6.5ms)
Completed 200 OK in 43ms (Views: 28.1ms | ActiveRecord: 1.6ms (9 queries, 0 cached) | GC: 6.5ms)


Started GET "/bonuses?project=LEGZO" for ::1 at 2025-08-12 23:43:20 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "LEGZO"}
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.4ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.4ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.4ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 29.7ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 33.1ms | GC: 1.7ms)
Completed 200 OK in 51ms (Views: 31.7ms | ActiveRecord: 2.9ms (9 queries, 0 cached) | GC: 1.7ms)


Started GET "/bonuses?project=STARDA" for ::1 at 2025-08-12 23:43:20 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "STARDA"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'STARDA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'STARDA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'STARDA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.3ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.8ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | GC: 1.0ms)
Completed 200 OK in 44ms (Views: 26.0ms | ActiveRecord: 1.9ms (9 queries, 0 cached) | GC: 1.0ms)


Started GET "/bonuses?project=LEGZO" for ::1 at 2025-08-12 23:43:22 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "LEGZO"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 52.8ms | GC: 2.1ms)
  Rendered layout layouts/application.html.erb (Duration: 55.7ms | GC: 2.1ms)
Completed 200 OK in 77ms (Views: 53.0ms | ActiveRecord: 6.0ms (9 queries, 0 cached) | GC: 2.3ms)


Started GET "/bonuses?project=FRESH" for ::1 at 2025-08-12 23:43:27 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "FRESH"}
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.4ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 20.2ms | ActiveRecord: 1.5ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-08-12 23:43:28 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 23.3ms | ActiveRecord: 1.2ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=FRESH" for ::1 at 2025-08-12 23:43:28 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "FRESH"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.4ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 37.0ms | GC: 4.6ms)
  Rendered layout layouts/application.html.erb (Duration: 38.4ms | GC: 4.6ms)
Completed 200 OK in 58ms (Views: 37.7ms | ActiveRecord: 1.6ms (9 queries, 0 cached) | GC: 4.6ms)


Started GET "/" for ::1 at 2025-08-12 23:44:48 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 91.4ms | GC: 3.9ms)
  Rendered layout layouts/application.html.erb (Duration: 98.4ms | GC: 3.9ms)
Completed 200 OK in 124ms (Views: 94.0ms | ActiveRecord: 6.5ms (9 queries, 0 cached) | GC: 4.5ms)


Started GET "/bonuses?project=GIZBO" for ::1 at 2025-08-12 23:44:51 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "GIZBO"}
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'GIZBO' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'GIZBO' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'GIZBO' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (74, 55, 36) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 28.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 30.1ms | GC: 0.0ms)
Completed 200 OK in 55ms (Views: 30.2ms | ActiveRecord: 1.6ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:45:02 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.8ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | GC: 0.0ms)
Completed 200 OK in 52ms (Views: 19.9ms | ActiveRecord: 1.9ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:45:04 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.4ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.3ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.9ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 53.2ms | GC: 8.3ms)
  Rendered layout layouts/application.html.erb (Duration: 55.7ms | GC: 8.3ms)
Completed 200 OK in 74ms (Views: 54.5ms | ActiveRecord: 2.2ms (9 queries, 0 cached) | GC: 8.3ms)


Started GET "/bonuses?project=LEGZO" for ::1 at 2025-08-12 23:45:04 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "LEGZO"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 30.1ms | GC: 1.8ms)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | GC: 2.3ms)
Completed 200 OK in 48ms (Views: 31.3ms | ActiveRecord: 1.7ms (9 queries, 0 cached) | GC: 2.3ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-08-12 23:45:08 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (1.9ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 31.1ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | GC: 2.0ms)
Completed 200 OK in 52ms (Views: 33.9ms | ActiveRecord: 3.0ms (9 queries, 0 cached) | GC: 2.0ms)


Started GET "/" for ::1 at 2025-08-12 23:47:01 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.8ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 79.8ms | GC: 7.7ms)
  Rendered layout layouts/application.html.erb (Duration: 88.2ms | GC: 8.5ms)
Completed 200 OK in 114ms (Views: 85.6ms | ActiveRecord: 5.8ms (9 queries, 0 cached) | GC: 9.4ms)


Started GET "/assets/controllers/projects_dropdown_controller-da608c6d.js" for ::1 at 2025-08-12 23:47:01 +0300
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:47:12 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.7ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | GC: 1.6ms)
Completed 200 OK in 36ms (Views: 18.0ms | ActiveRecord: 0.9ms (9 queries, 0 cached) | GC: 1.6ms)


Started GET "/bonuses?type=&status=&search=&project=ROX&dsl_tag=&commit=Filter" for ::1 at 2025-08-12 23:47:40 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "", "search" => "", "project" => "ROX", "dsl_tag" => "", "commit" => "Filter"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.4ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.4ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 28.7ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 31.3ms | GC: 1.7ms)
Completed 200 OK in 48ms (Views: 31.3ms | ActiveRecord: 1.6ms (9 queries, 0 cached) | GC: 1.7ms)


Started GET "/bonuses?project=FRESH" for ::1 at 2025-08-12 23:47:54 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "FRESH"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.5ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | GC: 0.7ms)
Completed 200 OK in 50ms (Views: 23.0ms | ActiveRecord: 1.1ms (9 queries, 0 cached) | GC: 0.7ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-08-12 23:48:03 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | GC: 0.6ms)
Completed 200 OK in 36ms (Views: 22.9ms | ActiveRecord: 1.4ms (9 queries, 0 cached) | GC: 0.6ms)


Started GET "/assets/controllers/projects_dropdown_controller-da608c6d.js" for ::1 at 2025-08-12 23:48:03 +0300
Started GET "/bonuses?project=SOL" for ::1 at 2025-08-12 23:48:04 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "SOL"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.6ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.0ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | GC: 0.7ms)
Completed 200 OK in 45ms (Views: 25.2ms | ActiveRecord: 1.7ms (9 queries, 0 cached) | GC: 0.7ms)


Started GET "/" for ::1 at 2025-08-12 23:50:05 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 65.0ms | GC: 6.2ms)
  Rendered layout layouts/application.html.erb (Duration: 69.2ms | GC: 6.7ms)
Completed 200 OK in 109ms (Views: 66.8ms | ActiveRecord: 4.9ms (9 queries, 0 cached) | GC: 13.2ms)


Started GET "/assets/controllers/projects_dropdown_controller-5a40a5ea.js" for ::1 at 2025-08-12 23:50:05 +0300
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:50:13 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 25.9ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | GC: 0.4ms)
Completed 200 OK in 58ms (Views: 31.5ms | ActiveRecord: 1.3ms (9 queries, 0 cached) | GC: 0.4ms)


Started GET "/" for ::1 at 2025-08-12 23:50:46 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (5.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.3ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (1.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 32.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 38.1ms | GC: 0.0ms)
Completed 200 OK in 66ms (Views: 31.4ms | ActiveRecord: 7.4ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/controllers/projects_dropdown_controller-a8ce7e7e.js" for ::1 at 2025-08-12 23:50:46 +0300
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:50:54 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.3ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 35.3ms | GC: 7.3ms)
  Rendered layout layouts/application.html.erb (Duration: 39.2ms | GC: 7.8ms)
Completed 200 OK in 68ms (Views: 38.5ms | ActiveRecord: 1.2ms (9 queries, 0 cached) | GC: 7.8ms)


Started GET "/" for ::1 at 2025-08-12 23:51:20 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.1ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | GC: 1.4ms)
Completed 200 OK in 32ms (Views: 19.6ms | ActiveRecord: 1.5ms (9 queries, 0 cached) | GC: 2.0ms)


Started GET "/bonuses?project=SOL" for ::1 at 2025-08-12 23:51:20 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "SOL"}
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 16.8ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | GC: 0.8ms)
Completed 200 OK in 38ms (Views: 18.5ms | ActiveRecord: 1.8ms (9 queries, 0 cached) | GC: 0.8ms)


Started GET "/assets/controllers/projects_dropdown_controller-a8ce7e7e.js" for ::1 at 2025-08-12 23:51:20 +0300
Started GET "/" for ::1 at 2025-08-12 23:51:21 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (1.6ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 34.7ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 37.6ms | GC: 1.2ms)
Completed 200 OK in 55ms (Views: 36.2ms | ActiveRecord: 2.6ms (9 queries, 0 cached) | GC: 1.2ms)


Started GET "/bonuses?project=IZZI" for ::1 at 2025-08-12 23:51:33 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "IZZI"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.4ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.6ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 80.6ms | GC: 9.5ms)
Started GET "/bonuses?project=JET" for ::1 at 2025-08-12 23:51:33 +0300
  Rendered layout layouts/application.html.erb (Duration: 91.2ms | GC: 10.1ms)
Completed 200 OK in 124ms (Views: 87.0ms | ActiveRecord: 6.6ms (9 queries, 0 cached) | GC: 15.8ms)


Processing by BonusesController#index as HTML
  Parameters: {"project" => "JET"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'JET' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'JET' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'JET' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 65.9ms | GC: 1.9ms)
  Rendered layout layouts/application.html.erb (Duration: 71.3ms | GC: 1.9ms)
Completed 200 OK in 97ms (Views: 68.9ms | ActiveRecord: 5.3ms (9 queries, 0 cached) | GC: 2.5ms)


Started GET "/heatmap" for ::1 at 2025-08-12 23:51:37 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 11.2ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 23:51:52 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.9ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 46.3ms | GC: 7.6ms)
  Rendered layout layouts/application.html.erb (Duration: 48.8ms | GC: 8.4ms)
Completed 200 OK in 66ms (Views: 47.6ms | ActiveRecord: 2.0ms (9 queries, 0 cached) | GC: 8.4ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:52:03 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.4ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 29.1ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 32.4ms | GC: 1.9ms)
Completed 200 OK in 52ms (Views: 31.9ms | ActiveRecord: 1.4ms (9 queries, 0 cached) | GC: 1.9ms)


Started GET "/" for ::1 at 2025-08-12 23:52:14 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (4.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 46.0ms | GC: 2.2ms)
  Rendered layout layouts/application.html.erb (Duration: 54.0ms | GC: 2.2ms)
Completed 200 OK in 74ms (Views: 49.4ms | ActiveRecord: 5.3ms (9 queries, 0 cached) | GC: 2.2ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:52:21 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.0ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | GC: 0.4ms)
Completed 200 OK in 39ms (Views: 19.7ms | ActiveRecord: 0.9ms (9 queries, 0 cached) | GC: 0.4ms)


Started GET "/" for ::1 at 2025-08-12 23:52:57 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (1.6ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.7ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 30.1ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 35.9ms | GC: 1.1ms)
Completed 200 OK in 65ms (Views: 33.8ms | ActiveRecord: 3.2ms (9 queries, 0 cached) | GC: 1.4ms)


Started GET "/assets/controllers/projects_dropdown_controller-d494c12f.js" for ::1 at 2025-08-12 23:52:57 +0300
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:53:07 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.8ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 21.1ms | GC: 1.1ms)
Completed 200 OK in 42ms (Views: 21.7ms | ActiveRecord: 0.9ms (9 queries, 0 cached) | GC: 1.5ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-08-12 23:53:39 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mBonus Count (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.3ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 16.7ms | ActiveRecord: 3.6ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-12 23:54:05 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.4ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 37.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 40.6ms | GC: 0.0ms)
Completed 200 OK in 58ms (Views: 39.6ms | ActiveRecord: 1.6ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/controllers/projects_dropdown_controller-67dc42dc.js" for ::1 at 2025-08-12 23:54:05 +0300
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:54:14 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.0ms | GC: 4.5ms)
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | GC: 4.5ms)
Completed 200 OK in 46ms (Views: 25.1ms | ActiveRecord: 1.1ms (9 queries, 0 cached) | GC: 4.5ms)


Started GET "/" for ::1 at 2025-08-12 23:54:45 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (4.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.6ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (2.3ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 41.4ms | GC: 2.3ms)
  Rendered layout layouts/application.html.erb (Duration: 47.5ms | GC: 2.8ms)
Completed 200 OK in 78ms (Views: 44.7ms | ActiveRecord: 8.0ms (9 queries, 0 cached) | GC: 4.6ms)


Started GET "/assets/controllers/projects_dropdown_controller-53afbcf1.js" for ::1 at 2025-08-12 23:54:46 +0300
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-12 23:55:00 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.8ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | GC: 0.6ms)
Completed 200 OK in 39ms (Views: 24.7ms | ActiveRecord: 3.2ms (9 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses?project=JET" for ::1 at 2025-08-12 23:55:39 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "JET"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'JET' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'JET' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'JET' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.1ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | GC: 0.4ms)
Completed 200 OK in 38ms (Views: 24.2ms | ActiveRecord: 1.1ms (9 queries, 0 cached) | GC: 0.4ms)


Started GET "/assets/controllers/projects_dropdown_controller-53afbcf1.js" for ::1 at 2025-08-12 23:55:39 +0300
Started GET "/bonuses?project=JET" for ::1 at 2025-08-12 23:55:43 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "JET"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'JET' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'JET' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'JET' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.5ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.4ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (66, 47, 28, 5) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.7ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 25.6ms | GC: 0.8ms)
Completed 200 OK in 44ms (Views: 24.6ms | ActiveRecord: 2.1ms (9 queries, 0 cached) | GC: 0.8ms)


Started GET "/bonuses" for ::1 at 2025-08-12 23:55:45 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.4ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.5ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 37.6ms | GC: 2.7ms)
  Rendered layout layouts/application.html.erb (Duration: 40.9ms | GC: 2.7ms)
Completed 200 OK in 56ms (Views: 39.5ms | ActiveRecord: 2.0ms (9 queries, 0 cached) | GC: 2.7ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-12 23:55:54 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/bonuses" for ::1 at 2025-08-12 23:55:56 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 26.8ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 31.2ms | GC: 0.6ms)
Completed 200 OK in 52ms (Views: 31.4ms | ActiveRecord: 1.1ms (9 queries, 0 cached) | GC: 1.1ms)


Started GET "/assets/controllers/projects_dropdown_controller-c9454ce7.js" for ::1 at 2025-08-12 23:55:56 +0300
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-12 23:55:56 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for ::1 at 2025-08-12 23:55:57 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.4ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 26.2ms | GC: 0.8ms)
Completed 200 OK in 49ms (Views: 25.9ms | ActiveRecord: 1.3ms (9 queries, 0 cached) | GC: 0.8ms)


Started GET "/assets/controllers/projects_dropdown_controller-c9454ce7.js" for ::1 at 2025-08-12 23:55:57 +0300
Started GET "/bonuses" for ::1 at 2025-08-12 23:57:37 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 24.8ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 31.3ms | GC: 1.2ms)
Completed 200 OK in 47ms (Views: 30.3ms | ActiveRecord: 1.5ms (9 queries, 0 cached) | GC: 1.6ms)


Started GET "/" for ::1 at 2025-08-13 00:00:33 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.3ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.7ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.5ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 122.7ms | GC: 14.8ms)
  Rendered layout layouts/application.html.erb (Duration: 130.9ms | GC: 15.3ms)
Completed 200 OK in 159ms (Views: 124.6ms | ActiveRecord: 11.2ms (9 queries, 0 cached) | GC: 15.3ms)


Started GET "/assets/controllers/projects_dropdown_controller-f13ffc29.js" for ::1 at 2025-08-13 00:00:33 +0300
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-13 00:00:43 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.6ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.0ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | GC: 0.6ms)
Completed 200 OK in 43ms (Views: 23.4ms | ActiveRecord: 1.6ms (9 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-08-13 00:00:54 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 30.2ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | GC: 0.5ms)
Completed 200 OK in 57ms (Views: 31.0ms | ActiveRecord: 1.3ms (9 queries, 0 cached) | GC: 0.7ms)


Started GET "/bonuses?project=FRESH" for ::1 at 2025-08-13 00:01:03 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "FRESH"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.5ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | GC: 0.5ms)
Completed 200 OK in 41ms (Views: 24.4ms | ActiveRecord: 1.5ms (9 queries, 0 cached) | GC: 0.7ms)


Started GET "/bonuses" for ::1 at 2025-08-13 00:01:06 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.3ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 26.9ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 29.9ms | GC: 1.4ms)
Completed 200 OK in 44ms (Views: 29.0ms | ActiveRecord: 1.3ms (9 queries, 0 cached) | GC: 1.4ms)


Started GET "/assets/controllers/projects_dropdown_controller-f13ffc29.js" for ::1 at 2025-08-13 00:01:06 +0300
Started GET "/" for ::1 at 2025-08-13 00:01:07 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 25.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.3ms | GC: 0.0ms)
Completed 200 OK in 45ms (Views: 27.7ms | ActiveRecord: 1.3ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-08-13 00:01:09 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 26.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.6ms | GC: 0.0ms)
Completed 200 OK in 51ms (Views: 29.2ms | ActiveRecord: 1.1ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-13 00:01:10 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.5ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 56.6ms | GC: 5.3ms)
  Rendered layout layouts/application.html.erb (Duration: 64.4ms | GC: 6.0ms)
Completed 200 OK in 81ms (Views: 62.8ms | ActiveRecord: 2.9ms (9 queries, 0 cached) | GC: 6.0ms)


Started GET "/bonuses" for ::1 at 2025-08-13 00:01:10 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.7ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.3ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (1.6ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 46.9ms | GC: 2.5ms)
  Rendered layout layouts/application.html.erb (Duration: 52.4ms | GC: 2.5ms)
Completed 200 OK in 80ms (Views: 51.7ms | ActiveRecord: 4.6ms (9 queries, 0 cached) | GC: 2.5ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-13 00:01:10 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (1.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.4ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.1ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 24.6ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 33.7ms | GC: 1.3ms)
Completed 200 OK in 52ms (Views: 32.5ms | ActiveRecord: 2.6ms (9 queries, 0 cached) | GC: 1.8ms)


Started GET "/bonuses?project=LEGZO" for ::1 at 2025-08-13 00:01:11 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "LEGZO"}
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.3ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.5ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | GC: 1.0ms)
Completed 200 OK in 40ms (Views: 23.2ms | ActiveRecord: 1.4ms (9 queries, 0 cached) | GC: 1.0ms)


Started GET "/bonuses?project=STARDA" for ::1 at 2025-08-13 00:01:11 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "STARDA"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'STARDA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'STARDA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'STARDA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.6ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.8ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | GC: 0.8ms)
Completed 200 OK in 37ms (Views: 20.5ms | ActiveRecord: 1.5ms (9 queries, 0 cached) | GC: 1.1ms)


Started GET "/bonuses?project=STARDA" for ::1 at 2025-08-13 00:06:07 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "STARDA"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'STARDA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'STARDA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'STARDA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.1ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.5ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 62.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 73.0ms | GC: 4.5ms)
Completed 200 OK in 94ms (Views: 67.9ms | ActiveRecord: 7.2ms (9 queries, 0 cached) | GC: 4.5ms)


Started GET "/" for ::1 at 2025-08-13 00:07:40 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.3ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (1.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.2ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 52.8ms | GC: 3.8ms)
  Rendered layout layouts/application.html.erb (Duration: 57.0ms | GC: 4.5ms)
Completed 200 OK in 120ms (Views: 55.1ms | ActiveRecord: 2.6ms (9 queries, 0 cached) | GC: 6.5ms)


Started GET "/assets/app-ea10d97a.css" for ::1 at 2025-08-13 00:07:40 +0300
Started GET "/assets/components/_navigation-e6079566.css" for ::1 at 2025-08-13 00:07:40 +0300
Started GET "/assets/components/_navbar-548e927f.css" for ::1 at 2025-08-13 00:07:40 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-13 00:07:40 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-13 00:07:40 +0300
Started GET "/heatmap" for ::1 at 2025-08-13 00:07:44 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.3ms)
Completed 200 OK in 33ms (Views: 6.5ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/bonuses" for ::1 at 2025-08-13 00:07:47 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.2ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.2ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.2ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.4ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 45.7ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 50.8ms | GC: 1.0ms)
Completed 200 OK in 75ms (Views: 52.2ms | ActiveRecord: 2.0ms (9 queries, 0 cached) | GC: 1.0ms)


Started GET "/" for ::1 at 2025-08-14 22:39:15 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mDepositBonus Load (0.1ms)[0m  [1m[34mSELECT "deposit_bonuses".* FROM "deposit_bonuses" WHERE "deposit_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mInputCouponBonus Load (0.2ms)[0m  [1m[34mSELECT "input_coupon_bonuses".* FROM "input_coupon_bonuses" WHERE "input_coupon_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mManualBonus Load (0.2ms)[0m  [1m[34mSELECT "manual_bonuses".* FROM "manual_bonuses" WHERE "manual_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCollectBonus Load (0.1ms)[0m  [1m[34mSELECT "collect_bonuses".* FROM "collect_bonuses" WHERE "collect_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mGroupsUpdateBonus Load (0.1ms)[0m  [1m[34mSELECT "groups_update_bonuses".* FROM "groups_update_bonuses" WHERE "groups_update_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mSchedulerBonus Load (0.1ms)[0m  [1m[34mSELECT "scheduler_bonuses".* FROM "scheduler_bonuses" WHERE "scheduler_bonuses"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 97.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 108.6ms | GC: 0.0ms)
Completed 200 OK in 181ms (Views: 108.0ms | ActiveRecord: 7.4ms (9 queries, 0 cached) | GC: 0.4ms)


Started GET "/assets/app-ea10d97a.css" for ::1 at 2025-08-14 22:39:15 +0300
Started GET "/assets/components/_navbar-548e927f.css" for ::1 at 2025-08-14 22:39:15 +0300
Started GET "/assets/components/_navigation-e6079566.css" for ::1 at 2025-08-14 22:39:15 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-14 22:39:15 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 22:39:15 +0300
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddEventToBonuses (20250814194905)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "bonus_type" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "project" varchar, "dsl_tag" varchar) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_dsl_tag" ON "abonuses" ("dsl_tag") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_project" ON "abonuses" ("project") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_user_group" ON "abonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_status" ON "abonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_currency" ON "abonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_country" ON "abonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_abonuses_on_code" ON "abonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_bonus_type" ON "abonuses" ("bonus_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_availability_start_date" ON "abonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_availability_end_date" ON "abonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "abonuses" ("id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag")
                     SELECT "id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag" FROM "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "bonus_type" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "project" varchar, "dsl_tag" varchar, "event" varchar NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_end_date" ON "bonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_start_date" ON "bonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_bonus_type" ON "bonuses" ("bonus_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_country" ON "bonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_currency" ON "bonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_status" ON "bonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_user_group" ON "bonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_project" ON "bonuses" ("project") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_dsl_tag" ON "bonuses" ("dsl_tag") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "bonuses" ("id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag")
                     SELECT "id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag" FROM "abonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddEventToBonuses (20250814194905)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "event" varchar /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[33m          UPDATE bonuses SET event = bonus_type WHERE bonus_type IS NOT NULL;
 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "bonus_type" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "project" varchar, "dsl_tag" varchar, "event" varchar) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_dsl_tag" ON "abonuses" ("dsl_tag") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_project" ON "abonuses" ("project") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_user_group" ON "abonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_status" ON "abonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_currency" ON "abonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_country" ON "abonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_abonuses_on_code" ON "abonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_bonus_type" ON "abonuses" ("bonus_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_availability_start_date" ON "abonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_availability_end_date" ON "abonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "abonuses" ("id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag","event")
                     SELECT "id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag","event" FROM "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "bonus_type" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "project" varchar, "dsl_tag" varchar, "event" varchar NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_end_date" ON "bonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_start_date" ON "bonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_bonus_type" ON "bonuses" ("bonus_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_country" ON "bonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_currency" ON "bonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_status" ON "bonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_user_group" ON "bonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_project" ON "bonuses" ("project") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_dsl_tag" ON "bonuses" ("dsl_tag") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag","event")
                     SELECT "id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag","event" FROM "abonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "abonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_event" ON "bonuses" ("event") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194905') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateBonusRewards (20250814194927)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "bonus_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "reward_type" varchar NOT NULL, "amount" decimal(15,2), "percentage" decimal(5,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_04dc838556"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_bonus_id" ON "bonus_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_reward_type" ON "bonus_rewards" ("reward_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_bonus_id_and_reward_type" ON "bonus_rewards" ("bonus_id", "reward_type") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194927') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateFreespinRewards (20250814194929)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "freespin_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "spins_count" integer NOT NULL, "game_restrictions" text, "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_7e8de4db09"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_freespin_rewards_on_bonus_id" ON "freespin_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_freespin_rewards_on_spins_count" ON "freespin_rewards" ("spins_count") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194929') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateBonusBuyRewards (20250814194930)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "bonus_buy_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "buy_amount" decimal(15,2), "multiplier" decimal(5,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_80a3d11f32"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_buy_rewards_on_bonus_id" ON "bonus_buy_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_bonus_buy_rewards_on_buy_amount" ON "bonus_buy_rewards" ("buy_amount") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194930') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateFreechipRewards (20250814194931)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "freechip_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "chip_value" decimal(15,2) NOT NULL, "chips_count" integer NOT NULL, "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e619079d60"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_freechip_rewards_on_bonus_id" ON "freechip_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_freechip_rewards_on_chip_value" ON "freechip_rewards" ("chip_value") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194931') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateBonusCodeRewards (20250814194933)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "bonus_code_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "code" varchar NOT NULL, "code_type" varchar NOT NULL, "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_b43566cf88"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_code_rewards_on_bonus_id" ON "bonus_code_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonus_code_rewards_on_code" ON "bonus_code_rewards" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_code_rewards_on_code_type" ON "bonus_code_rewards" ("code_type") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194933') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateMaterialPrizeRewards (20250814194934)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "material_prize_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "prize_name" varchar NOT NULL, "prize_value" decimal(15,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0fa35ff8bd"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_material_prize_rewards_on_bonus_id" ON "material_prize_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_material_prize_rewards_on_prize_name" ON "material_prize_rewards" ("prize_name") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194934') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Migrating to CreateCompPointRewards (20250814194935)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "comp_point_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "points_amount" integer NOT NULL, "multiplier" decimal(5,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1c06028258"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comp_point_rewards_on_bonus_id" ON "comp_point_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comp_point_rewards_on_points_amount" ON "comp_point_rewards" ("points_amount") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814194935') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to RemoveOldBonusTables (20250814195218)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "adeposit_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT 0, "recurring_eligible" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_adeposit_bonuses_on_bonus_id" ON "adeposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "adeposit_bonuses" ("id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at")
                     SELECT "id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at" FROM "deposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "deposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "deposit_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "deposit_amount_required" decimal(10,2), "bonus_percentage" decimal(5,2), "max_bonus_amount" decimal(15,2), "first_deposit_only" boolean DEFAULT 0, "recurring_eligible" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_deposit_bonuses_on_bonus_id" ON "deposit_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "deposit_bonuses" ("id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at")
                     SELECT "id","bonus_id","deposit_amount_required","bonus_percentage","max_bonus_amount","first_deposit_only","recurring_eligible","created_at","updated_at" FROM "adeposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "adeposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ainput_coupon_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "coupon_code" varchar NOT NULL, "usage_limit" integer DEFAULT 1, "usage_count" integer DEFAULT 0, "expires_at" datetime(6), "single_use" boolean DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ainput_coupon_bonuses_on_expires_at" ON "ainput_coupon_bonuses" ("expires_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_ainput_coupon_bonuses_on_coupon_code" ON "ainput_coupon_bonuses" ("coupon_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_ainput_coupon_bonuses_on_bonus_id" ON "ainput_coupon_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ainput_coupon_bonuses" ("id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at")
                     SELECT "id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at" FROM "input_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "input_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "input_coupon_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "coupon_code" varchar NOT NULL, "usage_limit" integer DEFAULT 1, "usage_count" integer DEFAULT 0, "expires_at" datetime(6), "single_use" boolean DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_bonus_id" ON "input_coupon_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_input_coupon_bonuses_on_coupon_code" ON "input_coupon_bonuses" ("coupon_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_input_coupon_bonuses_on_expires_at" ON "input_coupon_bonuses" ("expires_at") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "input_coupon_bonuses" ("id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at")
                     SELECT "id","bonus_id","coupon_code","usage_limit","usage_count","expires_at","single_use","created_at","updated_at" FROM "ainput_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "ainput_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amanual_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "admin_notes" text, "approval_required" boolean DEFAULT 1, "auto_apply" boolean DEFAULT 0, "conditions" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amanual_bonuses_on_bonus_id" ON "amanual_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amanual_bonuses_on_auto_apply" ON "amanual_bonuses" ("auto_apply") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amanual_bonuses_on_approval_required" ON "amanual_bonuses" ("approval_required") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "amanual_bonuses" ("id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at")
                     SELECT "id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at" FROM "manual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "manual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "manual_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "admin_notes" text, "approval_required" boolean DEFAULT 1, "auto_apply" boolean DEFAULT 0, "conditions" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_approval_required" ON "manual_bonuses" ("approval_required") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_auto_apply" ON "manual_bonuses" ("auto_apply") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_manual_bonuses_on_bonus_id" ON "manual_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "manual_bonuses" ("id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at")
                     SELECT "id","bonus_id","admin_notes","approval_required","auto_apply","conditions","created_at","updated_at" FROM "amanual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amanual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acollect_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "collection_type" varchar NOT NULL, "collection_amount" decimal(15,2), "collection_frequency" varchar DEFAULT 'daily', "collection_limit" integer DEFAULT 1, "collected_count" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acollect_bonuses_on_collection_type" ON "acollect_bonuses" ("collection_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acollect_bonuses_on_collection_frequency" ON "acollect_bonuses" ("collection_frequency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acollect_bonuses_on_bonus_id" ON "acollect_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "acollect_bonuses" ("id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at")
                     SELECT "id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at" FROM "collect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "collect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "collect_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "collection_type" varchar NOT NULL, "collection_amount" decimal(15,2), "collection_frequency" varchar DEFAULT 'daily', "collection_limit" integer DEFAULT 1, "collected_count" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_bonus_id" ON "collect_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_frequency" ON "collect_bonuses" ("collection_frequency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_collect_bonuses_on_collection_type" ON "collect_bonuses" ("collection_type") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "collect_bonuses" ("id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at")
                     SELECT "id","bonus_id","collection_type","collection_amount","collection_frequency","collection_limit","collected_count","created_at","updated_at" FROM "acollect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acollect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "agroups_update_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "target_groups" text NOT NULL, "update_type" varchar NOT NULL, "update_parameters" text, "batch_size" integer DEFAULT 100, "processing_status" varchar DEFAULT 'pending', "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_agroups_update_bonuses_on_update_type" ON "agroups_update_bonuses" ("update_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_agroups_update_bonuses_on_processing_status" ON "agroups_update_bonuses" ("processing_status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_agroups_update_bonuses_on_bonus_id" ON "agroups_update_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "agroups_update_bonuses" ("id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at")
                     SELECT "id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at" FROM "groups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "groups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "groups_update_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "target_groups" text NOT NULL, "update_type" varchar NOT NULL, "update_parameters" text, "batch_size" integer DEFAULT 100, "processing_status" varchar DEFAULT 'pending', "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_bonus_id" ON "groups_update_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_processing_status" ON "groups_update_bonuses" ("processing_status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_groups_update_bonuses_on_update_type" ON "groups_update_bonuses" ("update_type") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "groups_update_bonuses" ("id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at")
                     SELECT "id","bonus_id","target_groups","update_type","update_parameters","batch_size","processing_status","created_at","updated_at" FROM "agroups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "agroups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "ascheduler_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "schedule_type" varchar NOT NULL, "cron_expression" varchar, "next_run_at" datetime(6), "last_run_at" datetime(6), "execution_count" integer DEFAULT 0, "max_executions" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_schedule_type" ON "ascheduler_bonuses" ("schedule_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_next_run_at" ON "ascheduler_bonuses" ("next_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_last_run_at" ON "ascheduler_bonuses" ("last_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_ascheduler_bonuses_on_bonus_id" ON "ascheduler_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "ascheduler_bonuses" ("id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at")
                     SELECT "id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at" FROM "scheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "scheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "scheduler_bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "schedule_type" varchar NOT NULL, "cron_expression" varchar, "next_run_at" datetime(6), "last_run_at" datetime(6), "execution_count" integer DEFAULT 0, "max_executions" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_bonus_id" ON "scheduler_bonuses" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_last_run_at" ON "scheduler_bonuses" ("last_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_next_run_at" ON "scheduler_bonuses" ("next_run_at") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_scheduler_bonuses_on_schedule_type" ON "scheduler_bonuses" ("schedule_type") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "scheduler_bonuses" ("id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at")
                     SELECT "id","bonus_id","schedule_type","cron_expression","next_run_at","last_run_at","execution_count","max_executions","created_at","updated_at" FROM "ascheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "ascheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "deposit_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "input_coupon_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "manual_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "collect_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "groups_update_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "scheduler_bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "bonus_type" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "project" varchar, "dsl_tag" varchar, "event" varchar NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_event" ON "abonuses" ("event") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_dsl_tag" ON "abonuses" ("dsl_tag") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_project" ON "abonuses" ("project") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_user_group" ON "abonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_status" ON "abonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_currency" ON "abonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_country" ON "abonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_abonuses_on_code" ON "abonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_bonus_type" ON "abonuses" ("bonus_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_availability_start_date" ON "abonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonuses_on_availability_end_date" ON "abonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "abonuses" ("id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag","event")
                     SELECT "id","name","code","bonus_type","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag","event" FROM "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "project" varchar, "dsl_tag" varchar, "event" varchar NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_end_date" ON "bonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_start_date" ON "bonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_country" ON "bonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_currency" ON "bonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_status" ON "bonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_user_group" ON "bonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_project" ON "bonuses" ("project") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_dsl_tag" ON "bonuses" ("dsl_tag") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_event" ON "bonuses" ("event") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("id","name","code","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag","event")
                     SELECT "id","name","code","status","minimum_deposit","wager","maximum_winnings","wagering_strategy","availability_start_date","availability_end_date","user_group","tags","country","currency","created_by","updated_by","created_at","updated_at","project","dsl_tag","event" FROM "abonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "abonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250814195218') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN deferred TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_4 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'TEST123' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event") VALUES ('Test Bonus', 'TEST123', 'active', NULL, NULL, NULL, NULL, '2025-08-14 19:53:26.483678', '2025-09-14 19:53:26.483704', NULL, NULL, NULL, 'USD', NULL, NULL, '2025-08-14 19:53:26.519815', '2025-08-14 19:53:26.519815', NULL, NULL, 'deposit') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_4 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_4 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_5 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_6 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_7 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_8 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonusReward Create (0.7ms)[0m  [1m[32mINSERT INTO "bonus_rewards" ("bonus_id", "reward_type", "amount", "percentage", "config", "created_at", "updated_at") VALUES (76, 'cash', 100.0, NULL, NULL, '2025-08-14 19:53:26.556583', '2025-08-14 19:53:26.556583') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_8 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_8 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_9 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_10 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_11 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_12 /*application='MbsPromoRetention'*/[0m
  [1m[36mFreespinReward Create (0.5ms)[0m  [1m[32mINSERT INTO "freespin_rewards" ("bonus_id", "spins_count", "game_restrictions", "config", "created_at", "updated_at") VALUES (76, 50, NULL, NULL, '2025-08-14 19:53:26.565873', '2025-08-14 19:53:26.565873') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_12 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_12 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_13 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_14 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_15 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_16 /*application='MbsPromoRetention'*/[0m
  [1m[36mCompPointReward Create (3.1ms)[0m  [1m[32mINSERT INTO "comp_point_rewards" ("bonus_id", "points_amount", "multiplier", "config", "created_at", "updated_at") VALUES (76, 1000, NULL, NULL, '2025-08-14 19:53:26.575292', '2025-08-14 19:53:26.575292') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_16 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_16 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_17 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_18 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_19 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_20 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_21 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_22 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_23 /*application='MbsPromoRetention'*/[0m
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_24 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_25 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_26 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_27 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_28 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_29 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_30 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_31 /*application='MbsPromoRetention'*/[0m
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_32 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_33 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_34 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_35 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_36 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_37 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_38 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_39 /*application='MbsPromoRetention'*/[0m
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_40 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_41 /*application='MbsPromoRetention'*/[0m
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
Started GET "/" for ::1 at 2025-08-14 22:54:25 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.7ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | GC: 1.1ms)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 2.1ms)


  
ActionView::Template::Error (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?)
Caused by: ActiveRecord::AssociationNotFoundError (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?)

Information for: ActionView::Template::Error (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?):
    108:                   </tr>
    109:                 </thead>
    110:                 <tbody>
    111:                   <% @bonuses.each do |bonus| %>
    112:                     <tr>
    113:                       <td>
    114:                         <input type="checkbox" class="bonus-checkbox" value="<%= bonus.id %>">
  
app/views/bonuses/index.html.erb:111

Information for cause: ActiveRecord::AssociationNotFoundError (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?):
  
app/views/bonuses/index.html.erb:111
Started GET "/bonuses" for ::1 at 2025-08-14 22:54:26 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 33.2ms | GC: 6.7ms)
  Rendered layout layouts/application.html.erb (Duration: 35.4ms | GC: 7.2ms)
Completed 500 Internal Server Error in 166ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 16.6ms)


  
ActionView::Template::Error (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?)
Caused by: ActiveRecord::AssociationNotFoundError (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?)

Information for: ActionView::Template::Error (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?):
    108:                   </tr>
    109:                 </thead>
    110:                 <tbody>
    111:                   <% @bonuses.each do |bonus| %>
    112:                     <tr>
    113:                       <td>
    114:                         <input type="checkbox" class="bonus-checkbox" value="<%= bonus.id %>">
  
app/views/bonuses/index.html.erb:111

Information for cause: ActiveRecord::AssociationNotFoundError (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?):
  
app/views/bonuses/index.html.erb:111
Started GET "/favicon.ico" for ::1 at 2025-08-14 22:54:27 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for ::1 at 2025-08-14 22:54:31 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?)
Caused by: ActiveRecord::AssociationNotFoundError (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?)

Information for: ActionView::Template::Error (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?):
    108:                   </tr>
    109:                 </thead>
    110:                 <tbody>
    111:                   <% @bonuses.each do |bonus| %>
    112:                     <tr>
    113:                       <td>
    114:                         <input type="checkbox" class="bonus-checkbox" value="<%= bonus.id %>">
  
app/views/bonuses/index.html.erb:111

Information for cause: ActiveRecord::AssociationNotFoundError (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?):
  
app/views/bonuses/index.html.erb:111
Started GET "/bonuses" for 127.0.0.1 at 2025-08-14 22:58:35 +0300
Processing by BonusesController#index as */*
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.8ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 62.9ms | GC: 3.3ms)
  Rendered layout layouts/application.html.erb (Duration: 66.8ms | GC: 3.3ms)
Completed 200 OK in 94ms (Views: 65.4ms | ActiveRecord: 5.8ms (10 queries, 0 cached) | GC: 5.7ms)


Started GET "/" for ::1 at 2025-08-14 22:58:45 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 49.9ms | GC: 7.6ms)
  Rendered layout layouts/application.html.erb (Duration: 55.1ms | GC: 8.6ms)
Completed 200 OK in 73ms (Views: 52.9ms | ActiveRecord: 2.8ms (10 queries, 0 cached) | GC: 8.6ms)


Started GET "/assets/components/navigation" for ::1 at 2025-08-14 22:58:46 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-14 22:58:46 +0300
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN deferred TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_2 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_3 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_4 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'FIXED123' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event") VALUES ('Test Fixed Bonus', 'FIXED123', 'active', NULL, NULL, NULL, NULL, '2025-08-14 19:58:50.347407', '2025-09-14 19:58:50.347436', NULL, NULL, NULL, 'USD', NULL, NULL, '2025-08-14 19:58:50.411229', '2025-08-14 19:58:50.411229', NULL, NULL, 'deposit') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_4 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_4 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_5 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mSAVEPOINT active_record_6 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_7 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_8 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonusReward Create (2.5ms)[0m  [1m[32mINSERT INTO "bonus_rewards" ("bonus_id", "reward_type", "amount", "percentage", "config", "created_at", "updated_at") VALUES (76, 'cash', 50.0, NULL, NULL, '2025-08-14 19:58:50.479837', '2025-08-14 19:58:50.479837') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_8 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_8 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_9 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_10 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_11 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_12 /*application='MbsPromoRetention'*/[0m
  [1m[36mFreespinReward Create (0.8ms)[0m  [1m[32mINSERT INTO "freespin_rewards" ("bonus_id", "spins_count", "game_restrictions", "config", "created_at", "updated_at") VALUES (76, 25, NULL, NULL, '2025-08-14 19:58:50.493710', '2025-08-14 19:58:50.493710') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_12 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_12 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_13 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_14 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_15 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_16 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_17 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_18 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonusReward Load (2.4ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_19 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_20 /*application='MbsPromoRetention'*/[0m
  [1m[36mFreespinReward Load (0.9ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_21 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_22 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_23 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_24 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonusBuyReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_25 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_26 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_27 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_28 /*application='MbsPromoRetention'*/[0m
  [1m[36mFreechipReward Load (0.8ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_29 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_30 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_31 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_32 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonusCodeReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_33 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_34 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_35 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_36 /*application='MbsPromoRetention'*/[0m
  [1m[36mMaterialPrizeReward Load (0.5ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_37 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_38 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_39 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_40 /*application='MbsPromoRetention'*/[0m
  [1m[36mCompPointReward Load (0.5ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 76 /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses/75/edit" for ::1 at 2025-08-14 22:58:52 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:157:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.9ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  Rendered bonuses/_type_specific_form.html.erb (Duration: 25.3ms | GC: 0.8ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 56.5ms | GC: 1.8ms)
  Rendered layout layouts/application.html.erb (Duration: 61.4ms | GC: 1.8ms)
Completed 200 OK in 85ms (Views: 60.8ms | ActiveRecord: 2.1ms (8 queries, 0 cached) | GC: 2.3ms)


Started GET "/" for ::1 at 2025-08-14 22:59:09 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.5ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 27.6ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | GC: 1.4ms)
Completed 200 OK in 49ms (Views: 29.9ms | ActiveRecord: 1.7ms (10 queries, 0 cached) | GC: 1.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 22:59:09 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 22:59:09 +0300
Started GET "/bonuses/75/edit" for ::1 at 2025-08-14 22:59:13 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:157:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  Rendered bonuses/_type_specific_form.html.erb (Duration: 6.1ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 10.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 13.7ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/75" for ::1 at 2025-08-14 22:59:31 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:157:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  Rendered bonuses/show.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.6ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method 'bonus_type' for an instance of Bonus)
Caused by: NoMethodError (undefined method 'bonus_type' for an instance of Bonus)

Information for: ActionView::Template::Error (undefined method 'bonus_type' for an instance of Bonus):
    103:               <div class="row">
    104:                 <% 
    105:                   non_deposit_types = %w[input_coupon manual collection groups_update scheduler]
    106:                   should_show_minimum_deposit = !non_deposit_types.include?(@bonus.bonus_type) && @bonus.bonus_type != 'deposit' && @bonus.minimum_deposit.present?
    107:                 %>
    108:                 <% if should_show_minimum_deposit %>
    109:                 <div class="col-md-4">
  
app/views/bonuses/show.html.erb:106

Information for cause: NoMethodError (undefined method 'bonus_type' for an instance of Bonus):
  
app/views/bonuses/show.html.erb:106
Started GET "/bonuses/75/edit" for ::1 at 2025-08-14 22:59:34 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:157:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  Rendered bonuses/_type_specific_form.html.erb (Duration: 29.7ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 39.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 43.2ms | GC: 0.0ms)
Completed 200 OK in 55ms (Views: 41.2ms | ActiveRecord: 2.9ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 22:59:34 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 22:59:34 +0300
Started GET "/" for ::1 at 2025-08-14 22:59:35 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.7ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 38.2ms | GC: 6.5ms)
  Rendered layout layouts/application.html.erb (Duration: 39.6ms | GC: 6.5ms)
Completed 200 OK in 54ms (Views: 38.6ms | ActiveRecord: 1.9ms (10 queries, 0 cached) | GC: 6.5ms)


Started GET "/" for ::1 at 2025-08-14 22:59:39 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 42.9ms | GC: 5.5ms)
  Rendered layout layouts/application.html.erb (Duration: 46.1ms | GC: 5.5ms)
Completed 200 OK in 64ms (Views: 44.9ms | ActiveRecord: 5.1ms (10 queries, 0 cached) | GC: 5.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 22:59:39 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 22:59:39 +0300
Started GET "/bonuses" for ::1 at 2025-08-14 22:59:41 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.7ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (1.4ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.6ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 36.0ms | GC: 3.7ms)
  Rendered layout layouts/application.html.erb (Duration: 38.4ms | GC: 3.7ms)
Completed 200 OK in 53ms (Views: 36.2ms | ActiveRecord: 3.8ms (10 queries, 0 cached) | GC: 3.7ms)


Started GET "/bonuses" for ::1 at 2025-08-14 23:02:26 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 87.3ms | GC: 5.8ms)
  Rendered layout layouts/application.html.erb (Duration: 99.0ms | GC: 6.6ms)
Completed 200 OK in 125ms (Views: 95.3ms | ActiveRecord: 6.9ms (10 queries, 0 cached) | GC: 6.6ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:02:27 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:02:27 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-14 23:02:41 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 12.2ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | GC: 1.8ms)
Completed 200 OK in 45ms (Views: 21.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.8ms)


Started POST "/bonuses" for ::1 at 2025-08-14 23:02:59 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test New Event System Bonus", "code" => "", "event" => "deposit", "status" => "draft", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "test_new_events", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-14T20:02", "availability_end_date" => "2025-09-14T20:02"}, "commit" => "Create Bonus"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:156:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_54B0B931' LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:156:in 'block in Bonus#generate_code'
  [1m[36mCACHE Bonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_54B0B931' LIMIT 1[0m
  ↳ app/controllers/bonuses_controller.rb:85:in 'block in BonusesController#create'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event") VALUES ('Test New Event System Bonus', 'BONUS_54B0B931', 'draft', NULL, NULL, NULL, '', '2025-08-14 20:02:00', '2025-09-14 20:02:00', '', '', '', 'USD', NULL, NULL, '2025-08-14 20:02:59.284324', '2025-08-14 20:02:59.284324', '', 'test_new_events', 'deposit') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:85:in 'block in BonusesController#create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:85:in 'block in BonusesController#create'
Redirected to http://localhost:3000/bonuses/76
Completed 302 Found in 38ms (ActiveRecord: 4.7ms (3 queries, 1 cached) | GC: 0.6ms)


Started GET "/bonuses/76" for ::1 at 2025-08-14 23:02:59 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "76"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 76 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:158:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  Rendered bonuses/show.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.4ms)


  
ActionView::Template::Error (undefined method 'bonus_type' for an instance of Bonus)
Caused by: NoMethodError (undefined method 'bonus_type' for an instance of Bonus)

Information for: ActionView::Template::Error (undefined method 'bonus_type' for an instance of Bonus):
    103:               <div class="row">
    104:                 <% 
    105:                   non_deposit_types = %w[input_coupon manual collection groups_update scheduler]
    106:                   should_show_minimum_deposit = !non_deposit_types.include?(@bonus.bonus_type) && @bonus.bonus_type != 'deposit' && @bonus.minimum_deposit.present?
    107:                 %>
    108:                 <% if should_show_minimum_deposit %>
    109:                 <div class="col-md-4">
  
app/views/bonuses/show.html.erb:106

Information for cause: NoMethodError (undefined method 'bonus_type' for an instance of Bonus):
  
app/views/bonuses/show.html.erb:106
Started GET "/bonuses/76" for ::1 at 2025-08-14 23:03:32 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "76"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 76 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:158:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 39.6ms | GC: 6.5ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 43.7ms | GC: 6.5ms)
  Rendered layout layouts/application.html.erb (Duration: 51.1ms | GC: 7.8ms)
Completed 200 OK in 91ms (Views: 49.9ms | ActiveRecord: 4.1ms (8 queries, 0 cached) | GC: 13.8ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:03:32 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:03:32 +0300
Started GET "/bonuses" for ::1 at 2025-08-14 23:03:40 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.5ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 37.4ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 43.4ms | GC: 1.4ms)
Completed 200 OK in 73ms (Views: 42.2ms | ActiveRecord: 1.9ms (10 queries, 0 cached) | GC: 1.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:03:41 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:03:41 +0300
Started GET "/bonuses" for ::1 at 2025-08-14 23:03:58 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.7ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.5ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (1.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 37.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 41.2ms | GC: 0.0ms)
Completed 200 OK in 66ms (Views: 38.8ms | ActiveRecord: 3.1ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:03:58 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:03:58 +0300
Started GET "/bonuses/new?type=deposit" for ::1 at 2025-08-14 23:04:08 +0300
Processing by BonusesController#new as HTML
  Parameters: {"type" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.4ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | GC: 0.8ms)
Completed 200 OK in 45ms (Views: 15.1ms | ActiveRecord: 2.1ms (0 queries, 0 cached) | GC: 2.9ms)


Started GET "/bonuses" for ::1 at 2025-08-14 23:21:14 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (19.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 41.3ms | GC: 6.5ms)
  Rendered layout layouts/application.html.erb (Duration: 42.5ms | GC: 6.5ms)
Completed 500 Internal Server Error in 264ms (ActiveRecord: 15.2ms (3 queries, 0 cached) | GC: 31.1ms)


  
ActionView::Template::Error (wrong number of arguments (given 2, expected 1))
Caused by: ArgumentError (wrong number of arguments (given 2, expected 1))

Information for: ActionView::Template::Error (wrong number of arguments (given 2, expected 1)):
    108:                   </tr>
    109:                 </thead>
    110:                 <tbody>
    111:                   <% @bonuses.each do |bonus| %>
    112:                     <tr>
    113:                       <td>
    114:                         <input type="checkbox" class="bonus-checkbox" value="<%= bonus.id %>">
  
app/models/bonus_reward.rb:11:in '<class:BonusReward>'
app/models/bonus_reward.rb:1:in '<main>'
app/views/bonuses/index.html.erb:111

Information for cause: ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/models/bonus_reward.rb:11:in '<class:BonusReward>'
app/models/bonus_reward.rb:1:in '<main>'
app/views/bonuses/index.html.erb:111
Started GET "/favicon.ico" for ::1 at 2025-08-14 23:21:16 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/bonuses" for ::1 at 2025-08-14 23:21:28 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.4ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 74.2ms | GC: 11.2ms)
  Rendered layout layouts/application.html.erb (Duration: 79.1ms | GC: 11.9ms)
Completed 200 OK in 104ms (Views: 76.0ms | ActiveRecord: 5.4ms (10 queries, 0 cached) | GC: 13.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:21:28 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:21:28 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-14 23:21:43 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_bonus_reward_form.html.erb (Duration: 5.1ms | GC: 0.4ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 9.0ms | GC: 0.4ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 26.3ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 30.5ms | GC: 1.5ms)
Completed 200 OK in 51ms (Views: 31.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.5ms)


Started GET "/bonuses" for ::1 at 2025-08-14 23:23:19 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 110.0ms | GC: 11.7ms)
  Rendered layout layouts/application.html.erb (Duration: 119.2ms | GC: 12.7ms)
Completed 200 OK in 148ms (Views: 114.3ms | ActiveRecord: 12.3ms (10 queries, 0 cached) | GC: 12.7ms)


Started GET "/bonuses" for ::1 at 2025-08-14 23:23:21 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 29.8ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | GC: 1.5ms)
Completed 200 OK in 53ms (Views: 31.2ms | ActiveRecord: 1.5ms (10 queries, 0 cached) | GC: 1.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:23:21 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:23:21 +0300
Started GET "/heatmap" for ::1 at 2025-08-14 23:23:32 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (1.6ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 3.2ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/bonuses" for ::1 at 2025-08-14 23:23:34 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 26.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.5ms | GC: 0.0ms)
Completed 200 OK in 47ms (Views: 28.9ms | ActiveRecord: 2.7ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:23:34 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:23:34 +0300
Started GET "/bonuses" for ::1 at 2025-08-14 23:23:36 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 37.5ms | GC: 5.7ms)
  Rendered layout layouts/application.html.erb (Duration: 41.2ms | GC: 6.3ms)
Completed 200 OK in 58ms (Views: 41.1ms | ActiveRecord: 1.3ms (10 queries, 0 cached) | GC: 6.3ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:23:36 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:23:36 +0300
Started GET "/" for ::1 at 2025-08-14 23:23:37 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (1.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 40.0ms | GC: 2.6ms)
  Rendered layout layouts/application.html.erb (Duration: 44.9ms | GC: 2.6ms)
Completed 200 OK in 66ms (Views: 43.3ms | ActiveRecord: 5.1ms (10 queries, 0 cached) | GC: 2.6ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-14 23:23:42 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_bonus_reward_form.html.erb (Duration: 3.5ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 5.8ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 19.5ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | GC: 0.8ms)
Completed 200 OK in 39ms (Views: 24.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)


Started GET "/bonuses" for ::1 at 2025-08-14 23:24:43 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 30.8ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | GC: 1.8ms)
Completed 200 OK in 58ms (Views: 34.8ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 2.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:24:43 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:24:43 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-14 23:25:02 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_bonus_reward_form.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 16.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | GC: 0.0ms)
Completed 200 OK in 56ms (Views: 27.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-14 23:38:10 +0300
  
SyntaxError (/home/pasha/mbs_promo_retention/app/controllers/bonuses_controller.rb:264: syntax errors found
  [2m262 | [m      :min, :groups, :tags, :stag, :wagering_strategy, :currencies, currencies: [],
  [2m263 | [m      # Advanced parameters
[1;31m> [m[2m264 | [m      :auto_activate, :duration, :activation_duration, :email_template, :range,
  [2m    | [m                    [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                    [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                               [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                               [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                     [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                     [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                                      [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                                      [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                                              [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                                              [1;31m^[m expected a `=>` between the hash key and value
[1;31m> [m[2m265 | [m      :last_login_country, :profile_country, :current_ip_country, :emails,
  [2m    | [m                         [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                         [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                           [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                           [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                                [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                                [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                                         [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                                         [1;31m^[m expected a `=>` between the hash key and value
[1;31m> [m[2m266 | [m... , :cashout_payment_systems, :user_can_have_duplicates,
  [2m    | [m    [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m    [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                              [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                              [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                         [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                         [1;31m^[m expected a `=>` between the hash key and value
[1;31m> [m[2m267 | [m... , :total_deposits, :deposits_sum, :loss_sum,
  [2m    | [m    [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m    [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                     [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                     [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                    [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                    [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                               [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                               [1;31m^[m expected a `=>` between the hash key and value
[1;31m> [m[2m268 | [m      :deposits_count, :spend_sum, :category_loss_sum, :wager_sum, :bets_count,
  [2m    | [m                     [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                     [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                 [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                 [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                     [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                     [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                                 [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                                 [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                                              [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                                              [1;31m^[m expected a `=>` between the hash key and value
[1;31m> [m[2m269 | [m      :affiliates_user, :balance, :chargeable_comp_points, :persistent_comp_points,
  [2m    | [m                      [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                      [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                         [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                         [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                                                  [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                                                  [1;31m^[m expected a `=>` between the hash key and value
[1;31m> [m[2m270 | [m      :date_of_birth, :deposit, :gender, :issued_bonus, :registered, :social_networks,
  [2m    | [m                    [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                    [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                              [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                              [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                       [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                       [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                      [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                      [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                                   [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                                   [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                                                                     [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                                                                                     [1;31m^[m expected a `=>` between the hash key and value
[1;31m> [m[2m271 | [m      :wager_done, :hold_min, :hold_max
  [2m    | [m                 [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                 [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                            [1;31m^[m unexpected ','; expected a value in the hash literal
  [2m    | [m                            [1;31m^[m expected a `=>` between the hash key and value
  [2m    | [m                                       [1;31m^[m unexpected newline; expected a value in the hash literal
  [2m    | [m                                       [1;31m^[m expected a `=>` between the hash key and value
  [2m272 | [m    )
  [2m273 | [m    
):
  
app/controllers/bonuses_controller.rb:264: syntax errors found
Started GET "/bonuses" for ::1 at 2025-08-14 23:38:36 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 69.3ms | GC: 6.6ms)
  Rendered layout layouts/application.html.erb (Duration: 77.4ms | GC: 7.6ms)
Completed 200 OK in 102ms (Views: 77.4ms | ActiveRecord: 2.5ms (10 queries, 0 cached) | GC: 8.8ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:38:37 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:38:37 +0300
Started GET "/bonuses/new?event=input_coupon" for ::1 at 2025-08-14 23:38:47 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "input_coupon"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_bonus_reward_form.html.erb (Duration: 2.8ms | GC: 0.0ms)
  Rendered bonuses/_freespin_reward_form.html.erb (Duration: 2.5ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 7.0ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 18.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | GC: 0.0ms)
Completed 200 OK in 46ms (Views: 26.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-14 23:38:52 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_bonus_reward_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/_freespin_reward_form.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.8ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 11.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 19.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-14 23:45:27 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_bonus_reward_form.html.erb (Duration: 4.8ms | GC: 0.0ms)
  Rendered bonuses/_freespin_reward_form.html.erb (Duration: 2.8ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 9.9ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 22.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 49.2ms | GC: 9.2ms)
Completed 200 OK in 81ms (Views: 52.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 9.2ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:45:27 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:45:27 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-14 23:46:34 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_bonus_reward_form.html.erb (Duration: 3.2ms | GC: 0.0ms)
  Rendered bonuses/_freespin_reward_form.html.erb (Duration: 9.8ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 17.0ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 32.0ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 41.2ms | GC: 0.9ms)
Completed 200 OK in 74ms (Views: 42.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.9ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:46:35 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:46:35 +0300
Started GET "/bonuses?project=ROX" for ::1 at 2025-08-14 23:47:41 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mBonus Count (5.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (1.5ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (3.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (1.5ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (2.0ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (3.6ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (1.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 101.6ms | GC: 2.2ms)
  Rendered layout layouts/application.html.erb (Duration: 104.4ms | GC: 2.5ms)
Completed 200 OK in 133ms (Views: 91.0ms | ActiveRecord: 19.3ms (10 queries, 0 cached) | GC: 2.5ms)


Started GET "/api/v1/bonuses" for ::1 at 2025-08-14 23:47:46 +0300
Processing by Api::V1::BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:20:in 'Api::V1::BonusesController#index'
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.3ms)


  
ActiveRecord::AssociationNotFoundError (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?):
  
app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
Started GET "/api/v1/bonuses" for ::1 at 2025-08-14 23:49:27 +0300
Processing by Api::V1::BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:20:in 'Api::V1::BonusesController#index'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."created_at" DESC LIMIT 20 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
Completed 500 Internal Server Error in 31ms (ActiveRecord: 2.4ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::AssociationNotFoundError (Association named 'deposit_bonus' was not found on Bonus; perhaps you misspelled it?):
  
app/controllers/api/v1/bonuses_controller.rb:24:in 'Api::V1::BonusesController#index'
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-14 23:52:41 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 19.4ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | GC: 4.3ms)
Completed 200 OK in 88ms (Views: 35.9ms | ActiveRecord: 1.9ms (0 queries, 0 cached) | GC: 12.1ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:52:41 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:52:41 +0300
Started GET "/bonuses/bonus_reward_form_template?index=0" for ::1 at 2025-08-14 23:52:51 +0300
Processing by BonusesController#show as */*
  Parameters: {"index" => "0", "id" => "bonus_reward_form_template"}
  [1m[36mBonus Load (1.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = NULL LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:166:in 'BonusesController#set_bonus'
Completed 404 Not Found in 18ms (ActiveRecord: 1.4ms (1 query, 0 cached) | GC: 0.9ms)


  
ActiveRecord::RecordNotFound (Couldn't find Bonus with 'id'=bonus_reward_form_template):
  
app/controllers/bonuses_controller.rb:166:in 'BonusesController#set_bonus'
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-14 23:55:31 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 13.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | GC: 0.0ms)
Completed 200 OK in 47ms (Views: 21.1ms | ActiveRecord: 1.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-14 23:55:32 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-14 23:55:32 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-15 00:03:53 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 9.8ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | GC: 2.3ms)
Completed 200 OK in 46ms (Views: 15.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 7.6ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-15 00:03:53 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-15 00:03:53 +0300
Started GET "/" for ::1 at 2025-08-15 00:05:20 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.4ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 74.5ms | GC: 3.5ms)
  Rendered layout layouts/application.html.erb (Duration: 79.9ms | GC: 3.5ms)
Completed 200 OK in 116ms (Views: 77.7ms | ActiveRecord: 6.5ms (10 queries, 0 cached) | GC: 5.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-15 00:05:20 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-15 00:05:20 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-15 00:05:26 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 10.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 13.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-15 00:05:51 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 9.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-15 00:05:51 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-15 00:05:51 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-15 00:08:41 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.8ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 13.6ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | GC: 1.1ms)
Completed 200 OK in 52ms (Views: 20.5ms | ActiveRecord: 1.6ms (0 queries, 0 cached) | GC: 4.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-15 00:08:41 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-15 00:08:41 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-15 00:08:53 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.1ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 0.4ms)
Completed 200 OK in 24ms (Views: 9.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-15 00:08:53 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-15 00:08:53 +0300
Started GET "/bonuses" for ::1 at 2025-08-15 00:11:16 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 63.6ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 67.3ms | GC: 0.8ms)
Completed 200 OK in 91ms (Views: 63.6ms | ActiveRecord: 5.7ms (10 queries, 0 cached) | GC: 1.2ms)


Started GET "/bonuses/76" for ::1 at 2025-08-15 00:11:21 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "76"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 76 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:166:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:88:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 14.7ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 17.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | GC: 5.2ms)
Completed 200 OK in 39ms (Views: 25.6ms | ActiveRecord: 1.2ms (8 queries, 0 cached) | GC: 5.2ms)


Started GET "/" for ::1 at 2025-08-15 00:11:34 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (1.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 32.8ms | GC: 3.5ms)
  Rendered layout layouts/application.html.erb (Duration: 35.5ms | GC: 3.5ms)
Completed 200 OK in 50ms (Views: 33.6ms | ActiveRecord: 2.7ms (10 queries, 0 cached) | GC: 3.5ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-15 00:15:44 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)


  
SyntaxError (/home/pasha/mbs_promo_retention/app/models/bonus.rb:229: syntax error found
  [2m227 | [m    end
  [2m228 | [m  end
[1;31m> [m[2m229 | [mend
  [2m    | [m[1;31m^~~[m unexpected 'end', ignoring it
):
  
app/models/bonus.rb:229: syntax error found
app/controllers/bonuses_controller.rb:71:in 'BonusesController#new'
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-15 00:16:22 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.5ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 13.6ms | ActiveRecord: 1.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-15 00:16:22 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-15 00:16:22 +0300
Started GET "/bonuses" for ::1 at 2025-08-15 00:16:45 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (1.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 90.6ms | GC: 6.9ms)
  Rendered layout layouts/application.html.erb (Duration: 95.8ms | GC: 7.4ms)
Completed 200 OK in 122ms (Views: 90.7ms | ActiveRecord: 7.2ms (10 queries, 0 cached) | GC: 9.0ms)


Started GET "/assets/components/navigation" for ::1 at 2025-08-15 00:16:45 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-15 00:16:45 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-15 00:16:49 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.9ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 10.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 14.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-15 00:22:03 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.0ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 12.4ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | GC: 2.1ms)
Completed 200 OK in 56ms (Views: 21.2ms | ActiveRecord: 1.2ms (0 queries, 0 cached) | GC: 6.8ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-15 00:22:03 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-15 00:22:03 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-15 00:27:33 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.8ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 13.1ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | GC: 0.8ms)
Completed 200 OK in 47ms (Views: 20.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-15 00:27:33 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-15 00:27:33 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-15 00:28:40 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 9.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.4ms | GC: 0.0ms)
Completed 200 OK in 50ms (Views: 19.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-15 00:28:40 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-15 00:28:40 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-15 00:28:57 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 7.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | GC: 0.8ms)
Completed 200 OK in 48ms (Views: 15.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 6.8ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-15 00:28:58 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-15 00:28:58 +0300
Started GET "/bonuses/new" for ::1 at 2025-08-16 12:19:59 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.4ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 10.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | GC: 0.0ms)
Completed 200 OK in 67ms (Views: 20.8ms | ActiveRecord: 1.2ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/assets/app-ea10d97a.css" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/assets/components/_navbar-548e927f.css" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/assets/components/_navigation-e6079566.css" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/assets/stimulus-loading-1fc53fe7.js" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/assets/controllers/hello_controller-708796bd.js" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/assets/controllers/application-3affb389.js" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/assets/controllers/index-ee64e1f1.js" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/assets/controllers/projects_dropdown_controller-f13ffc29.js" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/assets/stimulus.min-4b1e420e.js" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/assets/turbo.min-3a2e143f.js" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/assets/application-bfcdf840.js" for ::1 at 2025-08-16 12:20:00 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-16 12:22:08 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.5ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 9.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 3.5ms)
Completed 200 OK in 34ms (Views: 17.0ms | ActiveRecord: 1.0ms (0 queries, 0 cached) | GC: 3.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 12:22:09 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 12:22:09 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-16 12:22:11 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 17.0ms | GC: 12.1ms)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | GC: 12.1ms)
Completed 200 OK in 29ms (Views: 20.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 13.2ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 12:22:11 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 12:22:11 +0300
Started GET "/bonuses" for ::1 at 2025-08-16 12:22:11 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.4ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 57.4ms | GC: 3.4ms)
  Rendered layout layouts/application.html.erb (Duration: 58.5ms | GC: 3.4ms)
Completed 200 OK in 74ms (Views: 55.3ms | ActiveRecord: 4.1ms (10 queries, 0 cached) | GC: 3.4ms)


Started GET "/bonuses" for ::1 at 2025-08-16 12:22:12 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 15.6ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | GC: 0.6ms)
Completed 200 OK in 27ms (Views: 16.3ms | ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-16 12:27:04 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-16 12:27:04 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 12:27:04 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/bonuses" for ::1 at 2025-08-16 12:27:31 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (4.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (1.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (1.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 33.1ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 35.6ms | GC: 0.4ms)
Completed 200 OK in 53ms (Views: 32.4ms | ActiveRecord: 8.4ms (10 queries, 0 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-16 12:27:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/bonuses/new" for ::1 at 2025-08-16 12:31:38 +0300
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.5ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 7.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | GC: 5.9ms)
Completed 200 OK in 43ms (Views: 18.5ms | ActiveRecord: 2.1ms (0 queries, 0 cached) | GC: 5.9ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 12:31:38 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 12:31:38 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-16 12:32:42 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 7.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | GC: 1.3ms)
Completed 200 OK in 31ms (Views: 15.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-16 12:32:42 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 12:32:42 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-16 12:32:42 +0300
Started GET "/" for ::1 at 2025-08-16 12:32:45 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 67.2ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 72.3ms | GC: 1.3ms)
Completed 200 OK in 102ms (Views: 67.1ms | ActiveRecord: 8.7ms (10 queries, 0 cached) | GC: 1.8ms)


  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddCommonFieldsToBonuses (20250816094114)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "currencies" text /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "groups" text /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250816094114') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses/new" for ::1 at 2025-08-16 12:46:53 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.0ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 7.9ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | GC: 0.5ms)
Completed 200 OK in 57ms (Views: 14.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.1ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 12:46:53 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 12:46:53 +0300
Started GET "/bonuses/new" for ::1 at 2025-08-16 12:49:15 +0300
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.5ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 5.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 9.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 12:49:15 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 12:49:15 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-16 14:32:40 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.1ms | GC: 0.1ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 8.0ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | GC: 0.1ms)
Completed 200 OK in 33ms (Views: 12.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 14:32:41 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 14:32:41 +0300
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-16 14:32:41 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/bonuses" for ::1 at 2025-08-16 14:32:44 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (5.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.5ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.4ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 213.5ms | GC: 39.4ms)
  Rendered layout layouts/application.html.erb (Duration: 216.2ms | GC: 40.4ms)
Completed 200 OK in 273ms (Views: 221.2ms | ActiveRecord: 7.2ms (10 queries, 0 cached) | GC: 45.9ms)


Started GET "/bonuses/new?event=input_coupon" for ::1 at 2025-08-16 14:32:50 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "input_coupon"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.6ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | GC: 0.5ms)
Completed 200 OK in 22ms (Views: 12.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)


  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddLimitationsToBonuses (20250816113809)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "no_more" text /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "totally_no_more" integer /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250816113809') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses/new" for ::1 at 2025-08-16 14:40:27 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/new.html.erb within layouts/application (Duration: 3.6ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.2ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.0ms)


  
ActionView::Template::Error (undefined method 'no_more' for an instance of Bonus)
Caused by: NoMethodError (undefined method 'no_more' for an instance of Bonus)

Information for: ActionView::Template::Error (undefined method 'no_more' for an instance of Bonus):
    86:                   <%= form.label :no_more, "Usage Limitation", class: "form-label" %>
    87:                   <%= form.text_field :no_more, class: "form-control", 
    88:                       placeholder: "1 per day, 3 per week", 
    89:                       value: @bonus.no_more %>
    90:                   <div class="form-text">Enter usage limit (e.g., "1 per day", "3 per week")</div>
    91:                 </div>
    92: 
  
app/views/bonuses/new.html.erb:89
app/views/bonuses/new.html.erb:11

Information for cause: NoMethodError (undefined method 'no_more' for an instance of Bonus):
  
app/views/bonuses/new.html.erb:89
app/views/bonuses/new.html.erb:11
Started GET "/favicon.ico" for ::1 at 2025-08-16 14:40:27 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/bonuses/new" for ::1 at 2025-08-16 14:40:53 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 10.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | GC: 0.0ms)
Completed 200 OK in 71ms (Views: 21.0ms | ActiveRecord: 1.4ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 14:40:53 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 14:40:53 +0300
  [1m[36mActiveRecord::InternalMetadata Load (3.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses/new" for ::1 at 2025-08-16 14:51:25 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.7ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 18.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.7ms | GC: 0.0ms)
Completed 200 OK in 56ms (Views: 29.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 14:51:25 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 14:51:25 +0300
Started GET "/bonuses/new" for ::1 at 2025-08-16 14:59:28 +0300
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.5ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 23.2ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | GC: 0.8ms)
Completed 200 OK in 69ms (Views: 28.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.2ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 14:59:29 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 14:59:29 +0300
Started GET "/bonuses/new?event=input_coupon" for ::1 at 2025-08-16 15:08:40 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "input_coupon"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 3.3ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 26.4ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 31.5ms | GC: 0.2ms)
Completed 200 OK in 58ms (Views: 33.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.2ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 15:08:40 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 15:08:40 +0300
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-16 15:08:40 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/bonuses" for ::1 at 2025-08-16 15:08:47 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (7.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.7ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.4ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 69.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 71.3ms | GC: 0.0ms)
Completed 200 OK in 101ms (Views: 67.1ms | ActiveRecord: 12.3ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new" for ::1 at 2025-08-16 15:22:03 +0300
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/new.html.erb within layouts/application (Duration: 8.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 84ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.6ms)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% content_for :title, "New Bonus" %>

<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h2">Create New Bonus</h1>
        <%= link_to "Back to List", bonuses_path, class: "btn btn-outline-secondary" %>
      </div>

      <%= form_with model: @bonus, local: true, class: "needs-validation", novalidate: true do |form| %>
        <% if @bonus.errors.any? %>
          <div class="alert alert-danger">
            <h4><%= pluralize(@bonus.errors.count, "error") %> prohibited this bonus from being saved:</h4>
            <ul class="mb-0">
              <% @bonus.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="row">
          <!-- Левая колонка: Basic Information -->
          <div class="col-lg-4">
            <!-- Basic Information -->
            <div class="card mb-4">
              <div class="card-header">
                <h5 class="card-title mb-0">Basic Information</h5>
              </div>
              <div class="card-body">
                <div class="mb-3">
                  <%= form.label :name, class: "form-label" %>
                  <%= form.text_field :name, class: "form-control", required: true %>
                </div>

                <div class="mb-3">
                  <%= form.label :event, class: "form-label" %>
                  <%= form.select :event, event_type_options, 
                      { selected: @event_type }, 
                      { class: "form-select", required: true, 
                        onchange: "toggleTypeSpecificFields(this.value)" } %>
                </div>

                <div class="mb-3">
                  <%= form.label :status, class: "form-label" %>
                  <%= form.select :status, status_options, 
                      { selected: 'draft' }, 
                      { class: "form-select", required: true } %>
                </div>

                <div class="mb-3">
                  <%= form.label :project, class: "form-label" %>
                  <%= form.select :project, project_options, 
                      { include_blank: "Select project" }, 
                      { class: "form-select" } %>
                </div>

                <div class="mb-3">
                  <%= form.label :dsl_tag, class: "form-label" %>
                  <%= form.text_field :dsl_tag, class: "form-control", 
 %>
                </div>

                <div class="mb-3">
                  <%= form.label :currencies, "Currencies", class: "form-label" %>
                  <%= form.select :currencies, 
                      options_for_select([
                        ['USD', 'USD'], ['EUR', 'EUR'], ['GBP', 'GBP'], ['RUB', 'RUB'],
                        ['UAH', 'UAH'], ['KZT', 'KZT'], ['BTC', 'BTC'], ['ETH', 'ETH']
                      ], @bonus.currencies), 
                      {}, { class: "form-select", multiple: true, 
                           size: 4, style: "height: auto;" } %>

                </div>

                <div class="mb-3">
                  <%= form.label :groups, "Target Groups", class: "form-label" %>
                  <%= form.text_field :groups, class: "form-control", 
 
                      value: @bonus.groups.is_a?(Array) ? @bonus.groups.join(', ') : @bonus.groups %>

                </div>

                <div class="mb-3">
                  <%= form.label :no_more, "Usage Limitation", class: "form-label" %>
                  <%= form.text_field :no_more, class: "form-control", 
 
                      value: @bonus.no_more %>

                </div>

                <div class="mb-3">
                  <%= form.label :totally_no_more, "Total Activation Limit", class: "form-label" %>
                  <%= form.number_field :totally_no_more, class: "form-control", 
                      min: 1, 
                      value: @bonus.totally_no_more %>

                </div>
              </div>
            </div>

            <!-- Financial Information -->
            <div class="card mb-4" id="financial-information-card">
              <div class="card-header">
                <h5 class="card-title mb-0">Financial Information</h5>
              </div>
              <div class="card-body">
                <div class="mb-3" id="minimum-deposit-field" style="display: none;">
                  <%= form.label :minimum_deposit, class: "form-label" %>
                  <%= form.number_field :minimum_deposit, step: 0.01, 
                      class: "form-control", min: 0 %>

                </div>

                <div class="mb-3">
                  <%= form.label :wager, class: "form-label" %>
                  <%= form.number_field :wager, step: 0.01, 
                      class: "form-control", min: 0 %>
                </div>

                <div class="mb-3">
                  <%= form.label :maximum_winnings, class: "form-label" %>
                  <%= form.number_field :maximum_winnings, step: 0.01, 
                      class: "form-control", min: 0 %>
                </div>

                <div class="mb-3">
                  <%= form.label :wagering_strategy, class: "form-label" %>
                  <%= form.select :wagering_strategy, wagering_strategy_options, 
                      { include_blank: "Select strategy" }, 
                      { class: "form-select" } %>
                </div>
              </div>
            </div>

            <!-- Availability -->
            <div class="card mb-4">
              <div class="card-header">
                <h5 class="card-title mb-0">Availability</h5>
              </div>
              <div class="card-body">
                <div class="mb-3">
                  <%= form.label :availability_start_date, class: "form-label" %>
                  <%= form.datetime_local_field :availability_start_date, 
                      class: "form-control", required: true,
                      value: (@bonus.availability_start_date || Time.current).strftime("%Y-%m-%dT%H:%M") %>
                </div>

                <div class="mb-3">
                  <%= form.label :availability_end_date, class: "form-label" %>
                  <%= form.datetime_local_field :availability_end_date, 
                      class: "form-control", required: true,
                      value: (@bonus.availability_end_date || 1.month.from_now).strftime("%Y-%m-%dT%H:%M") %>
                </div>
              </div>
            </div>

            <!-- Actions -->
            <div class="card">
              <div class="card-body">
                <div class="d-grid gap-2">
                  <%= form.submit "Create Bonus", class: "btn btn-primary" %>
                  <%= link_to "Cancel", bonuses_path, class: "btn btn-outline-secondary" %>
                </div>
              </div>
            </div>
          </div>

          <!-- Правая колонка: Type-Specific Fields -->
          <div class="col-lg-8">
            <!-- Type-Specific Fields -->
            <div id="type-specific-fields">
              <%= render "type_specific_form", form: form, bonus: @bonus %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>

<script>
  function toggleTypeSpecificFields(bonusType) {
    const minimumDepositField = document.getElementById('minimum-deposit-field');
    const financialCard = document.getElementById('financial-information-card');
    
    // Типы бонусов, которые не должны показывать minimum_deposit
    const nonDepositTypes = ['input_coupon', 'manual', 'collection', 'groups_update', 'scheduler'];
    
    if (nonDepositTypes.includes(bonusType)) {
      // Скрываем поле minimum_deposit для типов, которые его не используют
      minimumDepositField.style.display = 'none';
      // Очищаем значение поля
      const minimumDepositInput = minimumDepositField.querySelector('input');
      if (minimumDepositInput) {
        minimumDepositInput.value = '';
      }
    } else if (bonusType === 'deposit') {
      // Для депозитных бонусов тоже скрываем, так как используется deposit_amount_required
      minimumDepositField.style.display = 'none';
      const minimumDepositInput = minimumDepositField.querySelector('input');
      if (minimumDepositInput) {
        minimumDepositInput.value = '';
      }
    } else {
      // Показываем поле для других типов (если они появятся в будущем)
      minimumDepositField.style.display = 'block';
    }
    
    console.log('Selected bonus type:', bonusType);
  }
  
  // Инициализируем при загрузке страницы
  document.addEventListener('DOMContentLoaded', function() {
    const bonusTypeSelect = document.querySelector('select[name="bonus[event]"]');
    if (bonusTypeSelect && bonusTypeSelect.value) {
      toggleTypeSpecificFields(bonusTypeSelect.value);
    }
  });
</script>

)
Caused by: ActiveSupport::SyntaxErrorProxy (/home/pasha/mbs_promo_retention/app/views/bonuses/new.html.erb:62: syntax errors found
  59 |                 <div class="mb-3">
  60 |                   '.freeze; @output_buffer.append=( form.label :dsl_tag, class: "form-label" ); @output_buffer.safe_append='
> 61 | ... , 
     |     ^ unexpected ')'; expected an argument
> 62 |  ); @output_buffer.safe_append='
 ...
     |  ^ unexpected ')', assuming it is closing the parent parentheses
     |  ^ unexpected ')'; expected an argument
     |   ^ expected an `end` to close the `def` statement
     |   ^ expected a block beginning with `do` to end with `end`
)

Information for: ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% content_for :title, "New Bonus" %>

<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h2">Create New Bonus</h1>
        <%= link_to "Back to List", bonuses_path, class: "btn btn-outline-secondary" %>
      </div>

      <%= form_with model: @bonus, local: true, class: "needs-validation", novalidate: true do |form| %>
        <% if @bonus.errors.any? %>
          <div class="alert alert-danger">
            <h4><%= pluralize(@bonus.errors.count, "error") %> prohibited this bonus from being saved:</h4>
            <ul class="mb-0">
              <% @bonus.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="row">
          <!-- Левая колонка: Basic Information -->
          <div class="col-lg-4">
            <!-- Basic Information -->
            <div class="card mb-4">
              <div class="card-header">
                <h5 class="card-title mb-0">Basic Information</h5>
              </div>
              <div class="card-body">
                <div class="mb-3">
                  <%= form.label :name, class: "form-label" %>
                  <%= form.text_field :name, class: "form-control", required: true %>
                </div>

                <div class="mb-3">
                  <%= form.label :event, class: "form-label" %>
                  <%= form.select :event, event_type_options, 
                      { selected: @event_type }, 
                      { class: "form-select", required: true, 
                        onchange: "toggleTypeSpecificFields(this.value)" } %>
                </div>

                <div class="mb-3">
                  <%= form.label :status, class: "form-label" %>
                  <%= form.select :status, status_options, 
                      { selected: 'draft' }, 
                      { class: "form-select", required: true } %>
                </div>

                <div class="mb-3">
                  <%= form.label :project, class: "form-label" %>
                  <%= form.select :project, project_options, 
                      { include_blank: "Select project" }, 
                      { class: "form-select" } %>
                </div>

                <div class="mb-3">
                  <%= form.label :dsl_tag, class: "form-label" %>
                  <%= form.text_field :dsl_tag, class: "form-control", 
 %>
                </div>

                <div class="mb-3">
                  <%= form.label :currencies, "Currencies", class: "form-label" %>
                  <%= form.select :currencies, 
                      options_for_select([
                        ['USD', 'USD'], ['EUR', 'EUR'], ['GBP', 'GBP'], ['RUB', 'RUB'],
                        ['UAH', 'UAH'], ['KZT', 'KZT'], ['BTC', 'BTC'], ['ETH', 'ETH']
                      ], @bonus.currencies), 
                      {}, { class: "form-select", multiple: true, 
                           size: 4, style: "height: auto;" } %>

                </div>

                <div class="mb-3">
                  <%= form.label :groups, "Target Groups", class: "form-label" %>
                  <%= form.text_field :groups, class: "form-control", 
 
                      value: @bonus.groups.is_a?(Array) ? @bonus.groups.join(', ') : @bonus.groups %>

                </div>

                <div class="mb-3">
                  <%= form.label :no_more, "Usage Limitation", class: "form-label" %>
                  <%= form.text_field :no_more, class: "form-control", 
 
                      value: @bonus.no_more %>

                </div>

                <div class="mb-3">
                  <%= form.label :totally_no_more, "Total Activation Limit", class: "form-label" %>
                  <%= form.number_field :totally_no_more, class: "form-control", 
                      min: 1, 
                      value: @bonus.totally_no_more %>

                </div>
              </div>
            </div>

            <!-- Financial Information -->
            <div class="card mb-4" id="financial-information-card">
              <div class="card-header">
                <h5 class="card-title mb-0">Financial Information</h5>
              </div>
              <div class="card-body">
                <div class="mb-3" id="minimum-deposit-field" style="display: none;">
                  <%= form.label :minimum_deposit, class: "form-label" %>
                  <%= form.number_field :minimum_deposit, step: 0.01, 
                      class: "form-control", min: 0 %>

                </div>

                <div class="mb-3">
                  <%= form.label :wager, class: "form-label" %>
                  <%= form.number_field :wager, step: 0.01, 
                      class: "form-control", min: 0 %>
                </div>

                <div class="mb-3">
                  <%= form.label :maximum_winnings, class: "form-label" %>
                  <%= form.number_field :maximum_winnings, step: 0.01, 
                      class: "form-control", min: 0 %>
                </div>

                <div class="mb-3">
                  <%= form.label :wagering_strategy, class: "form-label" %>
                  <%= form.select :wagering_strategy, wagering_strategy_options, 
                      { include_blank: "Select strategy" }, 
                      { class: "form-select" } %>
                </div>
              </div>
            </div>

            <!-- Availability -->
            <div class="card mb-4">
              <div class="card-header">
                <h5 class="card-title mb-0">Availability</h5>
              </div>
              <div class="card-body">
                <div class="mb-3">
                  <%= form.label :availability_start_date, class: "form-label" %>
                  <%= form.datetime_local_field :availability_start_date, 
                      class: "form-control", required: true,
                      value: (@bonus.availability_start_date || Time.current).strftime("%Y-%m-%dT%H:%M") %>
                </div>

                <div class="mb-3">
                  <%= form.label :availability_end_date, class: "form-label" %>
                  <%= form.datetime_local_field :availability_end_date, 
                      class: "form-control", required: true,
                      value: (@bonus.availability_end_date || 1.month.from_now).strftime("%Y-%m-%dT%H:%M") %>
                </div>
              </div>
            </div>

            <!-- Actions -->
            <div class="card">
              <div class="card-body">
                <div class="d-grid gap-2">
                  <%= form.submit "Create Bonus", class: "btn btn-primary" %>
                  <%= link_to "Cancel", bonuses_path, class: "btn btn-outline-secondary" %>
                </div>
              </div>
            </div>
          </div>

          <!-- Правая колонка: Type-Specific Fields -->
          <div class="col-lg-8">
            <!-- Type-Specific Fields -->
            <div id="type-specific-fields">
              <%= render "type_specific_form", form: form, bonus: @bonus %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>

<script>
  function toggleTypeSpecificFields(bonusType) {
    const minimumDepositField = document.getElementById('minimum-deposit-field');
    const financialCard = document.getElementById('financial-information-card');
    
    // Типы бонусов, которые не должны показывать minimum_deposit
    const nonDepositTypes = ['input_coupon', 'manual', 'collection', 'groups_update', 'scheduler'];
    
    if (nonDepositTypes.includes(bonusType)) {
      // Скрываем поле minimum_deposit для типов, которые его не используют
      minimumDepositField.style.display = 'none';
      // Очищаем значение поля
      const minimumDepositInput = minimumDepositField.querySelector('input');
      if (minimumDepositInput) {
        minimumDepositInput.value = '';
      }
    } else if (bonusType === 'deposit') {
      // Для депозитных бонусов тоже скрываем, так как используется deposit_amount_required
      minimumDepositField.style.display = 'none';
      const minimumDepositInput = minimumDepositField.querySelector('input');
      if (minimumDepositInput) {
        minimumDepositInput.value = '';
      }
    } else {
      // Показываем поле для других типов (если они появятся в будущем)
      minimumDepositField.style.display = 'block';
    }
    
    console.log('Selected bonus type:', bonusType);
  }
  
  // Инициализируем при загрузке страницы
  document.addEventListener('DOMContentLoaded', function() {
    const bonusTypeSelect = document.querySelector('select[name="bonus[event]"]');
    if (bonusTypeSelect && bonusTypeSelect.value) {
      toggleTypeSpecificFields(bonusTypeSelect.value);
    }
  });
</script>

):
1:    <% content_for :title, "New Bonus" %>
2:    
3:    <div class="container-fluid">
4:      <div class="row">
5:        <div class="col-12">
6:          <div class="d-flex justify-content-between align-items-center mb-4">
7:            <h1 class="h2">Create New Bonus</h1>
8:            <%= link_to "Back to List", bonuses_path, class: "btn btn-outline-secondary" %>
9:          </div>
10:    
11:          <%= form_with model: @bonus, local: true, class: "needs-validation", novalidate: true do |form| %>
12:            <% if @bonus.errors.any? %>
13:              <div class="alert alert-danger">
14:                <h4><%= pluralize(@bonus.errors.count, "error") %> prohibited this bonus from being saved:</h4>
15:                <ul class="mb-0">
16:                  <% @bonus.errors.full_messages.each do |message| %>
17:                    <li><%= message %></li>
18:                  <% end %>
19:                </ul>
20:              </div>
21:            <% end %>
22:    
23:            <div class="row">
24:              <!-- Левая колонка: Basic Information -->
25:              <div class="col-lg-4">
26:                <!-- Basic Information -->
27:                <div class="card mb-4">
28:                  <div class="card-header">
29:                    <h5 class="card-title mb-0">Basic Information</h5>
30:                  </div>
31:                  <div class="card-body">
32:                    <div class="mb-3">
33:                      <%= form.label :name, class: "form-label" %>
34:                      <%= form.text_field :name, class: "form-control", required: true %>
35:                    </div>
36:    
37:                    <div class="mb-3">
38:                      <%= form.label :event, class: "form-label" %>
39:                      <%= form.select :event, event_type_options, 
40:                          { selected: @event_type }, 
41:                          { class: "form-select", required: true, 
42:                            onchange: "toggleTypeSpecificFields(this.value)" } %>
43:                    </div>
44:    
45:                    <div class="mb-3">
46:                      <%= form.label :status, class: "form-label" %>
47:                      <%= form.select :status, status_options, 
48:                          { selected: 'draft' }, 
49:                          { class: "form-select", required: true } %>
50:                    </div>
51:    
52:                    <div class="mb-3">
53:                      <%= form.label :project, class: "form-label" %>
54:                      <%= form.select :project, project_options, 
55:                          { include_blank: "Select project" }, 
56:                          { class: "form-select" } %>
57:                    </div>
58:    
59:                    <div class="mb-3">
60:                      <%= form.label :dsl_tag, class: "form-label" %>
61:                      <%= form.text_field :dsl_tag, class: "form-control", 
62:     %>
63:                    </div>
64:    
65:                    <div class="mb-3">
66:                      <%= form.label :currencies, "Currencies", class: "form-label" %>
67:                      <%= form.select :currencies, 
68:                          options_for_select([
69:                            ['USD', 'USD'], ['EUR', 'EUR'], ['GBP', 'GBP'], ['RUB', 'RUB'],
70:                            ['UAH', 'UAH'], ['KZT', 'KZT'], ['BTC', 'BTC'], ['ETH', 'ETH']
71:                          ], @bonus.currencies), 
72:                          {}, { class: "form-select", multiple: true, 
73:                               size: 4, style: "height: auto;" } %>
74:    
75:                    </div>
76:    
77:                    <div class="mb-3">
78:                      <%= form.label :groups, "Target Groups", class: "form-label" %>
79:                      <%= form.text_field :groups, class: "form-control", 
80:     
81:                          value: @bonus.groups.is_a?(Array) ? @bonus.groups.join(', ') : @bonus.groups %>
82:    
83:                    </div>
84:    
85:                    <div class="mb-3">
86:                      <%= form.label :no_more, "Usage Limitation", class: "form-label" %>
87:                      <%= form.text_field :no_more, class: "form-control", 
88:     
89:                          value: @bonus.no_more %>
90:    
91:                    </div>
92:    
93:                    <div class="mb-3">
94:                      <%= form.label :totally_no_more, "Total Activation Limit", class: "form-label" %>
95:                      <%= form.number_field :totally_no_more, class: "form-control", 
96:                          min: 1, 
97:                          value: @bonus.totally_no_more %>
98:    
99:                    </div>
100:                  </div>
101:                </div>
102:    
103:                <!-- Financial Information -->
104:                <div class="card mb-4" id="financial-information-card">
105:                  <div class="card-header">
106:                    <h5 class="card-title mb-0">Financial Information</h5>
107:                  </div>
108:                  <div class="card-body">
109:                    <div class="mb-3" id="minimum-deposit-field" style="display: none;">
110:                      <%= form.label :minimum_deposit, class: "form-label" %>
111:                      <%= form.number_field :minimum_deposit, step: 0.01, 
112:                          class: "form-control", min: 0 %>
113:    
114:                    </div>
115:    
116:                    <div class="mb-3">
117:                      <%= form.label :wager, class: "form-label" %>
118:                      <%= form.number_field :wager, step: 0.01, 
119:                          class: "form-control", min: 0 %>
120:                    </div>
121:    
122:                    <div class="mb-3">
123:                      <%= form.label :maximum_winnings, class: "form-label" %>
124:                      <%= form.number_field :maximum_winnings, step: 0.01, 
125:                          class: "form-control", min: 0 %>
126:                    </div>
127:    
128:                    <div class="mb-3">
129:                      <%= form.label :wagering_strategy, class: "form-label" %>
130:                      <%= form.select :wagering_strategy, wagering_strategy_options, 
131:                          { include_blank: "Select strategy" }, 
132:                          { class: "form-select" } %>
133:                    </div>
134:                  </div>
135:                </div>
136:    
137:                <!-- Availability -->
138:                <div class="card mb-4">
139:                  <div class="card-header">
140:                    <h5 class="card-title mb-0">Availability</h5>
141:                  </div>
142:                  <div class="card-body">
143:                    <div class="mb-3">
144:                      <%= form.label :availability_start_date, class: "form-label" %>
145:                      <%= form.datetime_local_field :availability_start_date, 
146:                          class: "form-control", required: true,
147:                          value: (@bonus.availability_start_date || Time.current).strftime("%Y-%m-%dT%H:%M") %>
148:                    </div>
149:    
150:                    <div class="mb-3">
151:                      <%= form.label :availability_end_date, class: "form-label" %>
152:                      <%= form.datetime_local_field :availability_end_date, 
153:                          class: "form-control", required: true,
154:                          value: (@bonus.availability_end_date || 1.month.from_now).strftime("%Y-%m-%dT%H:%M") %>
155:                    </div>
156:                  </div>
157:                </div>
158:    
159:                <!-- Actions -->
160:                <div class="card">
161:                  <div class="card-body">
162:                    <div class="d-grid gap-2">
163:                      <%= form.submit "Create Bonus", class: "btn btn-primary" %>
164:                      <%= link_to "Cancel", bonuses_path, class: "btn btn-outline-secondary" %>
165:                    </div>
166:                  </div>
167:                </div>
168:              </div>
169:    
170:              <!-- Правая колонка: Type-Specific Fields -->
171:              <div class="col-lg-8">
172:                <!-- Type-Specific Fields -->
173:                <div id="type-specific-fields">
174:                  <%= render "type_specific_form", form: form, bonus: @bonus %>
175:                </div>
176:              </div>
177:            </div>
178:          <% end %>
179:        </div>
180:      </div>
181:    </div>
182:    
183:    <script>
184:      function toggleTypeSpecificFields(bonusType) {
185:        const minimumDepositField = document.getElementById('minimum-deposit-field');
186:        const financialCard = document.getElementById('financial-information-card');
187:        
188:        // Типы бонусов, которые не должны показывать minimum_deposit
189:        const nonDepositTypes = ['input_coupon', 'manual', 'collection', 'groups_update', 'scheduler'];
190:        
191:        if (nonDepositTypes.includes(bonusType)) {
192:          // Скрываем поле minimum_deposit для типов, которые его не используют
193:          minimumDepositField.style.display = 'none';
194:          // Очищаем значение поля
195:          const minimumDepositInput = minimumDepositField.querySelector('input');
196:          if (minimumDepositInput) {
197:            minimumDepositInput.value = '';
198:          }
199:        } else if (bonusType === 'deposit') {
200:          // Для депозитных бонусов тоже скрываем, так как используется deposit_amount_required
201:          minimumDepositField.style.display = 'none';
202:          const minimumDepositInput = minimumDepositField.querySelector('input');
203:          if (minimumDepositInput) {
204:            minimumDepositInput.value = '';
205:          }
206:        } else {
207:          // Показываем поле для других типов (если они появятся в будущем)
208:          minimumDepositField.style.display = 'block';
209:        }
210:        
211:        console.log('Selected bonus type:', bonusType);
212:      }
213:      
214:      // Инициализируем при загрузке страницы
215:      document.addEventListener('DOMContentLoaded', function() {
216:        const bonusTypeSelect = document.querySelector('select[name="bonus[event]"]');
217:        if (bonusTypeSelect && bonusTypeSelect.value) {
218:          toggleTypeSpecificFields(bonusTypeSelect.value);
219:        }
220:      });
221:    </script>
  
app/views/bonuses/new.html.erb:62: syntax errors found

Information for cause: ActiveSupport::SyntaxErrorProxy (/home/pasha/mbs_promo_retention/app/views/bonuses/new.html.erb:62: syntax errors found
  59 |                 <div class="mb-3">
  60 |                   '.freeze; @output_buffer.append=( form.label :dsl_tag, class: "form-label" ); @output_buffer.safe_append='
> 61 | ... , 
     |     ^ unexpected ')'; expected an argument
> 62 |  ); @output_buffer.safe_append='
 ...
     |  ^ unexpected ')', assuming it is closing the parent parentheses
     |  ^ unexpected ')'; expected an argument
     |   ^ expected an `end` to close the `def` statement
     |   ^ expected a block beginning with `do` to end with `end`
):
  
app/views/bonuses/new.html.erb:62: syntax errors found
Started GET "/favicon.ico" for ::1 at 2025-08-16 15:22:08 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/bonuses/new" for ::1 at 2025-08-16 15:22:49 +0300
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.8ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 18.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | GC: 0.0ms)
Completed 200 OK in 54ms (Views: 26.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 15:22:49 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 15:22:49 +0300
Started GET "/bonuses" for ::1 at 2025-08-16 15:35:48 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.5ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 55.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 72.6ms | GC: 0.0ms)
Completed 200 OK in 120ms (Views: 71.6ms | ActiveRecord: 4.9ms (10 queries, 0 cached) | GC: 0.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 15:35:48 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 15:35:48 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-16 15:35:56 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.7ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 12.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 13.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-16 15:35:57 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | GC: 14.9ms)
Completed 200 OK in 29ms (Views: 21.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 14.9ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-16 15:36:02 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.6ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 2.2ms)
Completed 200 OK in 17ms (Views: 9.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.2ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-16 15:41:19 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.0ms | GC: 0.2ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 7.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | GC: 0.5ms)
Completed 200 OK in 36ms (Views: 11.6ms | ActiveRecord: 1.2ms (0 queries, 0 cached) | GC: 1.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 15:41:19 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 15:41:19 +0300
Started GET "/bonuses" for ::1 at 2025-08-16 15:41:43 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 55.6ms | GC: 16.1ms)
  Rendered layout layouts/application.html.erb (Duration: 58.1ms | GC: 16.8ms)
Completed 200 OK in 68ms (Views: 55.8ms | ActiveRecord: 2.9ms (10 queries, 0 cached) | GC: 16.8ms)


Started GET "/bonuses/76" for ::1 at 2025-08-16 15:41:44 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "76"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 76 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 11.0ms | GC: 1.2ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 13.2ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | GC: 1.2ms)
Completed 200 OK in 28ms (Views: 14.6ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 1.8ms)


Started GET "/bonuses" for ::1 at 2025-08-16 15:42:58 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 60.2ms | GC: 12.3ms)
  Rendered layout layouts/application.html.erb (Duration: 64.3ms | GC: 12.9ms)
Completed 200 OK in 83ms (Views: 62.4ms | ActiveRecord: 4.3ms (10 queries, 0 cached) | GC: 13.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 15:42:58 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 15:42:58 +0300
Started GET "/bonuses" for ::1 at 2025-08-16 15:43:00 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 29.2ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 31.5ms | GC: 1.2ms)
Completed 200 OK in 44ms (Views: 30.0ms | ActiveRecord: 2.1ms (10 queries, 0 cached) | GC: 1.2ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 15:43:00 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 15:43:00 +0300
Started GET "/bonuses" for ::1 at 2025-08-16 15:44:20 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 47.3ms | GC: 2.7ms)
  Rendered layout layouts/application.html.erb (Duration: 51.0ms | GC: 3.1ms)
Completed 200 OK in 70ms (Views: 48.3ms | ActiveRecord: 5.7ms (10 queries, 0 cached) | GC: 5.3ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 15:44:20 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 15:44:20 +0300
Started GET "/bonuses" for ::1 at 2025-08-16 15:44:31 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (1.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 65.1ms | GC: 12.3ms)
  Rendered layout layouts/application.html.erb (Duration: 69.2ms | GC: 12.6ms)
Completed 200 OK in 88ms (Views: 66.5ms | ActiveRecord: 5.3ms (10 queries, 0 cached) | GC: 12.6ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 15:44:31 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 15:44:31 +0300
Started GET "/" for ::1 at 2025-08-16 15:44:32 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 15.4ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | GC: 0.6ms)
Completed 200 OK in 26ms (Views: 16.7ms | ActiveRecord: 0.9ms (10 queries, 0 cached) | GC: 0.8ms)


Started GET "/bonuses" for ::1 at 2025-08-16 15:44:33 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.4ms | GC: 3.7ms)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | GC: 3.7ms)
Completed 200 OK in 33ms (Views: 21.3ms | ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 4.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 15:44:33 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 15:44:33 +0300
Started GET "/bonuses" for ::1 at 2025-08-16 15:44:48 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.6ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | GC: 1.0ms)
Completed 200 OK in 30ms (Views: 20.3ms | ActiveRecord: 1.3ms (10 queries, 0 cached) | GC: 1.4ms)


Started GET "/assets/components/navigation" for ::1 at 2025-08-16 15:44:48 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-16 15:44:48 +0300
Started GET "/bonuses" for ::1 at 2025-08-16 15:47:24 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 19.3ms | ActiveRecord: 0.9ms (10 queries, 0 cached) | GC: 1.3ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 15:47:24 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 15:47:24 +0300
Started GET "/" for ::1 at 2025-08-16 22:48:06 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.5ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 78.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 88.3ms | GC: 0.0ms)
Completed 200 OK in 148ms (Views: 86.2ms | ActiveRecord: 8.5ms (10 queries, 0 cached) | GC: 0.2ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 22:48:06 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 22:48:06 +0300
Started GET "/bonuses/76" for ::1 at 2025-08-16 22:48:34 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "76"}
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 76 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:94:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 10.2ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 12.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 31.5ms | GC: 14.5ms)
Completed 200 OK in 44ms (Views: 32.6ms | ActiveRecord: 1.2ms (8 queries, 0 cached) | GC: 14.5ms)


Started GET "/bonuses/76.json" for ::1 at 2025-08-16 22:48:46 +0300
Processing by BonusesController#show as JSON
  Parameters: {"id" => "76"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 76 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:65:in 'block (2 levels) in BonusesController#show'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:65:in 'block (2 levels) in BonusesController#show'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:65:in 'block (2 levels) in BonusesController#show'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:65:in 'block (2 levels) in BonusesController#show'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:65:in 'block (2 levels) in BonusesController#show'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:65:in 'block (2 levels) in BonusesController#show'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:65:in 'block (2 levels) in BonusesController#show'
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 0.6ms (8 queries, 0 cached) | GC: 0.5ms)


Started GET "/favicon.ico" for ::1 at 2025-08-16 22:48:46 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-16 22:49:07 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.7ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 14.0ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | GC: 0.9ms)
Completed 200 OK in 25ms (Views: 16.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.9ms)


  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddCurrencyMinimumDepositsToBonuses (20250816195250)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "currency_minimum_deposits" text /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250816195250') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses/new" for ::1 at 2025-08-16 22:57:01 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 2.7ms | GC: 1.2ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.3ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 33.2ms | GC: 21.6ms)
  Rendered layout layouts/application.html.erb (Duration: 38.9ms | GC: 23.0ms)
Completed 200 OK in 66ms (Views: 40.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 23.0ms)


Started GET "/assets/components/navigation" for ::1 at 2025-08-16 22:57:01 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-16 22:57:01 +0300
Started POST "/bonuses" for ::1 at 2025-08-16 22:58:22 +0300
Processing by BonusesController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "event" => "deposit", "status" => "draft", "project" => "", "dsl_tag" => "", "currencies" => ["", "USD", "EUR", "GBP", "RUB"], "groups" => "", "no_more" => "", "totally_no_more" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-16T19:57", "availability_end_date" => "2025-09-16T19:57", "currency_minimum_deposits" => {"USD" => "10", "EUR" => "8", "GBP" => "7", "RUB" => "500"}}, "bonus_rewards" => {"0" => {"bonus_type" => "fixed", "amount" => "100", "percentage" => "", "wager" => "", "max_win_fixed" => "", "max_win_multiplier" => "", "available" => "", "code" => "", "min" => "", "groups" => "", "tags" => "", "no_more" => "", "totally_no_more" => "", "stag" => "", "wagering_strategy" => "", "range" => "", "last_login_country" => "", "profile_country" => "", "current_ip_country" => "", "emails" => "[FILTERED]", "deposit_payment_systems" => "", "cashout_payment_systems" => "", "total_deposits" => "", "deposits_sum" => "", "loss_sum" => "", "deposits_count" => "", "spend_sum" => "", "category_loss_sum" => "", "wager_sum" => "", "bets_count" => "", "affiliates_user" => "", "balance" => "", "cashout" => "", "chargeable_comp_points" => "", "persistent_comp_points" => "", "date_of_birth" => "", "deposit" => "", "gender" => "", "issued_bonus" => "", "registered" => "", "social_networks" => "", "hold_min" => "", "hold_max" => ""}}, "max_win_type_0" => "fixed", "commit" => "Create Bonus"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:294:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_47B5E3EA' LIMIT 1 /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:294:in 'block in Bonus#generate_code'
  [1m[36mCACHE Bonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_47B5E3EA' LIMIT 1[0m
  ↳ app/controllers/bonuses_controller.rb:85:in 'block in BonusesController#create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='create',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:85:in 'block in BonusesController#create'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 4.5ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.7ms)
Completed 200 OK in 25ms (Views: 6.2ms | ActiveRecord: 1.4ms (2 queries, 1 cached) | GC: 1.1ms)


Started GET "/bonuses" for ::1 at 2025-08-16 22:58:31 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (10.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 47.4ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 48.7ms | GC: 1.0ms)
Completed 200 OK in 60ms (Views: 38.0ms | ActiveRecord: 11.2ms (10 queries, 0 cached) | GC: 1.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 22:58:31 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 22:58:31 +0300
Started GET "/bonuses/68" for ::1 at 2025-08-16 22:58:31 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "68"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 68 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 68 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 68 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 68 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 68 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 68 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 68 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 68 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 8.7ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 19.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 32.8ms | GC: 10.1ms)
Completed 200 OK in 44ms (Views: 32.8ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 10.1ms)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E9456C0F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_E9456C0F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits") VALUES ('Тестовый депозитный бонус', 'BONUS_E9456C0F', 'active', NULL, NULL, NULL, NULL, '2025-08-16 20:00:42.425702', '2025-09-16 20:00:42.425726', NULL, NULL, NULL, 'USD', NULL, NULL, '2025-08-16 20:01:33.019045', '2025-08-16 20:01:33.019045', NULL, NULL, 'deposit', '["USD","EUR","GBP","RUB"]', NULL, NULL, NULL, '{"USD":10.0,"EUR":8.0,"GBP":7.0,"RUB":500.0}') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses" for ::1 at 2025-08-16 23:02:44 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.7ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.6ms | GC: 2.8ms)
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | GC: 2.8ms)
Completed 200 OK in 34ms (Views: 21.5ms | ActiveRecord: 1.8ms (10 queries, 0 cached) | GC: 2.8ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 23:02:44 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 23:02:44 +0300
Started GET "/bonuses/77" for ::1 at 2025-08-16 23:02:54 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.0ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 5.0ms | GC: 0.3ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 5.7ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.3ms)
Completed 200 OK in 19ms (Views: 7.6ms | ActiveRecord: 0.5ms (8 queries, 0 cached) | GC: 0.3ms)


Started GET "/bonuses/77/edit" for ::1 at 2025-08-16 23:03:05 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.0ms | GC: 0.7ms)
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusReward Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:130
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:131
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:132
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:133
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:134
  Rendered bonuses/_type_specific_form.html.erb (Duration: 57.4ms | GC: 29.3ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 74.5ms | GC: 37.0ms)
  Rendered layout layouts/application.html.erb (Duration: 79.4ms | GC: 39.4ms)
Completed 200 OK in 92ms (Views: 77.9ms | ActiveRecord: 2.5ms (28 queries, 10 cached) | GC: 39.8ms)


Started PATCH "/bonuses/77" for ::1 at 2025-08-16 23:03:23 +0300
Processing by BonusesController#update as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "currency_minimum_deposits[USD" => {"]" => "10.0"}, "currency_minimum_deposits[EUR" => {"]" => "15"}, "currency_minimum_deposits[GBP" => {"]" => "7.0"}, "currency_minimum_deposits[RUB" => {"]" => "500.0"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
[31mUnpermitted parameters: :currency_minimum_deposits[USD, :currency_minimum_deposits[EUR, :currency_minimum_deposits[GBP, :currency_minimum_deposits[RUB. Context: { controller: BonusesController, action: update, request: #<ActionDispatch::Request:0x00007ae39528ca00>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "currency_minimum_deposits[USD" => {"]" => "10.0"}, "currency_minimum_deposits[EUR" => {"]" => "15"}, "currency_minimum_deposits[GBP" => {"]" => "7.0"}, "currency_minimum_deposits[RUB" => {"]" => "500.0"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "controller" => "bonuses", "action" => "update", "id" => "77"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:109:in 'block in BonusesController#update'
  [1m[36mBonus Update (0.1ms)[0m  [1m[33mUPDATE "bonuses" SET "wagering_strategy" = '', "availability_start_date" = '2025-08-16 20:00:00', "availability_end_date" = '2025-09-16 20:00:00', "user_group" = '', "tags" = '', "country" = '', "updated_at" = '2025-08-16 20:03:23.027324', "project" = '', "dsl_tag" = '' WHERE "bonuses"."id" = 77 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:109:in 'block in BonusesController#update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:109:in 'block in BonusesController#update'
Redirected to http://localhost:3000/bonuses/77
Completed 302 Found in 20ms (ActiveRecord: 2.3ms (2 queries, 0 cached) | GC: 1.3ms)


Started GET "/bonuses/77" for ::1 at 2025-08-16 23:03:23 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 6.5ms | GC: 0.5ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 7.9ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | GC: 0.5ms)
Completed 200 OK in 20ms (Views: 10.1ms | ActiveRecord: 0.8ms (8 queries, 0 cached) | GC: 1.2ms)


  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses" for ::1 at 2025-08-16 23:05:22 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.5ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 28.5ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 30.5ms | GC: 1.5ms)
Completed 200 OK in 44ms (Views: 29.9ms | ActiveRecord: 1.7ms (10 queries, 0 cached) | GC: 1.5ms)


Started GET "/bonuses/77/edit" for ::1 at 2025-08-16 23:05:25 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonusReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:130
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:131
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:132
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:133
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:134
  Rendered bonuses/_type_specific_form.html.erb (Duration: 22.6ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 27.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 28.7ms | ActiveRecord: 2.0ms (28 queries, 10 cached) | GC: 0.0ms)


Started GET "/bonuses/77" for ::1 at 2025-08-16 23:05:30 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 7.1ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 10.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 13.4ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/bonuses/77" for ::1 at 2025-08-16 23:05:30 +0300
Processing by BonusesController#update as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "currency_minimum_deposits[USD" => {"]" => "10.0"}, "currency_minimum_deposits[EUR" => {"]" => "9.0"}, "currency_minimum_deposits[GBP" => {"]" => "7.0"}, "currency_minimum_deposits[RUB" => {"]" => "500.0"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
[31mUnpermitted parameters: :currency_minimum_deposits[USD, :currency_minimum_deposits[EUR, :currency_minimum_deposits[GBP, :currency_minimum_deposits[RUB. Context: { controller: BonusesController, action: update, request: #<ActionDispatch::Request:0x00007ae3958b71c8>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "currency_minimum_deposits[USD" => {"]" => "10.0"}, "currency_minimum_deposits[EUR" => {"]" => "9.0"}, "currency_minimum_deposits[GBP" => {"]" => "7.0"}, "currency_minimum_deposits[RUB" => {"]" => "500.0"}, "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "controller" => "bonuses", "action" => "update", "id" => "77"} }[0m
Redirected to http://localhost:3000/bonuses/77
Completed 302 Found in 11ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/77" for ::1 at 2025-08-16 23:05:31 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 9.2ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 10.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 12.5ms | ActiveRecord: 0.8ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/77" for ::1 at 2025-08-16 23:05:35 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 6.9ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 7.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 8.9ms | ActiveRecord: 0.8ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-16 23:05:35 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-16 23:05:35 +0300
Started GET "/" for ::1 at 2025-08-17 11:40:08 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.5ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (1.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 72.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 82.7ms | GC: 0.0ms)
Completed 200 OK in 145ms (Views: 80.3ms | ActiveRecord: 7.5ms (10 queries, 0 cached) | GC: 0.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 11:40:08 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 11:40:08 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-17 11:40:17 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.6ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 13.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 15.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-17 11:41:05 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 39.5ms | GC: 17.8ms)
  Rendered layout layouts/application.html.erb (Duration: 41.2ms | GC: 17.8ms)
Completed 200 OK in 50ms (Views: 40.4ms | ActiveRecord: 1.6ms (10 queries, 0 cached) | GC: 17.8ms)


Started GET "/bonuses/new?event=input_coupon" for ::1 at 2025-08-17 11:41:07 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "input_coupon"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.7ms | GC: 0.4ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 5.2ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.4ms)
Completed 200 OK in 16ms (Views: 7.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.0ms)


Started GET "/" for ::1 at 2025-08-17 11:41:11 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.9ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | GC: 1.5ms)
Completed 200 OK in 33ms (Views: 23.2ms | ActiveRecord: 1.7ms (10 queries, 0 cached) | GC: 1.7ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-17 11:41:13 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 6.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-17 11:45:06 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.9ms | GC: 0.4ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 14.0ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | GC: 0.8ms)
Completed 200 OK in 48ms (Views: 19.2ms | ActiveRecord: 1.3ms (0 queries, 0 cached) | GC: 4.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 11:45:07 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 11:45:07 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 11:45:34 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 11:45:34 +0300
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-17 11:45:34 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-17 11:47:50 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 12.7ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | GC: 3.1ms)
Completed 200 OK in 59ms (Views: 22.0ms | ActiveRecord: 1.5ms (0 queries, 0 cached) | GC: 15.3ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 11:47:50 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 11:47:50 +0300
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-17 11:47:50 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for ::1 at 2025-08-17 11:49:28 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.3ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 69.5ms | GC: 10.7ms)
  Rendered layout layouts/application.html.erb (Duration: 73.5ms | GC: 11.1ms)
Completed 200 OK in 90ms (Views: 69.4ms | ActiveRecord: 5.9ms (10 queries, 0 cached) | GC: 11.1ms)


Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-17 11:49:29 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 2.3ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.4ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 14.4ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | GC: 0.6ms)
Completed 200 OK in 27ms (Views: 17.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 11:49:29 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 11:49:29 +0300
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-17 11:49:29 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/bonuses" for ::1 at 2025-08-17 11:49:39 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 15.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 16.1ms | ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 11:49:40 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 11.5ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 14.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 15.7ms | ActiveRecord: 0.8ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/77/edit" for ::1 at 2025-08-17 11:49:41 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 17.3ms | GC: 0.0ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 22.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 23.0ms | ActiveRecord: 1.7ms (28 queries, 10 cached) | GC: 0.0ms)


Started PATCH "/bonuses/77" for ::1 at 2025-08-17 11:49:46 +0300
Processing by BonusesController#update as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "currency_minimum_deposits[USD" => {"]" => "10.0"}, "currency_minimum_deposits[EUR" => {"]" => "9.0"}, "currency_minimum_deposits[GBP" => {"]" => "7.0"}, "currency_minimum_deposits[RUB" => {"]" => "500.0"}, "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "id" => "77"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
[31mUnpermitted parameters: :currency_minimum_deposits[USD, :currency_minimum_deposits[EUR, :currency_minimum_deposits[GBP, :currency_minimum_deposits[RUB. Context: { controller: BonusesController, action: update, request: #<ActionDispatch::Request:0x0000744e84657ee8>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "currency_minimum_deposits[USD" => {"]" => "10.0"}, "currency_minimum_deposits[EUR" => {"]" => "9.0"}, "currency_minimum_deposits[GBP" => {"]" => "7.0"}, "currency_minimum_deposits[RUB" => {"]" => "500.0"}, "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "controller" => "bonuses", "action" => "update", "id" => "77"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:109:in 'block in BonusesController#update'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:109:in 'block in BonusesController#update'
Redirected to http://localhost:3000/bonuses/77
Completed 302 Found in 25ms (ActiveRecord: 1.6ms (1 query, 0 cached) | GC: 7.9ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 11:49:46 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 11.3ms | GC: 1.3ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 12.4ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 1.3ms)
Completed 200 OK in 24ms (Views: 13.9ms | ActiveRecord: 1.0ms (8 queries, 0 cached) | GC: 1.3ms)


Started GET "/bonuses/new?duplicate=77" for ::1 at 2025-08-17 11:49:48 +0300
Processing by BonusesController#new as HTML
  Parameters: {"duplicate" => "77"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 2.3ms | GC: 1.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 6.9ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | GC: 1.0ms)
Completed 200 OK in 18ms (Views: 8.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.0ms)


Started GET "/" for ::1 at 2025-08-17 11:49:48 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 20.6ms | GC: 1.8ms)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | GC: 1.8ms)
Completed 200 OK in 34ms (Views: 22.2ms | ActiveRecord: 1.3ms (10 queries, 0 cached) | GC: 2.7ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 11:49:49 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 5.9ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 6.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | GC: 0.3ms)
Completed 200 OK in 18ms (Views: 8.4ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 0.5ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-17 11:49:49 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 11:49:49 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 11:49:49 +0300
Started GET "/" for ::1 at 2025-08-17 11:49:50 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.5ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.2ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | GC: 1.4ms)
Completed 200 OK in 34ms (Views: 23.9ms | ActiveRecord: 1.5ms (10 queries, 0 cached) | GC: 1.4ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 11:55:12 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 18.5ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 21.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | GC: 0.0ms)
Completed 200 OK in 47ms (Views: 25.6ms | ActiveRecord: 1.4ms (8 queries, 0 cached) | GC: 1.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-17 11:55:12 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 11:55:12 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 11:55:12 +0300
Started GET "/bonuses/77/edit" for ::1 at 2025-08-17 11:55:15 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 19.0ms | GC: 0.0ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 25.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 27.1ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 26.1ms | ActiveRecord: 1.4ms (28 queries, 10 cached) | GC: 0.0ms)


Started PATCH "/bonuses/77" for ::1 at 2025-08-17 11:55:22 +0300
Processing by BonusesController#update as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "currency_minimum_deposits[USD" => {"]" => "10.0"}, "currency_minimum_deposits[EUR" => {"]" => "9.0"}, "currency_minimum_deposits[GBP" => {"]" => "711.0"}, "currency_minimum_deposits[RUB" => {"]" => "1500.0"}, "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
[31mUnpermitted parameters: :currency_minimum_deposits[USD, :currency_minimum_deposits[EUR, :currency_minimum_deposits[GBP, :currency_minimum_deposits[RUB. Context: { controller: BonusesController, action: update, request: #<ActionDispatch::Request:0x0000744e8485f8d0>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "currency_minimum_deposits[USD" => {"]" => "10.0"}, "currency_minimum_deposits[EUR" => {"]" => "9.0"}, "currency_minimum_deposits[GBP" => {"]" => "711.0"}, "currency_minimum_deposits[RUB" => {"]" => "1500.0"}, "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "controller" => "bonuses", "action" => "update", "id" => "77"} }[0m
Redirected to http://localhost:3000/bonuses/77
Completed 302 Found in 12ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 11:55:22 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 9.0ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 9.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 10.9ms | ActiveRecord: 1.1ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-17 11:55:25 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 32.8ms | GC: 11.1ms)
  Rendered layout layouts/application.html.erb (Duration: 34.5ms | GC: 11.1ms)
Completed 200 OK in 44ms (Views: 33.8ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 11.1ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 11:55:26 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (3.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 10.4ms | GC: 2.8ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 11.5ms | GC: 2.8ms)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | GC: 2.8ms)
Completed 200 OK in 23ms (Views: 13.0ms | ActiveRecord: 0.8ms (8 queries, 0 cached) | GC: 2.8ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 11:55:26 +0300
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-17 11:55:26 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 11:55:26 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/bonuses" for ::1 at 2025-08-17 11:55:27 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.4ms | GC: 3.1ms)
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | GC: 3.1ms)
Completed 200 OK in 35ms (Views: 23.0ms | ActiveRecord: 1.8ms (10 queries, 0 cached) | GC: 3.1ms)


Started GET "/bonuses/77/edit" for ::1 at 2025-08-17 11:55:28 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 22.9ms | GC: 2.4ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 30.4ms | GC: 4.3ms)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | GC: 4.8ms)
Completed 200 OK in 41ms (Views: 31.5ms | ActiveRecord: 1.6ms (28 queries, 10 cached) | GC: 4.8ms)


Started GET "/bonuses" for ::1 at 2025-08-17 11:55:30 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.5ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.9ms | GC: 1.8ms)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | GC: 2.1ms)
Completed 200 OK in 35ms (Views: 22.6ms | ActiveRecord: 1.4ms (10 queries, 0 cached) | GC: 2.1ms)


Started GET "/bonuses/77/edit" for ::1 at 2025-08-17 11:55:31 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:178:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 16.4ms | GC: 0.0ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 20.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | GC: 0.2ms)
Completed 200 OK in 31ms (Views: 20.3ms | ActiveRecord: 1.4ms (28 queries, 10 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-17 11:55:31 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 11:55:31 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 11:55:31 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses/77/edit" for ::1 at 2025-08-17 11:59:47 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 43.4ms | GC: 5.2ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 50.9ms | GC: 6.5ms)
  Rendered layout layouts/application.html.erb (Duration: 54.7ms | GC: 7.0ms)
Completed 200 OK in 83ms (Views: 52.5ms | ActiveRecord: 3.9ms (28 queries, 10 cached) | GC: 11.8ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-17 11:59:47 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 11:59:47 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 11:59:47 +0300
Started PATCH "/bonuses/77" for ::1 at 2025-08-17 11:59:53 +0300
Processing by BonusesController#update as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "currency_minimum_deposits[USD" => {"]" => "10.0"}, "currency_minimum_deposits[EUR" => {"]" => "9.0"}, "currency_minimum_deposits[GBP" => {"]" => "7.0"}, "currency_minimum_deposits[RUB" => {"]" => "500.0"}, "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "id" => "77"}
  [1m[36mBonus Load (0.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
Update params: #<ActionController::Parameters {"_method" => "patch", "authenticity_token" => "atb8k3vs1yhRYgtXf5K1B3u05Ukv39kTBxMpalLtCSAXfxyRDKJCkYaB2LVmLDPK_5auNiQqKV1EsiCTFUtYnQ", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "currency_minimum_deposits[USD" => {"]" => "10.0"}, "currency_minimum_deposits[EUR" => {"]" => "9.0"}, "currency_minimum_deposits[GBP" => {"]" => "7.0"}, "currency_minimum_deposits[RUB" => {"]" => "500.0"}, "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "controller" => "bonuses", "action" => "update", "id" => "77"} permitted: false>
[31mUnpermitted parameters: :currency_minimum_deposits[USD, :currency_minimum_deposits[EUR, :currency_minimum_deposits[GBP, :currency_minimum_deposits[RUB. Context: { controller: BonusesController, action: update, request: #<ActionDispatch::Request:0x0000744e86a70640>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "currency_minimum_deposits[USD" => {"]" => "10.0"}, "currency_minimum_deposits[EUR" => {"]" => "9.0"}, "currency_minimum_deposits[GBP" => {"]" => "7.0"}, "currency_minimum_deposits[RUB" => {"]" => "500.0"}, "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "controller" => "bonuses", "action" => "update", "id" => "77"} }[0m
Bonus params: #<ActionController::Parameters {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00", "user_group" => "", "tags" => "", "country" => "", "currency" => "USD", "project" => "", "dsl_tag" => ""} permitted: true>
Currency minimum deposits params: nil
[31mUnpermitted parameters: :currency_minimum_deposits[USD, :currency_minimum_deposits[EUR, :currency_minimum_deposits[GBP, :currency_minimum_deposits[RUB. Context: { controller: BonusesController, action: update, request: #<ActionDispatch::Request:0x0000744e86a70640>, params: {"_method" => "patch", "authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "currency_minimum_deposits[USD" => {"]" => "10.0"}, "currency_minimum_deposits[EUR" => {"]" => "9.0"}, "currency_minimum_deposits[GBP" => {"]" => "7.0"}, "currency_minimum_deposits[RUB" => {"]" => "500.0"}, "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "controller" => "bonuses", "action" => "update", "id" => "77"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:114:in 'block in BonusesController#update'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:114:in 'block in BonusesController#update'
Redirected to http://localhost:3000/bonuses/77
Completed 302 Found in 57ms (ActiveRecord: 6.0ms (1 query, 0 cached) | GC: 26.3ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 11:59:53 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 34.5ms | GC: 7.5ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 41.3ms | GC: 11.2ms)
  Rendered layout layouts/application.html.erb (Duration: 45.6ms | GC: 11.2ms)
Completed 200 OK in 59ms (Views: 44.6ms | ActiveRecord: 2.7ms (8 queries, 0 cached) | GC: 13.0ms)


Started GET "/heatmap" for ::1 at 2025-08-17 12:00:05 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.8ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.3ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/bonuses/77" for ::1 at 2025-08-17 12:00:06 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 6.1ms | GC: 0.3ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 7.1ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 0.3ms)
Completed 200 OK in 19ms (Views: 8.6ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-17 12:00:06 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 12:00:06 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 12:00:06 +0300
Started GET "/bonuses" for ::1 at 2025-08-17 12:04:49 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 50.7ms | GC: 4.9ms)
  Rendered layout layouts/application.html.erb (Duration: 53.6ms | GC: 4.9ms)
Completed 200 OK in 73ms (Views: 51.2ms | ActiveRecord: 4.4ms (10 queries, 0 cached) | GC: 5.7ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 12:04:49 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 9.6ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 12.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 13.5ms | ActiveRecord: 0.8ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-17 12:04:49 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 12:04:49 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 12:04:49 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/bonuses/77/edit" for ::1 at 2025-08-17 12:04:53 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.0ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 16.5ms | GC: 0.0ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 22.1ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 23.4ms | GC: 0.1ms)
Completed 200 OK in 33ms (Views: 22.8ms | ActiveRecord: 1.2ms (28 queries, 10 cached) | GC: 0.1ms)


Started PATCH "/bonuses/77" for ::1 at 2025-08-17 12:04:58 +0300
Processing by BonusesController#update as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "currency_minimum_deposits" => {"USD" => "10.0", "EUR" => "11.0", "GBP" => "7.0", "RUB" => "500.0"}, "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "id" => "77"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
Update params: #<ActionController::Parameters {"_method" => "patch", "authenticity_token" => "x-L6m4XYOT_jraj6unjzYJoCTW2RwvWL00HY2ottGI66SxqZ8pashjROexijxnWtHiAGEpo3BcWQ4NEjzMtJMw", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "currency_minimum_deposits" => {"USD" => "10.0", "EUR" => "11.0", "GBP" => "7.0", "RUB" => "500.0"}, "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "controller" => "bonuses", "action" => "update", "id" => "77"} permitted: false>
Bonus params: #<ActionController::Parameters {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00", "user_group" => "", "tags" => "", "country" => "", "currency" => "USD", "project" => "", "dsl_tag" => "", "currency_minimum_deposits" => #<ActionController::Parameters {"USD" => "10.0", "EUR" => "11.0", "GBP" => "7.0", "RUB" => "500.0"} permitted: true>} permitted: true>
Currency minimum deposits params: #<ActionController::Parameters {"USD" => "10.0", "EUR" => "11.0", "GBP" => "7.0", "RUB" => "500.0"} permitted: false>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:114:in 'block in BonusesController#update'
  [1m[36mBonus Update (0.1ms)[0m  [1m[33mUPDATE "bonuses" SET "updated_at" = '2025-08-17 09:04:58.400920', "currency_minimum_deposits" = '{"USD":10.0,"EUR":11.0,"GBP":7.0,"RUB":500.0}' WHERE "bonuses"."id" = 77 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:114:in 'block in BonusesController#update'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:114:in 'block in BonusesController#update'
Redirected to http://localhost:3000/bonuses/77
Completed 302 Found in 22ms (ActiveRecord: 4.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 12:04:58 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 7.3ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 8.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 10.2ms | ActiveRecord: 0.9ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-17 12:05:11 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 29.2ms | GC: 7.8ms)
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | GC: 8.7ms)
Completed 200 OK in 41ms (Views: 30.8ms | ActiveRecord: 1.3ms (10 queries, 0 cached) | GC: 8.7ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 12:05:12 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:96:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 5.8ms | GC: 1.1ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 6.5ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | GC: 2.1ms)
Completed 200 OK in 18ms (Views: 9.0ms | ActiveRecord: 0.5ms (8 queries, 0 cached) | GC: 2.1ms)


Started GET "/bonuses" for ::1 at 2025-08-17 12:05:13 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.1ms | GC: 2.3ms)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | GC: 2.5ms)
Completed 200 OK in 30ms (Views: 19.3ms | ActiveRecord: 0.9ms (10 queries, 0 cached) | GC: 2.5ms)


Started GET "/" for ::1 at 2025-08-17 12:05:14 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.4ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | GC: 1.0ms)
Completed 200 OK in 31ms (Views: 19.7ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 1.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-17 12:06:00 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 12.1ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | GC: 0.1ms)
Completed 200 OK in 22ms (Views: 12.8ms | ActiveRecord: 1.0ms (10 queries, 0 cached) | GC: 0.1ms)


Started GET "/bonuses?project=SOL" for ::1 at 2025-08-17 12:06:01 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "SOL"}
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'SOL' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'SOL' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'SOL' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (65, 46, 27, 4) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 10.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 11.4ms | ActiveRecord: 0.9ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=FRESH" for ::1 at 2025-08-17 12:06:01 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "FRESH"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'FRESH' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (64, 45, 26, 3) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 12.3ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-08-17 12:06:02 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.1ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | GC: 2.3ms)
Completed 200 OK in 27ms (Views: 17.5ms | ActiveRecord: 0.8ms (10 queries, 0 cached) | GC: 2.3ms)


Started GET "/bonuses?project=IZZI" for ::1 at 2025-08-17 12:06:08 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "IZZI"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.0ms | GC: 2.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | GC: 2.0ms)
Completed 200 OK in 25ms (Views: 14.9ms | ActiveRecord: 1.0ms (10 queries, 0 cached) | GC: 2.0ms)


Started GET "/bonuses?project=LEGZO" for ::1 at 2025-08-17 12:06:08 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "LEGZO"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'LEGZO' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (68, 49, 30) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.6ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | GC: 0.5ms)
Completed 200 OK in 22ms (Views: 12.3ms | ActiveRecord: 0.9ms (10 queries, 0 cached) | GC: 0.9ms)


Started GET "/bonuses?project=STARDA" for ::1 at 2025-08-17 12:06:09 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "STARDA"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'STARDA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'STARDA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'STARDA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (69, 50, 31) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.5ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | GC: 0.9ms)
Completed 200 OK in 22ms (Views: 12.4ms | ActiveRecord: 0.9ms (10 queries, 0 cached) | GC: 0.9ms)


Started GET "/" for ::1 at 2025-08-17 12:14:51 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 41.0ms | GC: 6.9ms)
  Rendered layout layouts/application.html.erb (Duration: 45.1ms | GC: 7.6ms)
Completed 200 OK in 61ms (Views: 45.0ms | ActiveRecord: 1.9ms (10 queries, 0 cached) | GC: 7.6ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 12:14:52 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 12:14:52 +0300
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to AddDescriptionToBonuses (20250817091841)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "bonuses" ADD "description" text /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250817091841') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started GET "/" for ::1 at 2025-08-17 12:51:32 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 84.4ms | GC: 34.3ms)
  Rendered layout layouts/application.html.erb (Duration: 88.6ms | GC: 34.9ms)
Completed 200 OK in 123ms (Views: 88.1ms | ActiveRecord: 3.7ms (10 queries, 0 cached) | GC: 47.6ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 12:51:32 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 12:51:32 +0300
Started GET "/bonuses/new?event=deposit" for ::1 at 2025-08-17 12:51:36 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.6ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 10.5ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | GC: 0.6ms)
Completed 200 OK in 20ms (Views: 12.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)


Started GET "/" for ::1 at 2025-08-17 12:51:51 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.8ms | GC: 1.8ms)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | GC: 1.8ms)
Completed 200 OK in 31ms (Views: 20.5ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 2.1ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 12:51:51 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 12:51:51 +0300
Started GET "/bonuses" for ::1 at 2025-08-17 12:51:51 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 26.0ms | GC: 7.5ms)
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | GC: 7.5ms)
Completed 200 OK in 37ms (Views: 26.9ms | ActiveRecord: 0.9ms (10 queries, 0 cached) | GC: 7.5ms)


Started GET "/bonuses/77/edit" for ::1 at 2025-08-17 12:51:54 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 22.4ms | GC: 1.3ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 28.9ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 30.6ms | GC: 1.6ms)
Completed 200 OK in 43ms (Views: 30.1ms | ActiveRecord: 1.3ms (28 queries, 10 cached) | GC: 1.9ms)


Started GET "/bonuses/77/edit" for ::1 at 2025-08-17 12:51:59 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.0ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.0ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.0ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 16.1ms | GC: 0.0ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 21.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 21.7ms | ActiveRecord: 1.2ms (28 queries, 10 cached) | GC: 0.0ms)


Started GET "/bonuses/77/edit" for ::1 at 2025-08-17 12:52:01 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.0ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.0ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.0ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 16.8ms | GC: 0.0ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 21.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.7ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 21.9ms | ActiveRecord: 1.3ms (28 queries, 10 cached) | GC: 0.0ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 12:52:04 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 7.3ms | GC: 0.8ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 10.6ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | GC: 6.2ms)
Completed 200 OK in 27ms (Views: 18.1ms | ActiveRecord: 0.6ms (8 queries, 0 cached) | GC: 6.2ms)


Started PATCH "/bonuses/77" for ::1 at 2025-08-17 12:52:05 +0300
Processing by BonusesController#update as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "description" => "фывфывфы", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "currency_minimum_deposits" => {"USD" => "10.0", "EUR" => "11.0", "GBP" => "7.0", "RUB" => "500.0"}, "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
Update params: #<ActionController::Parameters {"_method" => "patch", "authenticity_token" => "wHYDCf0qSVH5omvd0pTKWPguZN_RZw5fMX80XCPjPbu93-MLimTc6C5BuD_LKkyVfAwvoNqS_hFy3j2lZEVsBg", "bonus" => {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "description" => "фывфывфы", "status" => "active", "currency" => "USD", "country" => "", "user_group" => "", "tags" => "", "project" => "", "dsl_tag" => "", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "currency_minimum_deposits" => {"USD" => "10.0", "EUR" => "11.0", "GBP" => "7.0", "RUB" => "500.0"}, "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00"}, "commit" => "Update Bonus", "controller" => "bonuses", "action" => "update", "id" => "77"} permitted: false>
Bonus params: #<ActionController::Parameters {"name" => "Тестовый депозитный бонус", "code" => "BONUS_E9456C0F", "status" => "active", "minimum_deposit" => "", "wager" => "", "maximum_winnings" => "", "wagering_strategy" => "", "availability_start_date" => "2025-08-16T20:00", "availability_end_date" => "2025-09-16T20:00", "user_group" => "", "tags" => "", "country" => "", "currency" => "USD", "project" => "", "dsl_tag" => "", "description" => "фывфывфы", "currency_minimum_deposits" => #<ActionController::Parameters {"USD" => "10.0", "EUR" => "11.0", "GBP" => "7.0", "RUB" => "500.0"} permitted: true>} permitted: true>
Currency minimum deposits params: #<ActionController::Parameters {"USD" => "10.0", "EUR" => "11.0", "GBP" => "7.0", "RUB" => "500.0"} permitted: false>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:114:in 'block in BonusesController#update'
  [1m[36mBonus Update (0.7ms)[0m  [1m[33mUPDATE "bonuses" SET "updated_at" = '2025-08-17 09:52:05.504934' WHERE "bonuses"."id" = 77 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:114:in 'block in BonusesController#update'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:114:in 'block in BonusesController#update'
Redirected to http://localhost:3000/bonuses/77
Completed 302 Found in 20ms (ActiveRecord: 4.5ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 12:52:05 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 5.8ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 7.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | GC: 0.9ms)
Completed 200 OK in 20ms (Views: 9.5ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 1.5ms)


Started GET "/" for ::1 at 2025-08-17 12:52:10 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.0ms | GC: 4.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | GC: 4.0ms)
Completed 200 OK in 35ms (Views: 24.6ms | ActiveRecord: 0.8ms (10 queries, 0 cached) | GC: 4.0ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 12:52:10 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.0ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 4.5ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 5.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 6.7ms | ActiveRecord: 0.5ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 12:52:10 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 12:52:10 +0300
Started GET "/" for ::1 at 2025-08-17 12:52:11 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 25.2ms | GC: 4.7ms)
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | GC: 4.7ms)
Completed 200 OK in 35ms (Views: 26.0ms | ActiveRecord: 1.0ms (10 queries, 0 cached) | GC: 4.7ms)


Started GET "/" for ::1 at 2025-08-17 12:52:17 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.0ms | GC: 2.6ms)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | GC: 2.6ms)
Completed 200 OK in 31ms (Views: 22.0ms | ActiveRecord: 0.9ms (10 queries, 0 cached) | GC: 2.6ms)


Started GET "/bonuses/77/edit" for ::1 at 2025-08-17 12:52:17 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 37.1ms | GC: 18.2ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 42.7ms | GC: 19.2ms)
  Rendered layout layouts/application.html.erb (Duration: 45.3ms | GC: 20.2ms)
Completed 200 OK in 55ms (Views: 44.6ms | ActiveRecord: 1.6ms (28 queries, 10 cached) | GC: 20.5ms)


Started GET "/" for ::1 at 2025-08-17 12:52:29 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 42.2ms | GC: 14.9ms)
  Rendered layout layouts/application.html.erb (Duration: 44.9ms | GC: 15.9ms)
Completed 200 OK in 59ms (Views: 44.5ms | ActiveRecord: 1.9ms (10 queries, 0 cached) | GC: 18.0ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 12:52:31 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 5.6ms | GC: 0.5ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 6.4ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.5ms)
Completed 200 OK in 17ms (Views: 7.8ms | ActiveRecord: 0.5ms (8 queries, 0 cached) | GC: 0.5ms)


Started GET "/bonuses/75" for ::1 at 2025-08-17 12:52:33 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 4.5ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 13.0ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | GC: 0.7ms)
Completed 200 OK in 23ms (Views: 14.4ms | ActiveRecord: 0.5ms (8 queries, 0 cached) | GC: 0.7ms)


Started GET "/bonuses/76" for ::1 at 2025-08-17 12:52:34 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "76"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 76 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 5.1ms | GC: 0.1ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 5.9ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.1ms)
Completed 200 OK in 17ms (Views: 6.9ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 0.1ms)


Started GET "/bonuses/76" for ::1 at 2025-08-17 12:52:41 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "76"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 76 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.0ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 7.8ms | GC: 1.9ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 8.8ms | GC: 1.9ms)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | GC: 1.9ms)
Completed 200 OK in 19ms (Views: 9.9ms | ActiveRecord: 0.9ms (8 queries, 0 cached) | GC: 1.9ms)


Started GET "/bonuses/77" for ::1 at 2025-08-17 12:52:42 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 5.6ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 6.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 7.8ms | ActiveRecord: 0.6ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?duplicate=77" for ::1 at 2025-08-17 12:52:44 +0300
Processing by BonusesController#new as HTML
  Parameters: {"duplicate" => "77"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 5.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/77/preview" for ::1 at 2025-08-17 12:52:45 +0300
Processing by BonusesController#preview as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
Completed 200 OK in 13ms (Views: 0.1ms | ActiveRecord: 0.5ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/77/preview" for ::1 at 2025-08-17 12:52:45 +0300
Processing by BonusesController#preview as HTML
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
  [1m[36mFreechipReward Load (0.0ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='preview',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:149:in 'BonusesController#preview'
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/favicon.ico" for ::1 at 2025-08-17 12:52:45 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/bonuses/new?duplicate=77" for ::1 at 2025-08-17 12:52:47 +0300
Processing by BonusesController#new as HTML
  Parameters: {"duplicate" => "77"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 5.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/heatmap" for ::1 at 2025-08-17 12:52:49 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/bonuses/76" for ::1 at 2025-08-17 12:53:09 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "76"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 76 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 76 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 6.3ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 7.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 8.8ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/73/edit" for ::1 at 2025-08-17 12:53:14 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "73"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 73 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 73 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 73 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 73 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 73 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 73 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 73 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 73 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 73 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 73 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 73 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 73 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 73 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 73 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 73 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 73 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 73 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 73 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 73 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 73 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 73 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.0ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 73 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 73 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 73 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 73 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 73 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 73 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 73 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 16.6ms | GC: 1.7ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 26.1ms | GC: 6.5ms)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | GC: 7.1ms)
Completed 200 OK in 37ms (Views: 27.4ms | ActiveRecord: 1.2ms (28 queries, 10 cached) | GC: 7.1ms)


Started GET "/bonuses/73" for ::1 at 2025-08-17 12:53:15 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "73"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 73 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.0ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 7.1ms | GC: 1.4ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 8.6ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | GC: 2.5ms)
Completed 200 OK in 20ms (Views: 11.1ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 2.5ms)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:295:in 'block in Bonus#generate_code'
  [1m[36mBonus Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7A02F20F' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:295:in 'block in Bonus#generate_code'
  [1m[36mCACHE Bonus Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'BONUS_7A02F20F' LIMIT 1[0m
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description") VALUES ('Test Bonus with Description', 'BONUS_7A02F20F', 'draft', NULL, NULL, NULL, NULL, '2025-08-17 09:54:00.836118', '2025-09-17 09:54:00.836166', NULL, NULL, NULL, 'USD', NULL, NULL, '2025-08-17 09:54:00.855253', '2025-08-17 09:54:00.855253', NULL, NULL, 'deposit', NULL, NULL, NULL, NULL, NULL, 'This is a test description to verify display.') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses/73" for ::1 at 2025-08-17 13:04:48 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "73"}
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 73 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 73 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 5.7ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 7.6ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | GC: 0.7ms)
Completed 200 OK in 21ms (Views: 8.7ms | ActiveRecord: 1.2ms (8 queries, 0 cached) | GC: 1.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:04:49 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:04:49 +0300
Started GET "/bonuses" for ::1 at 2025-08-17 13:04:52 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 20.6ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 22.2ms | GC: 1.4ms)
Completed 200 OK in 31ms (Views: 21.6ms | ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 1.8ms)


Started GET "/bonuses/78/edit" for ::1 at 2025-08-17 13:04:58 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "78"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:184:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:97:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 18.4ms | GC: 0.0ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 23.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 24.8ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 23.9ms | ActiveRecord: 1.3ms (28 queries, 10 cached) | GC: 0.0ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-17 13:05:18 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 15.8ms | GC: 3.2ms)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | GC: 3.2ms)
Completed 200 OK in 27ms (Views: 16.6ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 3.2ms)


Started GET "/bonuses" for ::1 at 2025-08-17 13:05:27 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.2ms | GC: 3.3ms)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | GC: 3.3ms)
Completed 200 OK in 34ms (Views: 23.8ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 3.9ms)


Started GET "/bonuses" for ::1 at 2025-08-17 13:05:31 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:50:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:92
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:111
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.9ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | GC: 1.6ms)
Completed 200 OK in 31ms (Views: 20.8ms | ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 1.6ms)


Started GET "/heatmap" for ::1 at 2025-08-17 13:05:31 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.4ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/heatmap" for ::1 at 2025-08-17 13:05:34 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (1.3ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.4ms (2 queries, 0 cached) | GC: 0.8ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-17 13:13:30 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 28.5ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 31.0ms | GC: 0.6ms)
Completed 200 OK in 54ms (Views: 31.0ms | ActiveRecord: 2.5ms (19 queries, 0 cached) | GC: 1.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:13:30 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:13:30 +0300
Started GET "/bonuses/new?dsl_tag=welcome&event=deposit&name=Welcome+Bonus" for ::1 at 2025-08-17 13:13:39 +0300
Processing by BonusesController#new as HTML
  Parameters: {"dsl_tag" => "welcome", "event" => "deposit", "name" => "Welcome Bonus"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.6ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 10.9ms | GC: 3.4ms)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | GC: 3.4ms)
Completed 200 OK in 23ms (Views: 12.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.4ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-17 13:14:00 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.6ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.1ms | GC: 0.6ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 12.7ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 1.6ms)
Completed 200 OK in 31ms (Views: 14.0ms | ActiveRecord: 2.1ms (19 queries, 0 cached) | GC: 2.1ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:14:00 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:14:00 +0300
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-17 13:14:18 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (1.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.9ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 46.8ms | GC: 7.3ms)
  Rendered layout layouts/application.html.erb (Duration: 49.8ms | GC: 7.6ms)
Completed 200 OK in 124ms (Views: 46.8ms | ActiveRecord: 8.8ms (19 queries, 0 cached) | GC: 45.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:14:18 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:14:18 +0300
Started GET "/bonuses/1/edit" for ::1 at 2025-08-17 13:14:28 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 32.4ms | GC: 2.1ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 39.7ms | GC: 2.5ms)
  Rendered layout layouts/application.html.erb (Duration: 41.4ms | GC: 2.5ms)
Completed 200 OK in 53ms (Views: 39.9ms | ActiveRecord: 2.2ms (28 queries, 10 cached) | GC: 2.5ms)


Started GET "/bonuses/1" for ::1 at 2025-08-17 13:14:38 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mBonus Load (0.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 8.1ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 11.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 12.7ms | ActiveRecord: 1.6ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-17 13:14:47 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 16.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 17.7ms | ActiveRecord: 0.9ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:14:47 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:14:47 +0300
Started GET "/heatmap" for ::1 at 2025-08-17 13:15:08 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.6ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 4.7ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/bonuses" for ::1 at 2025-08-17 13:15:09 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.6ms | GC: 2.2ms)
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | GC: 2.2ms)
Completed 200 OK in 31ms (Views: 19.3ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 2.8ms)


Started GET "/bonuses" for ::1 at 2025-08-17 13:15:10 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 27.0ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 28.2ms | GC: 1.2ms)
Completed 200 OK in 39ms (Views: 27.0ms | ActiveRecord: 1.7ms (10 queries, 0 cached) | GC: 1.2ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:15:10 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:15:10 +0300
Started GET "/" for ::1 at 2025-08-17 13:15:11 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 18.9ms | ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses?type=&status=&search=&project=VOLNA&dsl_tag=&commit=Filter" for ::1 at 2025-08-17 13:15:14 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "", "search" => "", "project" => "VOLNA", "dsl_tag" => "", "commit" => "Filter"}
  [1m[36mBonus Load (1.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 12.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 13.4ms | ActiveRecord: 3.1ms (19 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/1/edit" for ::1 at 2025-08-17 13:15:15 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 20.0ms | GC: 0.0ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 24.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.3ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 25.3ms | ActiveRecord: 1.6ms (28 queries, 10 cached) | GC: 0.0ms)


Started GET "/bonuses/new?dsl_tag=second&event=deposit&name=Second+Bonus" for ::1 at 2025-08-17 13:15:16 +0300
Processing by BonusesController#new as HTML
  Parameters: {"dsl_tag" => "second", "event" => "deposit", "name" => "Second Bonus"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 5.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 7.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/new?dsl_tag=live_cashback&event=deposit&name=Live+Cashback+Bonus" for ::1 at 2025-08-17 13:18:00 +0300
Processing by BonusesController#new as HTML
  Parameters: {"dsl_tag" => "live_cashback", "event" => "deposit", "name" => "Live Cashback Bonus"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 1.9ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 15.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | GC: 0.0ms)
Completed 200 OK in 52ms (Views: 20.1ms | ActiveRecord: 5.1ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/1" for ::1 at 2025-08-17 13:18:11 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "1"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 49.0ms | GC: 11.8ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 54.0ms | GC: 11.8ms)
  Rendered layout layouts/application.html.erb (Duration: 57.0ms | GC: 12.6ms)
Completed 200 OK in 69ms (Views: 54.4ms | ActiveRecord: 3.2ms (8 queries, 0 cached) | GC: 12.6ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-17 13:19:36 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.3ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 38.3ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 41.7ms | GC: 1.9ms)
Completed 200 OK in 74ms (Views: 40.1ms | ActiveRecord: 5.1ms (19 queries, 0 cached) | GC: 3.2ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:19:36 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:19:36 +0300
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-17 13:19:50 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.1ms | GC: 0.5ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.6ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | GC: 0.5ms)
Completed 200 OK in 32ms (Views: 12.3ms | ActiveRecord: 2.2ms (19 queries, 0 cached) | GC: 0.8ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:19:50 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:19:50 +0300
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-17 13:19:56 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 8.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 9.6ms | ActiveRecord: 1.4ms (19 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:19:56 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:19:56 +0300
Started GET "/bonuses/1/edit" for ::1 at 2025-08-17 13:20:00 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 38.7ms | GC: 7.9ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 48.1ms | GC: 7.9ms)
  Rendered layout layouts/application.html.erb (Duration: 50.7ms | GC: 8.8ms)
Completed 200 OK in 68ms (Views: 49.0ms | ActiveRecord: 2.5ms (28 queries, 10 cached) | GC: 8.8ms)


Started GET "/bonuses/1/edit" for ::1 at 2025-08-17 13:20:01 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 19.8ms | GC: 1.0ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 25.0ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 26.7ms | GC: 2.0ms)
Completed 200 OK in 37ms (Views: 25.8ms | ActiveRecord: 1.5ms (28 queries, 10 cached) | GC: 2.0ms)


Started GET "/" for ::1 at 2025-08-17 13:20:06 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.6ms | GC: 2.5ms)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | GC: 2.5ms)
Completed 200 OK in 37ms (Views: 25.7ms | ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 3.3ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-17 13:20:09 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.0ms | GC: 3.1ms)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | GC: 3.1ms)
Completed 200 OK in 31ms (Views: 15.0ms | ActiveRecord: 1.8ms (19 queries, 0 cached) | GC: 3.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:20:09 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:20:09 +0300
Started GET "/bonuses?type=&status=&search=&project=VOLNA&dsl_tag=&commit=Filter" for ::1 at 2025-08-17 13:20:18 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "", "search" => "", "project" => "VOLNA", "dsl_tag" => "", "commit" => "Filter"}
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 12.8ms | ActiveRecord: 2.7ms (19 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:20:18 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:20:18 +0300
Started GET "/bonuses?type=&status=&search=&project=VOLNA&dsl_tag=&commit=Filter" for ::1 at 2025-08-17 13:22:14 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "", "search" => "", "project" => "VOLNA", "dsl_tag" => "", "commit" => "Filter"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 60.0ms | GC: 11.8ms)
  Rendered layout layouts/application.html.erb (Duration: 63.6ms | GC: 12.4ms)
Completed 200 OK in 95ms (Views: 59.9ms | ActiveRecord: 7.2ms (19 queries, 0 cached) | GC: 12.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:22:14 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:22:14 +0300
Started GET "/bonuses?type=&status=&search=&project=VOLNA&dsl_tag=&commit=Filter" for ::1 at 2025-08-17 13:22:17 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "", "search" => "", "project" => "VOLNA", "dsl_tag" => "", "commit" => "Filter"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 2.0ms | GC: 0.9ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.2ms | GC: 2.4ms)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | GC: 2.4ms)
Completed 200 OK in 42ms (Views: 20.6ms | ActiveRecord: 2.4ms (19 queries, 0 cached) | GC: 2.8ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:22:17 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:22:17 +0300
Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-17 13:23:51 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 28.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | GC: 0.4ms)
Completed 200 OK in 62ms (Views: 30.5ms | ActiveRecord: 4.3ms (19 queries, 0 cached) | GC: 1.6ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:23:51 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:23:51 +0300
Started GET "/bonuses/1/edit" for ::1 at 2025-08-17 13:24:02 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 20.3ms | GC: 0.0ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 26.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 27.6ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 26.6ms | ActiveRecord: 1.4ms (28 queries, 10 cached) | GC: 0.0ms)


Started PATCH "/bonuses/1" for ::1 at 2025-08-17 13:24:13 +0300
Processing by BonusesController#update as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Welcome Bonus 100%", "code" => "WELCOME100", "description" => "Bonus for new players with 100% match on first deposit", "status" => "active", "currency" => "USD", "country" => "US", "user_group" => "new_users", "tags" => "welcome, first_deposit, high_value", "project" => "VOLNA", "dsl_tag" => "welcome_bonus", "minimum_deposit" => "", "wager" => "1000.0", "maximum_winnings" => "500.0", "wagering_strategy" => "", "currency_minimum_deposits" => {"USD" => "", "EUR" => "", "GBP" => "", "RUB" => "", "UAH" => "", "KZT" => "", "BTC" => "", "ETH" => ""}, "availability_start_date" => "2025-08-12T00:00", "availability_end_date" => "2025-09-11T00:00"}, "commit" => "Update Bonus", "id" => "1"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
Update params: #<ActionController::Parameters {"_method" => "patch", "authenticity_token" => "lR2CsKRC0s59kcWQIqirkMMlM5Ux6BF-sy83vu2qQYI_xp53hBY8WlmVMWyhA5SthRek7pdMPOUPw3pPiItpHA", "bonus" => {"name" => "Welcome Bonus 100%", "code" => "WELCOME100", "description" => "Bonus for new players with 100% match on first deposit", "status" => "active", "currency" => "USD", "country" => "US", "user_group" => "new_users", "tags" => "welcome, first_deposit, high_value", "project" => "VOLNA", "dsl_tag" => "welcome_bonus", "minimum_deposit" => "", "wager" => "1000.0", "maximum_winnings" => "500.0", "wagering_strategy" => "", "currency_minimum_deposits" => {"USD" => "", "EUR" => "", "GBP" => "", "RUB" => "", "UAH" => "", "KZT" => "", "BTC" => "", "ETH" => ""}, "availability_start_date" => "2025-08-12T00:00", "availability_end_date" => "2025-09-11T00:00"}, "commit" => "Update Bonus", "controller" => "bonuses", "action" => "update", "id" => "1"} permitted: false>
Bonus params: #<ActionController::Parameters {"name" => "Welcome Bonus 100%", "code" => "WELCOME100", "status" => "active", "minimum_deposit" => "", "wager" => "1000.0", "maximum_winnings" => "500.0", "wagering_strategy" => "", "availability_start_date" => "2025-08-12T00:00", "availability_end_date" => "2025-09-11T00:00", "user_group" => "new_users", "tags" => "welcome, first_deposit, high_value", "country" => "US", "currency" => "USD", "project" => "VOLNA", "dsl_tag" => "welcome_bonus", "description" => "Bonus for new players with 100% match on first deposit", "currency_minimum_deposits" => #<ActionController::Parameters {"USD" => "", "EUR" => "", "GBP" => "", "RUB" => "", "UAH" => "", "KZT" => "", "BTC" => "", "ETH" => ""} permitted: true>} permitted: true>
Currency minimum deposits params: #<ActionController::Parameters {"USD" => "", "EUR" => "", "GBP" => "", "RUB" => "", "UAH" => "", "KZT" => "", "BTC" => "", "ETH" => ""} permitted: false>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:117:in 'block in BonusesController#update'
  [1m[36mBonus Update (0.1ms)[0m  [1m[33mUPDATE "bonuses" SET "wagering_strategy" = '', "updated_at" = '2025-08-17 10:24:13.513671', "currency_minimum_deposits" = '{}', "description" = 'Bonus for new players with 100% match on first deposit' WHERE "bonuses"."id" = 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:117:in 'block in BonusesController#update'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:117:in 'block in BonusesController#update'
Redirected to http://localhost:3000/bonuses/1
Completed 302 Found in 22ms (ActiveRecord: 3.4ms (2 queries, 0 cached) | GC: 5.3ms)


Started GET "/bonuses/1" for ::1 at 2025-08-17 13:24:13 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "1"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 7.2ms | GC: 0.8ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 9.8ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | GC: 0.8ms)
Completed 200 OK in 22ms (Views: 11.1ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 1.7ms)


Started GET "/bonuses?project=VOLNA" for ::1 at 2025-08-17 13:24:21 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "VOLNA"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 11.4ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | GC: 1.6ms)
Completed 200 OK in 29ms (Views: 12.5ms | ActiveRecord: 1.6ms (19 queries, 0 cached) | GC: 2.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:24:21 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:24:21 +0300
Started GET "/bonuses?type=&status=&search=&project=VOLNA&dsl_tag=&commit=Filter" for ::1 at 2025-08-17 13:59:44 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "", "search" => "", "project" => "VOLNA", "dsl_tag" => "", "commit" => "Filter"}
  [1m[36mBonus Load (0.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'VOLNA' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (62, 43, 24, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 24.6ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | GC: 0.1ms)
Completed 200 OK in 59ms (Views: 28.1ms | ActiveRecord: 2.6ms (19 queries, 0 cached) | GC: 1.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 13:59:44 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 13:59:44 +0300
Started GET "/bonuses/1/edit" for ::1 at 2025-08-17 13:59:50 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "1"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 18.7ms | GC: 0.0ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 24.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 25.3ms | ActiveRecord: 1.3ms (28 queries, 10 cached) | GC: 0.0ms)


Started GET "/bonuses?project=ROX" for ::1 at 2025-08-17 14:00:05 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "ROX"}
  [1m[36mBonus Load (9.0ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'ROX' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'ROX' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'ROX' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (63, 44, 25, 2) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.3ms | GC: 2.1ms)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | GC: 2.1ms)
Completed 200 OK in 41ms (Views: 15.1ms | ActiveRecord: 10.6ms (19 queries, 0 cached) | GC: 11.5ms)


Started GET "/bonuses?project=IZZI" for ::1 at 2025-08-17 14:00:07 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "IZZI"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.4ms | GC: 0.7ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 14.7ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | GC: 1.8ms)
Completed 200 OK in 37ms (Views: 15.5ms | ActiveRecord: 2.4ms (19 queries, 0 cached) | GC: 3.5ms)


Started GET "/bonuses" for ::1 at 2025-08-17 14:21:35 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 46.9ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 50.0ms | GC: 0.3ms)
Completed 200 OK in 72ms (Views: 49.4ms | ActiveRecord: 2.6ms (10 queries, 0 cached) | GC: 0.9ms)


Started GET "/bonuses?project=IZZI" for ::1 at 2025-08-17 14:21:35 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "IZZI"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 27.9ms | GC: 8.7ms)
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | GC: 8.7ms)
Completed 200 OK in 65ms (Views: 29.2ms | ActiveRecord: 2.9ms (19 queries, 0 cached) | GC: 8.7ms)


Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:21:35 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:21:35 +0300
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to CreateMarketingRequests (20250817112210)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "marketing_requests" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "manager" varchar NOT NULL, "platform" text, "partner_email" varchar NOT NULL, "promo_code" varchar NOT NULL, "stag" varchar NOT NULL, "activation_date" datetime(6), "status" varchar DEFAULT 'pending' NOT NULL, "request_type" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_marketing_requests_on_promo_code" ON "marketing_requests" ("promo_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_marketing_requests_on_stag" ON "marketing_requests" ("stag") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_status" ON "marketing_requests" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_request_type" ON "marketing_requests" ("request_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_partner_email" ON "marketing_requests" ("partner_email") /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250817112210') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses?project=IZZI" for ::1 at 2025-08-17 14:28:25 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  Parameters: {"project" => "IZZI"}
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.3ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 37.0ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 39.8ms | GC: 1.7ms)
Completed 200 OK in 69ms (Views: 39.7ms | ActiveRecord: 3.8ms (19 queries, 0 cached) | GC: 2.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:28:25 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:28:25 +0300
Started GET "/" for ::1 at 2025-08-17 14:28:25 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 30.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 33.6ms | GC: 0.0ms)
Completed 200 OK in 45ms (Views: 32.4ms | ActiveRecord: 1.9ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing" for ::1 at 2025-08-17 14:28:26 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 9.5ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | GC: 1.4ms)
Completed 200 OK in 51ms (Views: 12.1ms | ActiveRecord: 2.0ms (9 queries, 1 cached) | GC: 9.1ms)


Started GET "/marketing" for ::1 at 2025-08-17 14:28:29 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.8ms)
Completed 200 OK in 24ms (Views: 5.7ms | ActiveRecord: 1.1ms (9 queries, 1 cached) | GC: 1.7ms)


Started GET "/marketing" for ::1 at 2025-08-17 14:28:30 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.5ms)
Completed 200 OK in 31ms (Views: 6.0ms | ActiveRecord: 1.3ms (9 queries, 1 cached) | GC: 1.3ms)


Started GET "/heatmap" for ::1 at 2025-08-17 14:28:30 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (1.4ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.7ms (2 queries, 0 cached) | GC: 0.5ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/marketing" for ::1 at 2025-08-17 14:28:31 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.6ms)
Completed 200 OK in 17ms (Views: 4.6ms | ActiveRecord: 0.6ms (9 queries, 1 cached) | GC: 0.6ms)


Started GET "/marketing" for ::1 at 2025-08-17 14:28:32 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 6.9ms | ActiveRecord: 1.6ms (9 queries, 1 cached) | GC: 0.3ms)


Started GET "/marketing" for ::1 at 2025-08-17 14:28:34 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.5ms)
Completed 200 OK in 26ms (Views: 6.8ms | ActiveRecord: 0.9ms (9 queries, 1 cached) | GC: 1.0ms)


Started GET "/marketing" for ::1 at 2025-08-17 14:28:35 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 3.1ms)
Completed 200 OK in 32ms (Views: 8.8ms | ActiveRecord: 1.3ms (9 queries, 1 cached) | GC: 3.5ms)


Started GET "/marketing" for ::1 at 2025-08-17 14:28:36 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 11.0ms | GC: 4.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | GC: 9.0ms)
Completed 200 OK in 73ms (Views: 23.0ms | ActiveRecord: 2.9ms (9 queries, 1 cached) | GC: 22.0ms)


Started GET "/marketing" for ::1 at 2025-08-17 14:28:37 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 10.3ms | GC: 4.4ms)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | GC: 11.0ms)
Completed 200 OK in 51ms (Views: 23.9ms | ActiveRecord: 1.5ms (9 queries, 1 cached) | GC: 19.0ms)


Started GET "/bonuses" for ::1 at 2025-08-17 14:28:40 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.6ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 46.9ms | GC: 12.3ms)
  Rendered layout layouts/application.html.erb (Duration: 48.5ms | GC: 12.3ms)
Completed 200 OK in 67ms (Views: 46.5ms | ActiveRecord: 2.6ms (10 queries, 0 cached) | GC: 13.9ms)


Started GET "/heatmap" for ::1 at 2025-08-17 14:28:40 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (1.2ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.3ms (2 queries, 0 cached) | GC: 2.7ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/marketing" for ::1 at 2025-08-17 14:28:41 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.5ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | GC: 2.1ms)
Completed 200 OK in 35ms (Views: 15.3ms | ActiveRecord: 2.0ms (9 queries, 1 cached) | GC: 2.5ms)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_WEBS_50_00') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_webs_50_0_0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.2ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 1.1', 'https://example-platform0-0.com', 'partner00@example.com', 'PROMO_WEBS_50_00', 'stag_promo_webs_50_0_0', NULL, 'pending', 'promo_webs_50', '2025-08-17 11:32:20.271931', '2025-08-17 11:32:20.271931') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_WEBS_50_01') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_webs_50_0_1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.2ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 1.2', 'Текстовое описание площадки для типа promo_webs_50', 'partner01@example.com', 'PROMO_WEBS_50_01', 'stag_promo_webs_50_0_1', '2025-08-16 11:32:20.278208', 'activated', 'promo_webs_50', '2025-08-17 11:32:20.281492', '2025-08-17 11:32:20.281492') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_WEBS_50_02') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_webs_50_0_2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 1.3', NULL, 'partner02@example.com', 'PROMO_WEBS_50_02', 'stag_promo_webs_50_0_2', '2025-08-16 11:32:20.283275', 'pending', 'promo_webs_50', '2025-08-17 11:32:20.285774', '2025-08-17 11:32:20.285774') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_WEBS_100_10') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_webs_100_1_0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.2ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 2.1', 'https://example-platform1-0.com', 'partner10@example.com', 'PROMO_WEBS_100_10', 'stag_promo_webs_100_1_0', '2025-08-16 11:32:20.288081', 'rejected', 'promo_webs_100', '2025-08-17 11:32:20.291662', '2025-08-17 11:32:20.291662') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_WEBS_100_11') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_webs_100_1_1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 2.2', 'Текстовое описание площадки для типа promo_webs_100', 'partner11@example.com', 'PROMO_WEBS_100_11', 'stag_promo_webs_100_1_1', '2025-08-15 11:32:20.294198', 'activated', 'promo_webs_100', '2025-08-17 11:32:20.298449', '2025-08-17 11:32:20.298449') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_WEBS_100_12') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_webs_100_1_2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 2.3', NULL, 'partner12@example.com', 'PROMO_WEBS_100_12', 'stag_promo_webs_100_1_2', NULL, 'rejected', 'promo_webs_100', '2025-08-17 11:32:20.301833', '2025-08-17 11:32:20.301833') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_NO_LINK_50_20') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_no_link_50_2_0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 3.1', 'https://example-platform2-0.com', 'partner20@example.com', 'PROMO_NO_LINK_50_20', 'stag_promo_no_link_50_2_0', NULL, 'rejected', 'promo_no_link_50', '2025-08-17 11:32:20.305033', '2025-08-17 11:32:20.305033') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_NO_LINK_50_21') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_no_link_50_2_1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 3.2', 'Текстовое описание площадки для типа promo_no_link_50', 'partner21@example.com', 'PROMO_NO_LINK_50_21', 'stag_promo_no_link_50_2_1', '2025-08-15 11:32:20.306236', 'activated', 'promo_no_link_50', '2025-08-17 11:32:20.308431', '2025-08-17 11:32:20.308431') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_NO_LINK_50_22') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_no_link_50_2_2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 3.3', NULL, 'partner22@example.com', 'PROMO_NO_LINK_50_22', 'stag_promo_no_link_50_2_2', NULL, 'pending', 'promo_no_link_50', '2025-08-17 11:32:20.312522', '2025-08-17 11:32:20.312522') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_NO_LINK_100_30') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_no_link_100_3_0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 4.1', 'https://example-platform3-0.com', 'partner30@example.com', 'PROMO_NO_LINK_100_30', 'stag_promo_no_link_100_3_0', '2025-08-16 11:32:20.313818', 'pending', 'promo_no_link_100', '2025-08-17 11:32:20.316004', '2025-08-17 11:32:20.316004') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_NO_LINK_100_31') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_no_link_100_3_1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 4.2', 'Текстовое описание площадки для типа promo_no_link_100', 'partner31@example.com', 'PROMO_NO_LINK_100_31', 'stag_promo_no_link_100_3_1', '2025-08-16 11:32:20.317425', 'pending', 'promo_no_link_100', '2025-08-17 11:32:20.320077', '2025-08-17 11:32:20.320077') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_NO_LINK_100_32') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_no_link_100_3_2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 4.3', NULL, 'partner32@example.com', 'PROMO_NO_LINK_100_32', 'stag_promo_no_link_100_3_2', '2025-08-16 11:32:20.321410', 'pending', 'promo_no_link_100', '2025-08-17 11:32:20.323757', '2025-08-17 11:32:20.323757') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_NO_LINK_125_40') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_no_link_125_4_0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 5.1', 'https://example-platform4-0.com', 'partner40@example.com', 'PROMO_NO_LINK_125_40', 'stag_promo_no_link_125_4_0', NULL, 'rejected', 'promo_no_link_125', '2025-08-17 11:32:20.327921', '2025-08-17 11:32:20.327921') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_NO_LINK_125_41') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_no_link_125_4_1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 5.2', 'Текстовое описание площадки для типа promo_no_link_125', 'partner41@example.com', 'PROMO_NO_LINK_125_41', 'stag_promo_no_link_125_4_1', NULL, 'pending', 'promo_no_link_125', '2025-08-17 11:32:20.332053', '2025-08-17 11:32:20.332053') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_NO_LINK_125_42') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_no_link_125_4_2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 5.3', NULL, 'partner42@example.com', 'PROMO_NO_LINK_125_42', 'stag_promo_no_link_125_4_2', '2025-08-16 11:32:20.333284', 'pending', 'promo_no_link_125', '2025-08-17 11:32:20.335418', '2025-08-17 11:32:20.335418') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_NO_LINK_150_50') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_no_link_150_5_0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 6.1', 'https://example-platform5-0.com', 'partner50@example.com', 'PROMO_NO_LINK_150_50', 'stag_promo_no_link_150_5_0', '2025-08-16 11:32:20.337400', 'rejected', 'promo_no_link_150', '2025-08-17 11:32:20.339872', '2025-08-17 11:32:20.339872') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_NO_LINK_150_51') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_no_link_150_5_1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 6.2', 'Текстовое описание площадки для типа promo_no_link_150', 'partner51@example.com', 'PROMO_NO_LINK_150_51', 'stag_promo_no_link_150_5_1', '2025-08-16 11:32:20.341444', 'pending', 'promo_no_link_150', '2025-08-17 11:32:20.344473', '2025-08-17 11:32:20.344473') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('PROMO_NO_LINK_150_52') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_no_link_150_5_2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 6.3', NULL, 'partner52@example.com', 'PROMO_NO_LINK_150_52', 'stag_promo_no_link_150_5_2', '2025-08-16 11:32:20.346453', 'pending', 'promo_no_link_150', '2025-08-17 11:32:20.349453', '2025-08-17 11:32:20.349453') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('DEPOSIT_BONUSES_PARTNERS_60') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_deposit_bonuses_partners_6_0' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 7.1', 'https://example-platform6-0.com', 'partner60@example.com', 'DEPOSIT_BONUSES_PARTNERS_60', 'stag_deposit_bonuses_partners_6_0', NULL, 'pending', 'deposit_bonuses_partners', '2025-08-17 11:32:20.353977', '2025-08-17 11:32:20.353977') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('DEPOSIT_BONUSES_PARTNERS_61') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_deposit_bonuses_partners_6_1' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.3ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 7.2', 'Текстовое описание площадки для типа deposit_bonuses_partners', 'partner61@example.com', 'DEPOSIT_BONUSES_PARTNERS_61', 'stag_deposit_bonuses_partners_6_1', '2025-08-15 11:32:20.355515', 'activated', 'deposit_bonuses_partners', '2025-08-17 11:32:20.358062', '2025-08-17 11:32:20.358062') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('DEPOSIT_BONUSES_PARTNERS_62') LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_deposit_bonuses_partners_6_2' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Create (0.2ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Менеджер 7.3', NULL, 'partner62@example.com', 'DEPOSIT_BONUSES_PARTNERS_62', 'stag_deposit_bonuses_partners_6_2', '2025-08-16 11:32:20.360068', 'activated', 'deposit_bonuses_partners', '2025-08-17 11:32:20.362766', '2025-08-17 11:32:20.362766') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:9:in 'block (4 levels) in <main>'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:26:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:30:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:30:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:30:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:30:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:30:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:30:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:30:in 'block (3 levels) in <main>'
Started GET "/bonuses?project=IZZI" for ::1 at 2025-08-17 14:32:28 +0300
Processing by BonusesController#index as HTML
  Parameters: {"project" => "IZZI"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'welcome_bonus' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'second' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'third' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'fourth' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'reload_cash' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'reload_freespins' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'birthday' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' AND "bonuses"."dsl_tag" = 'live_cashback' AND "bonuses"."status" = 'active' ORDER BY "bonuses"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:82:in 'Bonus.find_permanent_bonus_for_project'
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."project" = 'IZZI' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (67, 48, 29) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 50.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 54.8ms | GC: 0.0ms)
Completed 200 OK in 81ms (Views: 52.8ms | ActiveRecord: 5.6ms (19 queries, 0 cached) | GC: 0.3ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:32:28 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:32:28 +0300
Started GET "/marketing" for ::1 at 2025-08-17 14:32:29 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 29.8ms | GC: 10.4ms)
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | GC: 11.4ms)
Completed 200 OK in 65ms (Views: 34.1ms | ActiveRecord: 1.5ms (10 queries, 1 cached) | GC: 11.4ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:32:33 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | GC: 0.6ms)
Completed 200 OK in 26ms (Views: 7.9ms | ActiveRecord: 0.8ms (10 queries, 1 cached) | GC: 1.3ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 14:32:34 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | GC: 0.8ms)
Completed 200 OK in 27ms (Views: 10.0ms | ActiveRecord: 0.8ms (10 queries, 1 cached) | GC: 1.5ms)


Started GET "/marketing?tab=promo_no_link_100" for ::1 at 2025-08-17 14:32:35 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.8ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 1.2ms)
Completed 200 OK in 28ms (Views: 9.4ms | ActiveRecord: 0.9ms (10 queries, 1 cached) | GC: 1.2ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:32:36 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.5ms)
Completed 200 OK in 23ms (Views: 6.0ms | ActiveRecord: 2.1ms (10 queries, 1 cached) | GC: 1.1ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 14:32:36 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 8.2ms | ActiveRecord: 1.1ms (10 queries, 1 cached) | GC: 0.9ms)


Started GET "/marketing?tab=promo_no_link_100" for ::1 at 2025-08-17 14:32:37 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_100"}
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.1ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.2ms)
Completed 200 OK in 24ms (Views: 6.9ms | ActiveRecord: 1.0ms (10 queries, 1 cached) | GC: 0.2ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 14:32:37 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 9.3ms | ActiveRecord: 1.1ms (10 queries, 1 cached) | GC: 4.4ms)


Started GET "/marketing?tab=promo_no_link_150" for ::1 at 2025-08-17 14:32:38 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_150"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 5.2ms | ActiveRecord: 0.9ms (10 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing" for ::1 at 2025-08-17 14:33:07 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 5.5ms | ActiveRecord: 0.7ms (10 queries, 1 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:33:07 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:33:07 +0300
Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:33:08 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 8.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 9.9ms | ActiveRecord: 1.0ms (10 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:33:08 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 7.7ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 1.3ms)
Completed 200 OK in 36ms (Views: 10.6ms | ActiveRecord: 0.9ms (10 queries, 1 cached) | GC: 7.9ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 14:33:09 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.9ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.5ms)
Completed 200 OK in 34ms (Views: 7.0ms | ActiveRecord: 1.1ms (10 queries, 1 cached) | GC: 1.4ms)


Started GET "/marketing?tab=promo_no_link_100" for ::1 at 2025-08-17 14:33:09 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 9.4ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | GC: 1.2ms)
Completed 200 OK in 35ms (Views: 11.2ms | ActiveRecord: 2.7ms (10 queries, 1 cached) | GC: 2.4ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 14:33:10 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.7ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 1.3ms)
Completed 200 OK in 26ms (Views: 8.4ms | ActiveRecord: 0.9ms (10 queries, 1 cached) | GC: 2.1ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 14:33:11 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 9.9ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | GC: 0.9ms)
Completed 200 OK in 35ms (Views: 13.3ms | ActiveRecord: 1.0ms (10 queries, 1 cached) | GC: 1.6ms)


Started GET "/marketing?tab=promo_no_link_150" for ::1 at 2025-08-17 14:33:11 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_150"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.5ms)
Completed 200 OK in 26ms (Views: 6.1ms | ActiveRecord: 0.9ms (10 queries, 1 cached) | GC: 2.2ms)


Started GET "/marketing?tab=promo_no_link_150" for ::1 at 2025-08-17 14:33:11 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_150"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.2ms)
Completed 200 OK in 30ms (Views: 6.2ms | ActiveRecord: 1.1ms (10 queries, 1 cached) | GC: 0.5ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 14:33:12 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 7.2ms | ActiveRecord: 0.9ms (10 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:33:13 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.6ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 7.7ms | ActiveRecord: 1.4ms (10 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing/20/edit" for ::1 at 2025-08-17 14:33:16 +0300
Processing by MarketingController#edit as HTML
  Parameters: {"id" => "20"}
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 20 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:82:in 'MarketingController#set_marketing_request'
  Rendering layout layouts/application.html.erb
  Rendering marketing/edit.html.erb within layouts/application
  Rendered marketing/edit.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method 'marketing_request_path' for an instance of #<Class:0x0000744e84eafaa0>)
Caused by: NoMethodError (undefined method 'marketing_request_path' for an instance of #<Class:0x0000744e84eafaa0>)

Information for: ActionView::Template::Error (undefined method 'marketing_request_path' for an instance of #<Class:0x0000744e84eafaa0>):
    39:                 </div>
    40:               <% end %>
    41: 
    42:               <%= form_with model: @marketing_request, local: true, 
    43:                             class: "needs-validation", 
    44:                             data: { turbo: false } do |form| %>
    45:                 
  
app/views/marketing/edit.html.erb:42

Information for cause: NoMethodError (undefined method 'marketing_request_path' for an instance of #<Class:0x0000744e84eafaa0>):
  
app/views/marketing/edit.html.erb:42
Started GET "/marketing/20" for ::1 at 2025-08-17 14:33:17 +0300
Processing by MarketingController#show as HTML
  Parameters: {"id" => "20"}
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 20 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:82:in 'MarketingController#set_marketing_request'
  Rendering layout layouts/application.html.erb
  Rendering marketing/show.html.erb within layouts/application
  Rendered marketing/show.html.erb within layouts/application (Duration: 6.8ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | GC: 0.7ms)
Completed 200 OK in 85ms (Views: 10.2ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 12.4ms)


Started GET "/marketing/20/edit" for ::1 at 2025-08-17 14:33:17 +0300
Processing by MarketingController#edit as HTML
  Parameters: {"id" => "20"}
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 20 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:82:in 'MarketingController#set_marketing_request'
  Rendering layout layouts/application.html.erb
  Rendering marketing/edit.html.erb within layouts/application
  Rendered marketing/edit.html.erb within layouts/application (Duration: 3.4ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.6ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.6ms)


  
ActionView::Template::Error (undefined method 'marketing_request_path' for an instance of #<Class:0x0000744e84eafaa0>)
Caused by: NoMethodError (undefined method 'marketing_request_path' for an instance of #<Class:0x0000744e84eafaa0>)

Information for: ActionView::Template::Error (undefined method 'marketing_request_path' for an instance of #<Class:0x0000744e84eafaa0>):
    39:                 </div>
    40:               <% end %>
    41: 
    42:               <%= form_with model: @marketing_request, local: true, 
    43:                             class: "needs-validation", 
    44:                             data: { turbo: false } do |form| %>
    45:                 
  
app/views/marketing/edit.html.erb:42

Information for cause: NoMethodError (undefined method 'marketing_request_path' for an instance of #<Class:0x0000744e84eafaa0>):
  
app/views/marketing/edit.html.erb:42
Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:33:20 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (1.0ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 6.7ms | ActiveRecord: 1.8ms (10 queries, 1 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:33:20 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:33:20 +0300
Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 14:33:21 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 7.0ms | ActiveRecord: 1.0ms (10 queries, 1 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-08-17 14:34:18 +0300
Processing by BonusesController#index as */*
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 18.4ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-08-17 14:34:18 +0300
Processing by BonusesController#index as */*
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (1.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 31.1ms | GC: 5.7ms)
  Rendered layout layouts/application.html.erb (Duration: 34.3ms | GC: 7.1ms)
Completed 200 OK in 48ms (Views: 36.1ms | ActiveRecord: 2.0ms (10 queries, 0 cached) | GC: 7.1ms)


Started GET "/" for 127.0.0.1 at 2025-08-17 14:34:24 +0300
Processing by BonusesController#index as */*
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.4ms | GC: 2.8ms)
  Rendered layout layouts/application.html.erb (Duration: 25.7ms | GC: 3.5ms)
Completed 200 OK in 36ms (Views: 25.0ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 3.5ms)


Started GET "/" for 127.0.0.1 at 2025-08-17 14:34:24 +0300
Processing by BonusesController#index as */*
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.5ms | GC: 2.3ms)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | GC: 2.3ms)
Completed 200 OK in 32ms (Views: 22.0ms | ActiveRecord: 1.3ms (10 queries, 0 cached) | GC: 2.3ms)


Started GET "/" for 127.0.0.1 at 2025-08-17 14:34:37 +0300
Processing by BonusesController#index as */*
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.4ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | GC: 1.4ms)
Completed 200 OK in 28ms (Views: 18.5ms | ActiveRecord: 0.9ms (10 queries, 0 cached) | GC: 1.4ms)


Started GET "/" for 127.0.0.1 at 2025-08-17 14:34:37 +0300
Processing by BonusesController#index as */*
  [1m[36mBonus Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (1.5ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 53.1ms | GC: 19.0ms)
  Rendered layout layouts/application.html.erb (Duration: 55.6ms | GC: 19.9ms)
Completed 200 OK in 70ms (Views: 53.5ms | ActiveRecord: 3.3ms (10 queries, 0 cached) | GC: 20.5ms)


Started GET "/" for 127.0.0.1 at 2025-08-17 14:34:53 +0300
Processing by BonusesController#index as */*
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.4ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 29.8ms | GC: 13.7ms)
  Rendered layout layouts/application.html.erb (Duration: 32.4ms | GC: 14.9ms)
Completed 200 OK in 42ms (Views: 31.5ms | ActiveRecord: 1.3ms (10 queries, 0 cached) | GC: 15.6ms)


Started GET "/" for ::1 at 2025-08-17 14:35:08 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.3ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 43.9ms | GC: 6.3ms)
  Rendered layout layouts/application.html.erb (Duration: 46.0ms | GC: 6.3ms)
Completed 200 OK in 58ms (Views: 44.9ms | ActiveRecord: 2.0ms (10 queries, 0 cached) | GC: 7.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:35:08 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:35:08 +0300
Started GET "/marketing" for ::1 at 2025-08-17 14:35:16 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.6ms)
Completed 200 OK in 18ms (Views: 5.1ms | ActiveRecord: 0.6ms (10 queries, 1 cached) | GC: 1.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:35:27 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.8ms)
Completed 200 OK in 28ms (Views: 8.6ms | ActiveRecord: 1.0ms (10 queries, 1 cached) | GC: 1.7ms)


Started GET "/marketing/new?request_type=promo_webs_100" for ::1 at 2025-08-17 14:35:36 +0300
Processing by MarketingController#new as HTML
  Parameters: {"request_type" => "promo_webs_100"}
  Rendering layout layouts/application.html.erb
  Rendering marketing/new.html.erb within layouts/application
  Rendered marketing/new.html.erb within layouts/application (Duration: 3.0ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.9ms)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.9ms)


  
ActionView::Template::Error (undefined method 'marketing_requests_path' for an instance of #<Class:0x0000744e84eafaa0>)
Caused by: NoMethodError (undefined method 'marketing_requests_path' for an instance of #<Class:0x0000744e84eafaa0>)

Information for: ActionView::Template::Error (undefined method 'marketing_requests_path' for an instance of #<Class:0x0000744e84eafaa0>):
    23:               </h5>
    24:             </div>
    25:             <div class="card-body">
    26:               <%= form_with model: @marketing_request, local: true, 
    27:                             class: "needs-validation", 
    28:                             data: { turbo: false } do |form| %>
    29:                 
  
app/views/marketing/new.html.erb:26

Information for cause: NoMethodError (undefined method 'marketing_requests_path' for an instance of #<Class:0x0000744e84eafaa0>):
  
app/views/marketing/new.html.erb:26
Started GET "/marketing/new?request_type=promo_webs_100" for ::1 at 2025-08-17 14:36:00 +0300
Processing by MarketingController#new as HTML
  Parameters: {"request_type" => "promo_webs_100"}
  Rendering layout layouts/application.html.erb
  Rendering marketing/new.html.erb within layouts/application
  Rendered marketing/new.html.erb within layouts/application (Duration: 3.8ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 1.5ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.9ms (0 queries, 0 cached) | GC: 4.8ms)


  
ActionView::Template::Error (uninitialized constant #<Class:0x0000744e86370480>::OpenStruct)
Caused by: NameError (uninitialized constant #<Class:0x0000744e86370480>::OpenStruct)

Information for: ActionView::Template::Error (uninitialized constant #<Class:0x0000744e86370480>::OpenStruct):
    44:                     <%= form.select :request_type, 
    45:                                     options_from_collection_for_select(
    46:                                       MarketingRequest::REQUEST_TYPES.map { |type| 
    47:                                         OpenStruct.new(value: type, label: MarketingRequest::REQUEST_TYPE_LABELS[type]) 
    48:                                       }, 
    49:                                       :value, :label, @marketing_request.request_type
    50:                                     ),
  
app/views/marketing/new.html.erb:47
app/views/marketing/new.html.erb:46:in 'Array#map'
app/views/marketing/new.html.erb:46
app/views/marketing/new.html.erb:26

Information for cause: NameError (uninitialized constant #<Class:0x0000744e86370480>::OpenStruct):
  
app/views/marketing/new.html.erb:47
app/views/marketing/new.html.erb:46:in 'Array#map'
app/views/marketing/new.html.erb:46
app/views/marketing/new.html.erb:26
Started GET "/favicon.ico" for ::1 at 2025-08-17 14:36:00 +0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/marketing/new?request_type=promo_webs_100" for ::1 at 2025-08-17 14:36:43 +0300
Processing by MarketingController#new as HTML
  Parameters: {"request_type" => "promo_webs_100"}
  Rendering layout layouts/application.html.erb
  Rendering marketing/new.html.erb within layouts/application
  Rendered marketing/new.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | GC: 0.8ms)
Completed 200 OK in 27ms (Views: 12.8ms | ActiveRecord: 0.9ms (0 queries, 0 cached) | GC: 1.7ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:36:43 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:36:43 +0300
Started POST "/marketing" for ::1 at 2025-08-17 14:37:20 +0300
Processing by MarketingController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "marketing_request" => {"request_type" => "promo_webs_100", "manager" => "Тестовый менеджер", "platform" => "https://test-platform.com", "partner_email" => "[FILTERED]", "promo_code" => "TESTPROMO123", "stag" => "test_stag_unique", "status" => "pending", "activation_date" => ""}, "commit" => "Создать заявку"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:34:in 'MarketingController#create'
  [1m[36mMarketingRequest Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('TESTPROMO123') LIMIT 1 /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:34:in 'MarketingController#create'
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'test_stag_unique' LIMIT 1 /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:34:in 'MarketingController#create'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Тестовый менеджер', 'https://test-platform.com', 'test@partner.com', 'TESTPROMO123', 'test_stag_unique', NULL, 'pending', 'promo_webs_100', '2025-08-17 11:37:20.466687', '2025-08-17 11:37:20.466687') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:34:in 'MarketingController#create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:34:in 'MarketingController#create'
Redirected to http://localhost:3000/marketing?tab=promo_webs_100
Completed 302 Found in 21ms (ActiveRecord: 5.1ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:37:20 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 1.2ms)
Completed 200 OK in 21ms (Views: 8.3ms | ActiveRecord: 0.6ms (10 queries, 1 cached) | GC: 1.2ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:37:20 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:37:20 +0300
Started GET "/marketing/22" for ::1 at 2025-08-17 14:37:31 +0300
Processing by MarketingController#show as HTML
  Parameters: {"id" => "22"}
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 22 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:82:in 'MarketingController#set_marketing_request'
  Rendering layout layouts/application.html.erb
  Rendering marketing/show.html.erb within layouts/application
  Rendered marketing/show.html.erb within layouts/application (Duration: 3.8ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | GC: 4.1ms)
Completed 200 OK in 21ms (Views: 10.4ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 6.1ms)


Started PATCH "/marketing/22/activate?_method=patch" for ::1 at 2025-08-17 14:37:41 +0300
Processing by MarketingController#activate as TURBO_STREAM
  Parameters: {"id" => "22"}
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 22 LIMIT 1 /*action='activate',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:82:in 'MarketingController#set_marketing_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='activate',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:78:in 'MarketingRequest#activate!'
  [1m[36mMarketingRequest Exists? (4.9ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE LOWER("marketing_requests"."promo_code") = LOWER('TESTPROMO123') AND "marketing_requests"."id" != 22 LIMIT 1 /*action='activate',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:78:in 'MarketingRequest#activate!'
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'test_stag_unique' AND "marketing_requests"."id" != 22 LIMIT 1 /*action='activate',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:78:in 'MarketingRequest#activate!'
  [1m[36mMarketingRequest Update (0.1ms)[0m  [1m[33mUPDATE "marketing_requests" SET "activation_date" = '2025-08-17 11:37:41.597326', "status" = 'activated', "updated_at" = '2025-08-17 11:37:41.608930' WHERE "marketing_requests"."id" = 22 /*action='activate',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:78:in 'MarketingRequest#activate!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='activate',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:78:in 'MarketingRequest#activate!'
Redirected to http://localhost:3000/marketing?tab=promo_webs_100
Completed 302 Found in 29ms (ActiveRecord: 5.5ms (4 queries, 0 cached) | GC: 10.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:37:41 +0300
Processing by MarketingController#index as TURBO_STREAM
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 7.9ms | GC: 2.9ms)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | GC: 5.7ms)
Completed 200 OK in 37ms (Views: 14.0ms | ActiveRecord: 2.4ms (10 queries, 1 cached) | GC: 12.3ms)


  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Migrating to ChangePromoCodeToTextInMarketingRequests (20250817114030)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amarketing_requests" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "manager" varchar NOT NULL, "platform" text, "partner_email" varchar NOT NULL, "promo_code" varchar NOT NULL, "stag" varchar NOT NULL, "activation_date" datetime(6), "status" varchar DEFAULT 'pending' NOT NULL, "request_type" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amarketing_requests_on_partner_email" ON "amarketing_requests" ("partner_email") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amarketing_requests_on_request_type" ON "amarketing_requests" ("request_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "tindex_amarketing_requests_on_status" ON "amarketing_requests" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_amarketing_requests_on_stag" ON "amarketing_requests" ("stag") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_amarketing_requests_on_promo_code" ON "amarketing_requests" ("promo_code") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "amarketing_requests" ("id","manager","platform","partner_email","promo_code","stag","activation_date","status","request_type","created_at","updated_at")
                     SELECT "id","manager","platform","partner_email","promo_code","stag","activation_date","status","request_type","created_at","updated_at" FROM "marketing_requests" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "marketing_requests" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "marketing_requests" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "manager" varchar NOT NULL, "platform" text, "partner_email" varchar NOT NULL, "promo_code" text, "stag" varchar NOT NULL, "activation_date" datetime(6), "status" varchar DEFAULT 'pending' NOT NULL, "request_type" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_marketing_requests_on_promo_code" ON "marketing_requests" ("promo_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_marketing_requests_on_stag" ON "marketing_requests" ("stag") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_status" ON "marketing_requests" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_request_type" ON "marketing_requests" ("request_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_partner_email" ON "marketing_requests" ("partner_email") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("id","manager","platform","partner_email","promo_code","stag","activation_date","status","request_type","created_at","updated_at")
                     SELECT "id","manager","platform","partner_email","promo_code","stag","activation_date","status","request_type","created_at","updated_at" FROM "amarketing_requests" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "amarketing_requests" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250817114030') RETURNING "version" /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:44:35 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  Rendered marketing/index.html.erb within layouts/application (Duration: 16.2ms | GC: 2.5ms)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | GC: 3.9ms)
Completed 200 OK in 57ms (Views: 30.6ms | ActiveRecord: 2.8ms (10 queries, 1 cached) | GC: 4.9ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:44:35 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:44:35 +0300
Started GET "/marketing?status=rejected&tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:44:41 +0300
Processing by MarketingController#index as HTML
  Parameters: {"status" => "rejected", "tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' AND "marketing_requests"."status" = 'rejected' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' AND "marketing_requests"."status" = 'rejected' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | GC: 0.8ms)
Completed 200 OK in 33ms (Views: 12.8ms | ActiveRecord: 1.7ms (9 queries, 0 cached) | GC: 1.6ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 14:44:41 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_webs_50_0_0' AND "marketing_requests"."id" != 1 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_webs_50_0_1' AND "marketing_requests"."id" != 2 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'stag_promo_webs_50_0_2' AND "marketing_requests"."id" != 3 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 14.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 16.4ms | ActiveRecord: 1.7ms (13 queries, 1 cached) | GC: 0.0ms)


  [1m[36mMarketingRequest Count (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:37:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.9ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 2 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.6ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 3 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 4 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 5 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.6ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 6 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 7 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 8 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 9 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.7ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 10 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.6ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 11 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.9ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 12 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 13 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 14 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.6ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 15 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 16 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.6ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 17 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 18 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.6ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 19 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 20 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 21 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Destroy (0.6ms)[0m  [1m[31mDELETE FROM "marketing_requests" WHERE "marketing_requests"."id" = 22 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:38:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (1.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" IS NOT NULL ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (1.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (promo_code ILIKE '%CASINO1_WELCOME%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:172:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:53:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.9ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" IS NOT NULL ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%CASINO1_WELCOME%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%CASINO1_BONUS%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Анна Иванова', 'https://casino1.com', 'anna@casino1.com', 'CASINO1_WELCOME, CASINO1_BONUS', 'partner_casino_1', '2025-08-15 11:47:54.680003', 'activated', 'promo_webs_50', '2025-08-17 11:47:54.699034', '2025-08-17 11:47:54.699034') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:53:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:53:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.6ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" IS NOT NULL ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%CASINO2_MEGA%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%CASINO2_SUPER%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.0ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%CASINO2_ULTRA%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Петр Сидоров', 'https://casino2.com', 'petr@casino2.com', 'CASINO2_MEGA, CASINO2_SUPER, CASINO2_ULTRA', 'partner_casino_2', NULL, 'activated', 'promo_webs_100', '2025-08-17 11:47:54.704139', '2025-08-17 11:47:54.704139') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:53:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:53:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.5ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" IS NOT NULL ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%CASINO3_PROMO%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Мария Петрова', 'Партнерская площадка для казино, текстовое описание без ссылки', 'maria@casino3.com', 'CASINO3_PROMO', 'partner_casino_3', NULL, 'pending', 'promo_no_link_50', '2025-08-17 11:47:54.707306', '2025-08-17 11:47:54.707306') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:53:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:53:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.5ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_4' AND "marketing_requests"."id" IS NOT NULL ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%CASINO4_WELCOME%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%CASINO4_RELOAD%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Дмитрий Козлов', NULL, 'dmitry@casino4.com', 'CASINO4_WELCOME, CASINO4_RELOAD', 'partner_casino_4', '2025-08-15 11:47:54.708707', 'activated', 'promo_no_link_100', '2025-08-17 11:47:54.711040', '2025-08-17 11:47:54.711040') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:53:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:53:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.6ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" IS NOT NULL ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%CASINO5_DEPOSIT%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%CASINO5_WEEKEND%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%CASINO5_VIP%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Елена Волкова', 'https://casino5-partners.com', 'elena@casino5.com', 'CASINO5_DEPOSIT, CASINO5_WEEKEND, CASINO5_VIP', 'partner_casino_5', NULL, 'rejected', 'deposit_bonuses_partners', '2025-08-17 11:47:54.715859', '2025-08-17 11:47:54.715859') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:53:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:53:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.7ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" IS NOT NULL ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%ADDITIONAL_125%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Create (0.2ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Игорь Семенов', 'https://additional-partner.com', 'igor@additional.com', 'ADDITIONAL_125', 'additional_partner_1', '2025-08-16 11:47:54.717541', 'activated', 'promo_no_link_125', '2025-08-17 11:47:54.720002', '2025-08-17 11:47:54.720002') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:88:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:88:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (2.7ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'minimal_partner' AND "marketing_requests"."id" IS NOT NULL ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%MINIMAL_150%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%MINIMAL_EXTRA%') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Create (0.2ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('Ольга Красова', NULL, 'olga@minimal.com', 'MINIMAL_150, MINIMAL_EXTRA', 'minimal_partner', '2025-08-16 11:47:54.722082', 'pending', 'promo_no_link_150', '2025-08-17 11:47:54.735582', '2025-08-17 11:47:54.735582') RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:88:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:88:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:100:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:105:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:105:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:105:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:105:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:105:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:105:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:105:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."status" = 'pending' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:111:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."status" = 'activated' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:111:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."status" = 'rejected' /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:111:in 'block (3 levels) in <main>'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(DISTINCT "marketing_requests"."stag") FROM "marketing_requests" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:115:in 'block (2 levels) in <main>'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/create_test_marketing_data.rake:115:in 'block (2 levels) in <main>'
Started GET "/marketing" for ::1 at 2025-08-17 14:48:12 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 13.3ms | GC: 5.4ms)
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | GC: 7.9ms)
Completed 200 OK in 44ms (Views: 23.8ms | ActiveRecord: 1.4ms (11 queries, 1 cached) | GC: 7.9ms)


Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:48:12 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:48:12 +0300
Started GET "/marketing/23" for ::1 at 2025-08-17 14:48:20 +0300
Processing by MarketingController#show as HTML
  Parameters: {"id" => "23"}
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 23 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:107:in 'MarketingController#set_marketing_request'
  Rendering layout layouts/application.html.erb
  Rendering marketing/show.html.erb within layouts/application
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='show',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/show.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.6ms)
Completed 200 OK in 17ms (Views: 6.1ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 1.6ms)


Started GET "/marketing/new" for ::1 at 2025-08-17 14:48:38 +0300
Processing by MarketingController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering marketing/new.html.erb within layouts/application
  Rendered marketing/new.html.erb within layouts/application (Duration: 3.0ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.4ms)
Completed 200 OK in 14ms (Views: 5.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:48:38 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:48:38 +0300
Started POST "/marketing" for ::1 at 2025-08-17 14:49:29 +0300
Processing by MarketingController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "marketing_request" => {"request_type" => "promo_webs_100", "manager" => "Тестовый менеджер", "platform" => "", "partner_email" => "[FILTERED]", "promo_code" => "TEST_PROMO1, TEST_PROMO2, DUPLICATE_CODE", "stag" => "partner_casino_1", "status" => "pending", "activation_date" => ""}, "commit" => "Создать заявку"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.8ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" IS NOT NULL ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%TEST_PROMO1%') /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%TEST_PROMO2%') /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%DUPLICATE_CODE%') /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:34:in 'MarketingController#create'
  Rendering layout layouts/application.html.erb
  Rendering marketing/new.html.erb within layouts/application
  Rendered marketing/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 17ms (Views: 3.0ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:49:29 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:49:29 +0300
Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 14:50:30 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 8.9ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | GC: 0.6ms)
Completed 200 OK in 33ms (Views: 15.8ms | ActiveRecord: 1.4ms (11 queries, 1 cached) | GC: 1.2ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:50:30 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:50:30 +0300
Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 14:50:31 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (4.0ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 11.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 10.3ms | ActiveRecord: 7.0ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 14:50:31 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 6.1ms | ActiveRecord: 0.8ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing/23/edit" for ::1 at 2025-08-17 14:50:38 +0300
Processing by MarketingController#edit as HTML
  Parameters: {"id" => "23"}
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 23 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:107:in 'MarketingController#set_marketing_request'
  Rendering layout layouts/application.html.erb
  Rendering marketing/edit.html.erb within layouts/application
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/edit.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 6.2ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/marketing/23" for ::1 at 2025-08-17 14:50:47 +0300
Processing by MarketingController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "marketing_request" => {"request_type" => "promo_webs_50", "manager" => "Анна Иванова", "platform" => "https://casino1.com", "partner_email" => "[FILTERED]", "promo_code" => "CASINO1_WELCOME123123, CASINO1_BONUS", "stag" => "partner_casino_1", "status" => "activated", "activation_date" => "2025-08-15T11:47"}, "commit" => "Сохранить изменения", "id" => "23"}
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 23 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:107:in 'MarketingController#set_marketing_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.8ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" != 23 AND (UPPER(promo_code) LIKE '%CASINO1_WELCOME123123%') /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" != 23 AND (UPPER(promo_code) LIKE '%CASINO1_BONUS%') /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Update (0.1ms)[0m  [1m[33mUPDATE "marketing_requests" SET "promo_code" = 'CASINO1_WELCOME123123, CASINO1_BONUS', "activation_date" = NULL, "status" = 'pending', "updated_at" = '2025-08-17 11:50:47.149779' WHERE "marketing_requests"."id" = 23 /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:46:in 'MarketingController#update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:46:in 'MarketingController#update'
Redirected to http://localhost:3000/marketing?tab=promo_webs_50
Completed 302 Found in 20ms (ActiveRecord: 3.1ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 14:50:47 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 6.8ms | ActiveRecord: 0.7ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:50:47 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:50:47 +0300
Started GET "/marketing/23/edit" for ::1 at 2025-08-17 14:50:52 +0300
Processing by MarketingController#edit as HTML
  Parameters: {"id" => "23"}
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 23 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:107:in 'MarketingController#set_marketing_request'
  Rendering layout layouts/application.html.erb
  Rendering marketing/edit.html.erb within layouts/application
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/edit.html.erb within layouts/application (Duration: 10.0ms | GC: 6.2ms)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | GC: 6.2ms)
Completed 200 OK in 20ms (Views: 11.4ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 6.2ms)


Started PATCH "/marketing/23" for ::1 at 2025-08-17 14:50:58 +0300
Processing by MarketingController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "marketing_request" => {"request_type" => "promo_webs_100", "manager" => "Анна Иванова", "platform" => "https://casino1.com", "partner_email" => "[FILTERED]", "promo_code" => "CASINO1_WELCOME123123, CASINO1_BONUS", "stag" => "partner_casino_1", "status" => "pending", "activation_date" => ""}, "commit" => "Сохранить изменения", "id" => "23"}
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 23 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:107:in 'MarketingController#set_marketing_request'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.8ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" != 23 AND (UPPER(promo_code) LIKE '%CASINO1_WELCOME123123%') /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" != 23 AND (UPPER(promo_code) LIKE '%CASINO1_BONUS%') /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Update (0.1ms)[0m  [1m[33mUPDATE "marketing_requests" SET "request_type" = 'promo_webs_100', "updated_at" = '2025-08-17 11:50:58.067837' WHERE "marketing_requests"."id" = 23 /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:46:in 'MarketingController#update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:46:in 'MarketingController#update'
Redirected to http://localhost:3000/marketing?tab=promo_webs_100
Completed 302 Found in 16ms (ActiveRecord: 1.3ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:50:58 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | GC: 1.0ms)
Completed 200 OK in 22ms (Views: 8.8ms | ActiveRecord: 1.0ms (12 queries, 1 cached) | GC: 1.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:50:58 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:50:58 +0300
Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:51:01 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (1.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.4ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 1.0ms)
Completed 200 OK in 20ms (Views: 4.8ms | ActiveRecord: 1.8ms (11 queries, 1 cached) | GC: 1.7ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 14:51:01 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.6ms)
Completed 200 OK in 20ms (Views: 4.4ms | ActiveRecord: 0.7ms (9 queries, 1 cached) | GC: 1.4ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:51:02 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.7ms)
Completed 200 OK in 22ms (Views: 6.7ms | ActiveRecord: 0.7ms (11 queries, 1 cached) | GC: 1.3ms)


Started GET "/marketing?status=activated&tab=promo_webs_50" for ::1 at 2025-08-17 14:51:02 +0300
Processing by MarketingController#index as HTML
  Parameters: {"status" => "activated", "tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' AND "marketing_requests"."status" = 'activated' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' AND "marketing_requests"."status" = 'activated' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 4.1ms | ActiveRecord: 0.5ms (9 queries, 0 cached) | GC: 0.3ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:51:02 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 5.4ms | ActiveRecord: 0.9ms (12 queries, 1 cached) | GC: 2.8ms)


Started GET "/marketing?status=rejected&tab=promo_webs_100" for ::1 at 2025-08-17 14:51:16 +0300
Processing by MarketingController#index as HTML
  Parameters: {"status" => "rejected", "tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'rejected' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'rejected' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 3.9ms | ActiveRecord: 0.6ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing/new?request_type=promo_webs_100" for ::1 at 2025-08-17 14:51:17 +0300
Processing by MarketingController#new as HTML
  Parameters: {"request_type" => "promo_webs_100"}
  Rendering layout layouts/application.html.erb
  Rendering marketing/new.html.erb within layouts/application
  Rendered marketing/new.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:51:19 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 5.6ms | ActiveRecord: 0.8ms (12 queries, 1 cached) | GC: 0.0ms)


Started PATCH "/marketing/23/reject?_method=patch" for ::1 at 2025-08-17 14:51:22 +0300
Processing by MarketingController#reject as TURBO_STREAM
  Parameters: {"id" => "23"}
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 23 LIMIT 1 /*action='reject',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:107:in 'MarketingController#set_marketing_request'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='reject',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.6ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='reject',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" != 23 AND (UPPER(promo_code) LIKE '%CASINO1_WELCOME123123%') /*action='reject',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" != 23 AND (UPPER(promo_code) LIKE '%CASINO1_BONUS%') /*action='reject',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Update (0.1ms)[0m  [1m[33mUPDATE "marketing_requests" SET "status" = 'rejected', "updated_at" = '2025-08-17 11:51:22.198741' WHERE "marketing_requests"."id" = 23 /*action='reject',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:84:in 'MarketingRequest#reject!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='reject',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:84:in 'MarketingRequest#reject!'
Redirected to http://localhost:3000/marketing?tab=promo_webs_100
Completed 302 Found in 17ms (ActiveRecord: 1.0ms (5 queries, 0 cached) | GC: 3.5ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:51:22 +0300
Processing by MarketingController#index as TURBO_STREAM
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.6ms)
Completed 200 OK in 20ms (Views: 6.7ms | ActiveRecord: 0.7ms (12 queries, 1 cached) | GC: 1.3ms)


Started GET "/marketing?status=rejected&tab=promo_webs_100" for ::1 at 2025-08-17 14:51:22 +0300
Processing by MarketingController#index as HTML
  Parameters: {"status" => "rejected", "tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'rejected' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'rejected' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'rejected' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.3ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.5ms)
Completed 200 OK in 19ms (Views: 5.8ms | ActiveRecord: 0.8ms (11 queries, 0 cached) | GC: 1.3ms)


Started GET "/marketing/23/edit" for ::1 at 2025-08-17 14:51:24 +0300
Processing by MarketingController#edit as HTML
  Parameters: {"id" => "23"}
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 23 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:107:in 'MarketingController#set_marketing_request'
  Rendering layout layouts/application.html.erb
  Rendering marketing/edit.html.erb within layouts/application
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/edit.html.erb within layouts/application (Duration: 4.0ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.6ms)
Completed 200 OK in 16ms (Views: 5.4ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.6ms)


Started PATCH "/marketing/23" for ::1 at 2025-08-17 14:51:28 +0300
Processing by MarketingController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "marketing_request" => {"request_type" => "promo_webs_100", "manager" => "Анна Иванова", "platform" => "https://casino1.com", "partner_email" => "[FILTERED]", "promo_code" => "CASINO1_WELCOME123123, CASINO1_BONUS", "stag" => "partner_casino_1", "status" => "rejected", "activation_date" => ""}, "commit" => "Сохранить изменения", "id" => "23"}
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 23 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:107:in 'MarketingController#set_marketing_request'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.7ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" != 23 AND (UPPER(promo_code) LIKE '%CASINO1_WELCOME123123%') /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" != 23 AND (UPPER(promo_code) LIKE '%CASINO1_BONUS%') /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:46:in 'MarketingController#update'
Redirected to http://localhost:3000/marketing?tab=promo_webs_100
Completed 302 Found in 13ms (ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:51:28 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.2ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.5ms)
Completed 200 OK in 22ms (Views: 6.9ms | ActiveRecord: 1.0ms (12 queries, 1 cached) | GC: 0.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:51:28 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:51:28 +0300
Started GET "/marketing/23" for ::1 at 2025-08-17 14:51:31 +0300
Processing by MarketingController#show as HTML
  Parameters: {"id" => "23"}
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 23 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:107:in 'MarketingController#set_marketing_request'
  Rendering layout layouts/application.html.erb
  Rendering marketing/show.html.erb within layouts/application
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='show',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/show.html.erb within layouts/application (Duration: 5.0ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.4ms)
Completed 200 OK in 16ms (Views: 7.0ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/marketing/23/edit" for ::1 at 2025-08-17 14:51:33 +0300
Processing by MarketingController#edit as HTML
  Parameters: {"id" => "23"}
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 23 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:107:in 'MarketingController#set_marketing_request'
  Rendering layout layouts/application.html.erb
  Rendering marketing/edit.html.erb within layouts/application
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/edit.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 5.1ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.2ms)


Started PATCH "/marketing/23" for ::1 at 2025-08-17 14:51:38 +0300
Processing by MarketingController#update as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "marketing_request" => {"request_type" => "promo_webs_100", "manager" => "Анна Иванова", "platform" => "https://casino1.com", "partner_email" => "[FILTERED]", "promo_code" => "CASINO1_WELCOME123123, CASINO1_BONUS", "stag" => "partner_casino_1", "status" => "activated", "activation_date" => ""}, "commit" => "Сохранить изменения", "id" => "23"}
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" = 23 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:107:in 'MarketingController#set_marketing_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.9ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" != 23 AND (UPPER(promo_code) LIKE '%CASINO1_WELCOME123123%') /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" != 23 AND (UPPER(promo_code) LIKE '%CASINO1_BONUS%') /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Update (0.0ms)[0m  [1m[33mUPDATE "marketing_requests" SET "status" = 'activated', "updated_at" = '2025-08-17 11:51:38.150435' WHERE "marketing_requests"."id" = 23 /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:46:in 'MarketingController#update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:46:in 'MarketingController#update'
Redirected to http://localhost:3000/marketing?tab=promo_webs_100
Completed 302 Found in 18ms (ActiveRecord: 1.3ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:51:38 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 8.0ms | ActiveRecord: 0.9ms (12 queries, 1 cached) | GC: 1.2ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:51:38 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:51:38 +0300
Started GET "/marketing?status=rejected&tab=promo_webs_100" for ::1 at 2025-08-17 14:51:41 +0300
Processing by MarketingController#index as HTML
  Parameters: {"status" => "rejected", "tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'rejected' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'rejected' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 3.8ms | ActiveRecord: 0.5ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing?status=activated&tab=promo_webs_100" for ::1 at 2025-08-17 14:51:42 +0300
Processing by MarketingController#index as HTML
  Parameters: {"status" => "activated", "tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'activated' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'activated' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'activated' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 6.1ms | ActiveRecord: 0.7ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing?status=pending&tab=promo_webs_100" for ::1 at 2025-08-17 14:51:42 +0300
Processing by MarketingController#index as HTML
  Parameters: {"status" => "pending", "tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'pending' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'pending' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 3.5ms | ActiveRecord: 0.6ms (9 queries, 0 cached) | GC: 4.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:51:43 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.9ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.6ms)
Completed 200 OK in 22ms (Views: 6.2ms | ActiveRecord: 0.9ms (12 queries, 1 cached) | GC: 0.6ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:51:43 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 4.3ms | ActiveRecord: 0.5ms (11 queries, 1 cached) | GC: 0.5ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 14:51:47 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.9ms)
Completed 200 OK in 20ms (Views: 6.1ms | ActiveRecord: 0.7ms (11 queries, 1 cached) | GC: 0.9ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:51:47 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.1ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.6ms)
Completed 200 OK in 19ms (Views: 5.5ms | ActiveRecord: 0.8ms (11 queries, 1 cached) | GC: 0.6ms)


Started GET "/bonuses" for ::1 at 2025-08-17 14:51:56 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 41.3ms | GC: 1.9ms)
  Rendered layout layouts/application.html.erb (Duration: 43.3ms | GC: 2.1ms)
Completed 200 OK in 56ms (Views: 41.5ms | ActiveRecord: 2.7ms (10 queries, 0 cached) | GC: 2.3ms)


Started GET "/heatmap" for ::1 at 2025-08-17 14:51:58 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.5ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.1ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/marketing" for ::1 at 2025-08-17 14:52:14 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | GC: 3.2ms)
Completed 200 OK in 37ms (Views: 14.9ms | ActiveRecord: 1.2ms (9 queries, 1 cached) | GC: 8.7ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 14:52:23 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" != 28 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 8.1ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | GC: 0.7ms)
Completed 200 OK in 23ms (Views: 9.6ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 1.2ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:52:23 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.1ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.6ms)
Completed 200 OK in 19ms (Views: 5.5ms | ActiveRecord: 0.8ms (11 queries, 1 cached) | GC: 0.6ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:52:23 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.5ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.5ms)
Completed 200 OK in 20ms (Views: 5.9ms | ActiveRecord: 0.8ms (12 queries, 1 cached) | GC: 0.5ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:52:34 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.3ms)
Completed 200 OK in 20ms (Views: 5.1ms | ActiveRecord: 0.8ms (11 queries, 1 cached) | GC: 0.3ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:52:34 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.2ms)
Completed 200 OK in 20ms (Views: 6.4ms | ActiveRecord: 0.8ms (12 queries, 1 cached) | GC: 1.4ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:52:36 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 5.4ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:52:37 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 6.8ms | ActiveRecord: 1.1ms (12 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:52:40 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 6.0ms | ActiveRecord: 0.7ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing" for ::1 at 2025-08-17 14:54:35 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | GC: 1.1ms)
Completed 200 OK in 43ms (Views: 11.9ms | ActiveRecord: 1.2ms (9 queries, 1 cached) | GC: 7.6ms)


Started GET "/assets/components/_navigation-e845f4c0.css" for ::1 at 2025-08-17 14:54:35 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:54:35 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:54:35 +0300
Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:54:36 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 7.7ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | GC: 0.7ms)
Completed 200 OK in 36ms (Views: 10.3ms | ActiveRecord: 1.6ms (11 queries, 1 cached) | GC: 0.7ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:54:36 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 12.7ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | GC: 1.1ms)
Completed 200 OK in 35ms (Views: 14.8ms | ActiveRecord: 1.5ms (12 queries, 1 cached) | GC: 1.7ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 14:54:36 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 11.3ms | ActiveRecord: 2.1ms (11 queries, 1 cached) | GC: 1.7ms)


Started GET "/marketing?tab=promo_no_link_100" for ::1 at 2025-08-17 14:54:37 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_4' AND "marketing_requests"."id" != 26 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 8.4ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | GC: 0.8ms)
Completed 200 OK in 36ms (Views: 10.6ms | ActiveRecord: 1.5ms (11 queries, 1 cached) | GC: 0.8ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 14:54:38 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.4ms)
Completed 200 OK in 29ms (Views: 8.4ms | ActiveRecord: 0.7ms (9 queries, 1 cached) | GC: 0.7ms)


Started GET "/marketing" for ::1 at 2025-08-17 14:54:46 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 11.2ms | GC: 6.3ms)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | GC: 11.0ms)
Completed 200 OK in 55ms (Views: 22.4ms | ActiveRecord: 1.3ms (9 queries, 1 cached) | GC: 17.6ms)


Started GET "/assets/components/_navigation-69b4e3ae.css" for ::1 at 2025-08-17 14:54:46 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 14:54:46 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 14:54:46 +0300
Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 14:54:48 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (2.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 24.7ms | GC: 9.3ms)
  Rendered layout layouts/application.html.erb (Duration: 34.9ms | GC: 13.0ms)
Completed 200 OK in 72ms (Views: 34.4ms | ActiveRecord: 2.7ms (11 queries, 1 cached) | GC: 21.8ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:54:49 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 17.5ms | GC: 7.8ms)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | GC: 11.1ms)
Completed 200 OK in 59ms (Views: 22.4ms | ActiveRecord: 2.6ms (12 queries, 1 cached) | GC: 21.1ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 14:54:49 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.3ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 1.1ms)
Completed 200 OK in 31ms (Views: 9.0ms | ActiveRecord: 1.2ms (11 queries, 1 cached) | GC: 1.8ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 14:54:49 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 1.0ms)
Completed 200 OK in 35ms (Views: 9.8ms | ActiveRecord: 1.1ms (9 queries, 1 cached) | GC: 2.4ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:54:50 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.9ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.8ms)
Completed 200 OK in 29ms (Views: 6.3ms | ActiveRecord: 2.1ms (12 queries, 1 cached) | GC: 1.9ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 14:54:51 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.7ms)
Completed 200 OK in 25ms (Views: 5.2ms | ActiveRecord: 0.9ms (9 queries, 1 cached) | GC: 1.6ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 14:54:52 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 7.8ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | GC: 0.6ms)
Completed 200 OK in 28ms (Views: 9.5ms | ActiveRecord: 1.5ms (12 queries, 1 cached) | GC: 1.7ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 14:54:52 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.3ms)
Completed 200 OK in 24ms (Views: 4.8ms | ActiveRecord: 0.8ms (9 queries, 1 cached) | GC: 0.8ms)


Started GET "/" for ::1 at 2025-08-17 16:40:53 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.4ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 75.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 84.9ms | GC: 0.0ms)
Completed 200 OK in 146ms (Views: 83.0ms | ActiveRecord: 6.2ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 16:40:53 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 16:40:53 +0300
Started GET "/marketing" for ::1 at 2025-08-17 17:01:03 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | GC: 0.6ms)
Completed 200 OK in 57ms (Views: 13.7ms | ActiveRecord: 1.8ms (9 queries, 1 cached) | GC: 18.2ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 17:01:04 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.4ms)
Completed 200 OK in 18ms (Views: 3.6ms | ActiveRecord: 0.5ms (9 queries, 1 cached) | GC: 0.4ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 17:01:04 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 12.5ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 1.1ms)
Completed 200 OK in 34ms (Views: 14.1ms | ActiveRecord: 1.3ms (11 queries, 1 cached) | GC: 1.7ms)


Started GET "/marketing" for ::1 at 2025-08-17 17:24:19 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.2ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 1.2ms)
Completed 200 OK in 28ms (Views: 6.9ms | ActiveRecord: 1.2ms (9 queries, 1 cached) | GC: 2.0ms)


Started GET "/assets/components/_navigation-df4aba81.css" for ::1 at 2025-08-17 17:24:19 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 17:24:19 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 17:24:19 +0300
Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 17:24:20 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 7.2ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 17:24:20 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 1.0ms)
Completed 200 OK in 42ms (Views: 8.8ms | ActiveRecord: 1.1ms (12 queries, 1 cached) | GC: 17.5ms)


Started GET "/assets/components/navigation" for ::1 at 2025-08-17 17:24:37 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 17:24:37 +0300
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-17 17:24:37 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 17:24:57 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" != 28 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | GC: 0.4ms)
Completed 200 OK in 24ms (Views: 10.3ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 0.7ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 17:24:57 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 5.1ms | ActiveRecord: 0.9ms (9 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 17:24:57 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 5.6ms | ActiveRecord: 1.2ms (12 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 17:24:58 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.0ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.9ms)
Completed 200 OK in 30ms (Views: 7.5ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 9.0ms)


Started GET "/marketing" for ::1 at 2025-08-17 17:26:38 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.2ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.5ms)
Completed 200 OK in 26ms (Views: 6.6ms | ActiveRecord: 0.9ms (9 queries, 1 cached) | GC: 2.0ms)


Started GET "/assets/components/_navigation-2eb41db3.css" for ::1 at 2025-08-17 17:26:38 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 17:26:38 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 17:26:38 +0300
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for ::1 at 2025-08-17 17:26:38 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/marketing?tab=promo_no_link_150" for ::1 at 2025-08-17 17:26:39 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_150"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'minimal_partner' AND "marketing_requests"."id" != 29 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 4.8ms | ActiveRecord: 0.7ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 17:26:52 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.9ms | GC: 2.2ms)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | GC: 2.2ms)
Completed 200 OK in 22ms (Views: 8.6ms | ActiveRecord: 0.6ms (11 queries, 1 cached) | GC: 2.2ms)


Started GET "/marketing?tab=promo_no_link_100" for ::1 at 2025-08-17 17:27:18 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_4' AND "marketing_requests"."id" != 26 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.3ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.8ms)
Completed 200 OK in 21ms (Views: 5.7ms | ActiveRecord: 1.4ms (11 queries, 1 cached) | GC: 0.8ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 17:27:19 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.8ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 2.2ms)
Completed 200 OK in 22ms (Views: 9.7ms | ActiveRecord: 0.7ms (11 queries, 1 cached) | GC: 2.2ms)


Started GET "/marketing?tab=promo_no_link_100" for ::1 at 2025-08-17 17:27:24 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_4' AND "marketing_requests"."id" != 26 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.5ms)
Completed 200 OK in 24ms (Views: 6.0ms | ActiveRecord: 1.2ms (11 queries, 1 cached) | GC: 1.6ms)


Started GET "/marketing" for ::1 at 2025-08-17 17:27:41 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.3ms | GC: 2.4ms)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | GC: 4.7ms)
Completed 200 OK in 55ms (Views: 11.5ms | ActiveRecord: 0.9ms (9 queries, 1 cached) | GC: 30.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 17:27:41 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 17:27:41 +0300
Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 17:27:42 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 9.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | GC: 0.7ms)
Completed 200 OK in 38ms (Views: 11.8ms | ActiveRecord: 1.5ms (12 queries, 1 cached) | GC: 10.1ms)


Started GET "/marketing" for ::1 at 2025-08-17 17:30:32 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.4ms)
Completed 200 OK in 24ms (Views: 4.9ms | ActiveRecord: 0.5ms (9 queries, 1 cached) | GC: 2.3ms)


Started GET "/assets/components/_navigation-958d295c.css" for ::1 at 2025-08-17 17:30:32 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 17:30:32 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 17:30:32 +0300
Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 17:30:33 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.2ms)
Completed 200 OK in 22ms (Views: 6.2ms | ActiveRecord: 1.1ms (11 queries, 1 cached) | GC: 0.4ms)


Started GET "/marketing?tab=promo_no_link_100" for ::1 at 2025-08-17 17:30:33 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_4' AND "marketing_requests"."id" != 26 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 5.9ms | ActiveRecord: 1.2ms (11 queries, 1 cached) | GC: 1.0ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 17:30:34 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" != 28 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 4.8ms | ActiveRecord: 1.0ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:12:02 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.1ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 1.0ms)
Completed 200 OK in 27ms (Views: 8.1ms | ActiveRecord: 2.3ms (12 queries, 1 cached) | GC: 2.5ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 18:12:02 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.4ms)
Completed 200 OK in 22ms (Views: 6.2ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 1.7ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:12:02 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:78
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | GC: 0.4ms)
Completed 200 OK in 30ms (Views: 8.3ms | ActiveRecord: 1.7ms (12 queries, 1 cached) | GC: 1.3ms)


Started GET "/marketing" for ::1 at 2025-08-17 18:12:05 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:54
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:62
  Rendered marketing/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.3ms)
Completed 200 OK in 18ms (Views: 4.8ms | ActiveRecord: 0.4ms (9 queries, 1 cached) | GC: 0.5ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:12:05 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:12:05 +0300
Started GET "/marketing?tab=promo_no_link_100" for ::1 at 2025-08-17 18:12:45 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.4ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_4' AND "marketing_requests"."id" != 26 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 15.2ms | GC: 2.3ms)
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | GC: 3.6ms)
Completed 200 OK in 53ms (Views: 25.8ms | ActiveRecord: 2.5ms (11 queries, 1 cached) | GC: 8.7ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 18:12:45 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.8ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | GC: 0.2ms)
Completed 200 OK in 24ms (Views: 7.8ms | ActiveRecord: 1.2ms (11 queries, 1 cached) | GC: 0.2ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:12:45 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.4ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 11.3ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | GC: 0.7ms)
Completed 200 OK in 35ms (Views: 13.3ms | ActiveRecord: 1.8ms (12 queries, 1 cached) | GC: 0.7ms)


Started GET "/marketing?status=rejected&tab=promo_webs_50" for ::1 at 2025-08-17 18:12:46 +0300
Processing by MarketingController#index as HTML
  Parameters: {"status" => "rejected", "tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' AND "marketing_requests"."status" = 'rejected' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' AND "marketing_requests"."status" = 'rejected' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 6.3ms | ActiveRecord: 1.0ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/_navigation-bdbff3eb.css" for ::1 at 2025-08-17 18:12:46 +0300
Started GET "/marketing" for ::1 at 2025-08-17 18:12:55 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.6ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | GC: 0.4ms)
Completed 200 OK in 35ms (Views: 16.3ms | ActiveRecord: 1.2ms (9 queries, 1 cached) | GC: 1.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:12:55 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:12:55 +0300
Started GET "/marketing" for ::1 at 2025-08-17 18:18:27 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  Rendered marketing/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 4.0ms | ActiveRecord: 0.5ms (9 queries, 1 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:18:27 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:18:27 +0300
Started GET "/" for ::1 at 2025-08-17 18:18:27 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 53.9ms | GC: 3.3ms)
  Rendered layout layouts/application.html.erb (Duration: 56.2ms | GC: 3.3ms)
Completed 200 OK in 68ms (Views: 53.3ms | ActiveRecord: 3.9ms (10 queries, 0 cached) | GC: 3.8ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:18:37 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 26.8ms | GC: 14.1ms)
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | GC: 16.8ms)
Completed 200 OK in 53ms (Views: 31.1ms | ActiveRecord: 2.0ms (12 queries, 1 cached) | GC: 22.1ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 18:18:38 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.8ms)
Completed 200 OK in 40ms (Views: 6.4ms | ActiveRecord: 1.7ms (11 queries, 1 cached) | GC: 10.1ms)


Started GET "/marketing?tab=promo_no_link_100" for ::1 at 2025-08-17 18:18:39 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_4' AND "marketing_requests"."id" != 26 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.5ms)
Completed 200 OK in 22ms (Views: 5.2ms | ActiveRecord: 1.0ms (11 queries, 1 cached) | GC: 1.2ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 18:18:40 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" != 28 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.3ms)
Completed 200 OK in 20ms (Views: 4.9ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 0.7ms)


Started GET "/marketing?tab=promo_no_link_150" for ::1 at 2025-08-17 18:18:41 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_150"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'minimal_partner' AND "marketing_requests"."id" != 29 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 1.0ms)
Completed 200 OK in 23ms (Views: 6.6ms | ActiveRecord: 1.1ms (11 queries, 1 cached) | GC: 1.4ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 18:18:42 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  Rendered marketing/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 3.4ms | ActiveRecord: 0.7ms (9 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 18:18:43 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 8.7ms | ActiveRecord: 0.8ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:18:43 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 7.0ms | ActiveRecord: 1.1ms (12 queries, 1 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-17 18:18:46 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 26.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.2ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 27.5ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing" for ::1 at 2025-08-17 18:18:48 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 4.0ms | ActiveRecord: 0.7ms (9 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:18:49 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 7.6ms | ActiveRecord: 1.1ms (12 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?status=activated&tab=promo_webs_100" for ::1 at 2025-08-17 18:18:51 +0300
Processing by MarketingController#index as HTML
  Parameters: {"status" => "activated", "tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'activated' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'activated' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'activated' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 8.0ms | ActiveRecord: 1.0ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 18:18:55 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 4.8ms | ActiveRecord: 0.7ms (9 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 18:18:55 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  Rendered marketing/index.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 3.5ms | ActiveRecord: 0.7ms (9 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?status=activated&tab=promo_webs_100" for ::1 at 2025-08-17 18:18:58 +0300
Processing by MarketingController#index as HTML
  Parameters: {"status" => "activated", "tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'activated' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'activated' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'activated' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 7.6ms | ActiveRecord: 1.2ms (12 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for ::1 at 2025-08-17 18:19:02 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 24.8ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 24.0ms | ActiveRecord: 1.3ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:19:49 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 7.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | GC: 1.2ms)
Completed 200 OK in 37ms (Views: 14.2ms | ActiveRecord: 1.0ms (12 queries, 1 cached) | GC: 4.2ms)


Started GET "/assets/components/_navigation-7d52c460.css" for ::1 at 2025-08-17 18:19:50 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:19:50 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:19:50 +0300
Started GET "/" for ::1 at 2025-08-17 18:19:50 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.8ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 24.7ms | GC: 3.2ms)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | GC: 3.2ms)
Completed 200 OK in 36ms (Views: 24.7ms | ActiveRecord: 1.9ms (10 queries, 0 cached) | GC: 3.2ms)


Started GET "/bonuses" for ::1 at 2025-08-17 18:20:12 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 20.7ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | GC: 1.2ms)
Completed 200 OK in 36ms (Views: 23.1ms | ActiveRecord: 1.0ms (10 queries, 0 cached) | GC: 2.0ms)


Started GET "/" for ::1 at 2025-08-17 18:20:12 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.9ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.5ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | GC: 1.0ms)
Completed 200 OK in 34ms (Views: 23.6ms | ActiveRecord: 2.0ms (10 queries, 0 cached) | GC: 1.0ms)


Started GET "/bonuses" for ::1 at 2025-08-17 18:20:12 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | GC: 0.5ms)
Completed 200 OK in 31ms (Views: 19.7ms | ActiveRecord: 1.0ms (10 queries, 0 cached) | GC: 0.5ms)


Started GET "/bonuses" for ::1 at 2025-08-17 18:20:14 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 18.9ms | ActiveRecord: 1.0ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing" for ::1 at 2025-08-17 18:20:18 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 3.7ms | ActiveRecord: 0.6ms (9 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?status=activated&tab=promo_webs_50" for ::1 at 2025-08-17 18:20:20 +0300
Processing by MarketingController#index as HTML
  Parameters: {"status" => "activated", "tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' AND "marketing_requests"."status" = 'activated' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' AND "marketing_requests"."status" = 'activated' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 3.5ms | ActiveRecord: 0.9ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:20:20 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.7ms)
Completed 200 OK in 24ms (Views: 8.3ms | ActiveRecord: 0.8ms (12 queries, 1 cached) | GC: 1.5ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:21:08 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.7ms)
Completed 200 OK in 32ms (Views: 8.0ms | ActiveRecord: 0.8ms (12 queries, 1 cached) | GC: 2.7ms)


Started GET "/assets/components/_navigation-1e28f3d9.css" for ::1 at 2025-08-17 18:21:08 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:21:08 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:21:08 +0300
Started GET "/marketing?status=activated&tab=promo_webs_100" for ::1 at 2025-08-17 18:21:08 +0300
Processing by MarketingController#index as HTML
  Parameters: {"status" => "activated", "tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'activated' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'activated' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' AND "marketing_requests"."status" = 'activated' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.1ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.4ms)
Completed 200 OK in 24ms (Views: 8.2ms | ActiveRecord: 1.0ms (12 queries, 0 cached) | GC: 0.4ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:21:16 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 9.8ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | GC: 0.3ms)
Completed 200 OK in 40ms (Views: 12.6ms | ActiveRecord: 1.6ms (12 queries, 1 cached) | GC: 1.2ms)


Started GET "/assets/components/_navigation-7bf10583.css" for ::1 at 2025-08-17 18:21:16 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:21:16 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:21:16 +0300
Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 18:21:18 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.2ms)
Completed 200 OK in 23ms (Views: 8.4ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 0.2ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:22:11 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.3ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 7.4ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 0.2ms)
Completed 200 OK in 32ms (Views: 9.2ms | ActiveRecord: 1.4ms (12 queries, 1 cached) | GC: 1.2ms)


Started GET "/assets/components/_navigation-3d6bfe2b.css" for ::1 at 2025-08-17 18:22:11 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:22:11 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:22:11 +0300
Started GET "/marketing?tab=promo_no_link_150" for ::1 at 2025-08-17 18:22:28 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_150"}
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:18:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150'[0m
  ↳ app/views/marketing/index.html.erb:51
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:59
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:75
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'minimal_partner' AND "marketing_requests"."id" != 29 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 5.9ms | ActiveRecord: 1.0ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:28:14 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 14.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.6ms | GC: 4.8ms)
Completed 200 OK in 46ms (Views: 30.3ms | ActiveRecord: 1.6ms (12 queries, 1 cached) | GC: 4.8ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:28:14 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:28:14 +0300
Started GET "/marketing?tab=promo_webs_50" for ::1 at 2025-08-17 18:29:20 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.5ms)
Completed 200 OK in 20ms (Views: 5.0ms | ActiveRecord: 0.7ms (9 queries, 1 cached) | GC: 0.9ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:29:21 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.8ms)
Completed 200 OK in 25ms (Views: 7.5ms | ActiveRecord: 1.2ms (12 queries, 1 cached) | GC: 1.9ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 18:29:22 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.8ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.5ms)
Completed 200 OK in 22ms (Views: 6.2ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 1.3ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:29:23 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.5ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.3ms)
Completed 200 OK in 24ms (Views: 6.1ms | ActiveRecord: 1.0ms (12 queries, 1 cached) | GC: 0.8ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 18:29:23 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.2ms)
Completed 200 OK in 24ms (Views: 6.8ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 1.4ms)


Started GET "/marketing?tab=promo_no_link_100" for ::1 at 2025-08-17 18:29:23 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_100"}
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_4' AND "marketing_requests"."id" != 26 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.5ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 0.3ms)
Completed 200 OK in 22ms (Views: 7.4ms | ActiveRecord: 1.0ms (11 queries, 1 cached) | GC: 0.3ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 18:29:24 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" != 28 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.3ms)
Completed 200 OK in 21ms (Views: 6.8ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 0.3ms)


Started GET "/marketing?tab=promo_no_link_150" for ::1 at 2025-08-17 18:29:25 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_150"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'minimal_partner' AND "marketing_requests"."id" != 29 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.4ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.6ms)
Completed 200 OK in 25ms (Views: 8.0ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 0.6ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 18:29:25 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" != 28 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 4.6ms | ActiveRecord: 1.5ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 18:29:26 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 7.7ms | ActiveRecord: 2.2ms (11 queries, 1 cached) | GC: 0.0ms)


Started GET "/bonuses" for ::1 at 2025-08-17 18:29:40 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 46.6ms | GC: 8.2ms)
  Rendered layout layouts/application.html.erb (Duration: 48.2ms | GC: 8.2ms)
Completed 200 OK in 61ms (Views: 47.5ms | ActiveRecord: 1.4ms (10 queries, 0 cached) | GC: 8.2ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:30:11 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.6ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.7ms)
Completed 200 OK in 23ms (Views: 8.1ms | ActiveRecord: 1.8ms (12 queries, 1 cached) | GC: 1.3ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 18:30:11 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.4ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.7ms)
Completed 200 OK in 25ms (Views: 6.1ms | ActiveRecord: 1.4ms (11 queries, 1 cached) | GC: 0.7ms)


Started GET "/marketing?tab=promo_no_link_100" for ::1 at 2025-08-17 18:30:12 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_4' AND "marketing_requests"."id" != 26 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 9.5ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | GC: 0.7ms)
Completed 200 OK in 30ms (Views: 12.3ms | ActiveRecord: 1.2ms (11 queries, 1 cached) | GC: 1.5ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 18:30:12 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" != 28 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.2ms)
Completed 200 OK in 22ms (Views: 5.5ms | ActiveRecord: 1.1ms (11 queries, 1 cached) | GC: 1.4ms)


Started GET "/marketing?tab=promo_no_link_150" for ::1 at 2025-08-17 18:30:13 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_150"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'minimal_partner' AND "marketing_requests"."id" != 29 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.3ms)
Completed 200 OK in 22ms (Views: 5.8ms | ActiveRecord: 0.9ms (11 queries, 1 cached) | GC: 0.3ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for ::1 at 2025-08-17 18:30:13 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.6ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.3ms)
Completed 200 OK in 22ms (Views: 7.2ms | ActiveRecord: 1.2ms (11 queries, 1 cached) | GC: 0.3ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 18:30:19 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" != 28 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.2ms)
Completed 200 OK in 22ms (Views: 5.2ms | ActiveRecord: 1.4ms (11 queries, 1 cached) | GC: 0.2ms)


Started GET "/marketing/new?request_type=promo_no_link_150" for ::1 at 2025-08-17 18:30:34 +0300
Processing by MarketingController#new as HTML
  Parameters: {"request_type" => "promo_no_link_150"}
  Rendering layout layouts/application.html.erb
  Rendering marketing/new.html.erb within layouts/application
  Rendered marketing/new.html.erb within layouts/application (Duration: 14.3ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 0.3ms)
Completed 200 OK in 25ms (Views: 16.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)


Started GET "/marketing/new?request_type=promo_no_link_150" for ::1 at 2025-08-17 18:30:45 +0300
Processing by MarketingController#new as HTML
  Parameters: {"request_type" => "promo_no_link_150"}
  Rendering layout layouts/application.html.erb
  Rendering marketing/new.html.erb within layouts/application
  Rendered marketing/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing" for ::1 at 2025-08-17 18:30:45 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 6.8ms | ActiveRecord: 0.6ms (9 queries, 1 cached) | GC: 0.0ms)


Started POST "/marketing" for ::1 at 2025-08-17 18:32:30 +0300
Processing by MarketingController#create as HTML
  Parameters: {"authenticity_token" => "[FILTERED]", "marketing_request" => {"request_type" => "promo_no_link_125", "manager" => "паша дурак ", "platform" => "rutube", "partner_email" => "[FILTERED]", "promo_code" => "ORANGEMORANGE", "stag" => "423784", "status" => "pending", "activation_date" => "2025-08-10T18:32"}, "commit" => "Создать заявку"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.7ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '423784' AND "marketing_requests"."id" IS NOT NULL ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:153:in 'MarketingRequest#stag_uniqueness_across_all_types'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."id" IS NOT NULL AND (UPPER(promo_code) LIKE '%ORANGEMORANGE%') /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:173:in 'block in MarketingRequest#promo_codes_uniqueness_across_all_types'
  [1m[36mMarketingRequest Create (0.1ms)[0m  [1m[32mINSERT INTO "marketing_requests" ("manager", "platform", "partner_email", "promo_code", "stag", "activation_date", "status", "request_type", "created_at", "updated_at") VALUES ('паша дурак ', 'rutube', 'p.rusakevich@jetmail.cc', 'ORANGEMORANGE', '423784', '2025-08-10 18:32:00', 'pending', 'promo_no_link_125', '2025-08-17 15:32:30.983177', '2025-08-17 15:32:30.983177') RETURNING "id" /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:43:in 'MarketingController#create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:43:in 'MarketingController#create'
Redirected to http://localhost:3000/marketing?tab=promo_no_link_125
Completed 302 Found in 15ms (ActiveRecord: 2.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 18:32:31 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" != 28 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '423784' AND "marketing_requests"."id" != 30 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 7.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 9.8ms | ActiveRecord: 0.9ms (12 queries, 1 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:32:31 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:32:31 +0300
Started GET "/marketing?tab=promo_no_link_125&search=orangemorange&commit=%D0%9D%D0%B0%D0%B9%D1%82%D0%B8" for ::1 at 2025-08-17 18:32:47 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125", "search" => "orangemorange", "commit" => "Найти"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%orangemorange%' OR stag ILIKE '%orangemorange%' OR manager ILIKE '%orangemorange%' OR partner_email ILIKE '%orangemorange%') /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:67
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.4ms | GC: 3.4ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 3.4ms)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 3.4ms)


  
ActionView::Template::Error (SQLite3::SQLException: near "ILIKE": syntax error:
SELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%orangemorange%' OR stag ILIKE '%orangemorange%' OR manager ILIKE '%orangemorange%' OR partner_email ILIKE '%orangemorange%') /*action='index',application='MbsPromoRetention',controller='marketing'*/
                                                                                                                          ^)
Caused by: ActiveRecord::StatementInvalid (SQLite3::SQLException: near "ILIKE": syntax error:
SELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%orangemorange%' OR stag ILIKE '%orangemorange%' OR manager ILIKE '%orangemorange%' OR partner_email ILIKE '%orangemorange%') /*action='index',application='MbsPromoRetention',controller='marketing'*/
                                                                                                                          ^)
Caused by: SQLite3::SQLException (near "ILIKE": syntax error:
SELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%orangemorange%' OR stag ILIKE '%orangemorange%' OR manager ILIKE '%orangemorange%' OR partner_email ILIKE '%orangemorange%') /*action='index',application='MbsPromoRetention',controller='marketing'*/
                                                                                                                          ^)

Information for: ActionView::Template::Error (SQLite3::SQLException: near "ILIKE": syntax error:
SELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%orangemorange%' OR stag ILIKE '%orangemorange%' OR manager ILIKE '%orangemorange%' OR partner_email ILIKE '%orangemorange%') /*action='index',application='MbsPromoRetention',controller='marketing'*/
                                                                                                                          ^):
    64:         <div class="col-md-2 text-end">
    65:           <small class="text-muted">
    66:             <% if params[:search].present? %>
    67:               Найдено: <%= @marketing_requests.count %>
    68:               <br><small>по запросу "<%= params[:search] %>"</small>
    69:             <% else %>
    70:               Всего заявок: <%= @marketing_requests.count %>
  

Information for cause: ActiveRecord::StatementInvalid (SQLite3::SQLException: near "ILIKE": syntax error:
SELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%orangemorange%' OR stag ILIKE '%orangemorange%' OR manager ILIKE '%orangemorange%' OR partner_email ILIKE '%orangemorange%') /*action='index',application='MbsPromoRetention',controller='marketing'*/
                                                                                                                          ^):
  

Information for cause: SQLite3::SQLException (near "ILIKE": syntax error:
SELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%orangemorange%' OR stag ILIKE '%orangemorange%' OR manager ILIKE '%orangemorange%' OR partner_email ILIKE '%orangemorange%') /*action='index',application='MbsPromoRetention',controller='marketing'*/
                                                                                                                          ^):
  
app/views/marketing/index.html.erb:67
Started GET "/marketing" for ::1 at 2025-08-17 18:33:04 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.8ms)
Completed 200 OK in 24ms (Views: 6.3ms | ActiveRecord: 1.3ms (9 queries, 1 cached) | GC: 1.8ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 18:33:05 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 7.3ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | GC: 1.5ms)
Completed 200 OK in 26ms (Views: 10.0ms | ActiveRecord: 1.8ms (11 queries, 1 cached) | GC: 1.5ms)


Started GET "/marketing?tab=promo_webs_100" for ::1 at 2025-08-17 18:33:06 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.8ms)
Completed 200 OK in 23ms (Views: 7.2ms | ActiveRecord: 0.9ms (12 queries, 1 cached) | GC: 1.7ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 18:33:06 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.7ms)
Completed 200 OK in 24ms (Views: 6.6ms | ActiveRecord: 2.0ms (11 queries, 1 cached) | GC: 1.7ms)


Started GET "/marketing?tab=promo_no_link_50" for ::1 at 2025-08-17 18:33:07 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.1ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.3ms)
Completed 200 OK in 20ms (Views: 5.5ms | ActiveRecord: 1.0ms (11 queries, 1 cached) | GC: 0.3ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 18:33:07 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" != 28 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '423784' AND "marketing_requests"."id" != 30 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.4ms)
Completed 200 OK in 24ms (Views: 7.4ms | ActiveRecord: 1.0ms (12 queries, 1 cached) | GC: 0.7ms)


Started GET "/marketing?tab=promo_no_link_125&search=ORANGEMORANGE&commit=%D0%9D%D0%B0%D0%B9%D1%82%D0%B8" for ::1 at 2025-08-17 18:33:14 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125", "search" => "ORANGEMORANGE", "commit" => "Найти"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%ORANGEMORANGE%' OR stag ILIKE '%ORANGEMORANGE%' OR manager ILIKE '%ORANGEMORANGE%' OR partner_email ILIKE '%ORANGEMORANGE%') /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:67
  Rendered marketing/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.2ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.8ms (8 queries, 0 cached) | GC: 0.2ms)


  
ActionView::Template::Error (SQLite3::SQLException: near "ILIKE": syntax error:
SELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%ORANGEMORANGE%' OR stag ILIKE '%ORANGEMORANGE%' OR manager ILIKE '%ORANGEMORANGE%' OR partner_email ILIKE '%ORANGEMORANGE%') /*action='index',application='MbsPromoRetention',controller='marketing'*/
                                                                                                                          ^)
Caused by: ActiveRecord::StatementInvalid (SQLite3::SQLException: near "ILIKE": syntax error:
SELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%ORANGEMORANGE%' OR stag ILIKE '%ORANGEMORANGE%' OR manager ILIKE '%ORANGEMORANGE%' OR partner_email ILIKE '%ORANGEMORANGE%') /*action='index',application='MbsPromoRetention',controller='marketing'*/
                                                                                                                          ^)
Caused by: SQLite3::SQLException (near "ILIKE": syntax error:
SELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%ORANGEMORANGE%' OR stag ILIKE '%ORANGEMORANGE%' OR manager ILIKE '%ORANGEMORANGE%' OR partner_email ILIKE '%ORANGEMORANGE%') /*action='index',application='MbsPromoRetention',controller='marketing'*/
                                                                                                                          ^)

Information for: ActionView::Template::Error (SQLite3::SQLException: near "ILIKE": syntax error:
SELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%ORANGEMORANGE%' OR stag ILIKE '%ORANGEMORANGE%' OR manager ILIKE '%ORANGEMORANGE%' OR partner_email ILIKE '%ORANGEMORANGE%') /*action='index',application='MbsPromoRetention',controller='marketing'*/
                                                                                                                          ^):
    64:         <div class="col-md-2 text-end">
    65:           <small class="text-muted">
    66:             <% if params[:search].present? %>
    67:               Найдено: <%= @marketing_requests.count %>
    68:               <br><small>по запросу "<%= params[:search] %>"</small>
    69:             <% else %>
    70:               Всего заявок: <%= @marketing_requests.count %>
  

Information for cause: ActiveRecord::StatementInvalid (SQLite3::SQLException: near "ILIKE": syntax error:
SELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%ORANGEMORANGE%' OR stag ILIKE '%ORANGEMORANGE%' OR manager ILIKE '%ORANGEMORANGE%' OR partner_email ILIKE '%ORANGEMORANGE%') /*action='index',application='MbsPromoRetention',controller='marketing'*/
                                                                                                                          ^):
  

Information for cause: SQLite3::SQLException (near "ILIKE": syntax error:
SELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (promo_code ILIKE '%ORANGEMORANGE%' OR stag ILIKE '%ORANGEMORANGE%' OR manager ILIKE '%ORANGEMORANGE%' OR partner_email ILIKE '%ORANGEMORANGE%') /*action='index',application='MbsPromoRetention',controller='marketing'*/
                                                                                                                          ^):
  
app/views/marketing/index.html.erb:67
Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 18:33:56 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" != 28 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '423784' AND "marketing_requests"."id" != 30 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 11.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.4ms | GC: 5.8ms)
Completed 200 OK in 42ms (Views: 24.2ms | ActiveRecord: 1.8ms (12 queries, 1 cached) | GC: 5.8ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:33:56 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:33:56 +0300
Started GET "/marketing?tab=promo_no_link_125&search=orangemorange&commit=%D0%9D%D0%B0%D0%B9%D1%82%D0%B8" for ::1 at 2025-08-17 18:34:00 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125", "search" => "orangemorange", "commit" => "Найти"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (LOWER(promo_code) LIKE '%orangemorange%' OR LOWER(stag) LIKE '%orangemorange%' OR LOWER(manager) LIKE '%orangemorange%' OR LOWER(partner_email) LIKE '%orangemorange%') /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:67
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (LOWER(promo_code) LIKE '%orangemorange%' OR LOWER(stag) LIKE '%orangemorange%' OR LOWER(manager) LIKE '%orangemorange%' OR LOWER(partner_email) LIKE '%orangemorange%') LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' AND (LOWER(promo_code) LIKE '%orangemorange%' OR LOWER(stag) LIKE '%orangemorange%' OR LOWER(manager) LIKE '%orangemorange%' OR LOWER(partner_email) LIKE '%orangemorange%') ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '423784' AND "marketing_requests"."id" != 30 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 12.0ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | GC: 1.2ms)
Completed 200 OK in 38ms (Views: 18.8ms | ActiveRecord: 2.2ms (11 queries, 0 cached) | GC: 3.2ms)


Started GET "/marketing?tab=promo_no_link_125" for ::1 at 2025-08-17 18:34:00 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_125"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'additional_partner_1' AND "marketing_requests"."id" != 28 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = '423784' AND "marketing_requests"."id" != 30 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | GC: 0.2ms)
Completed 200 OK in 23ms (Views: 7.8ms | ActiveRecord: 1.6ms (12 queries, 1 cached) | GC: 0.6ms)


Started GET "/bonuses" for ::1 at 2025-08-17 18:34:13 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 46.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 57.8ms | GC: 9.0ms)
Completed 200 OK in 69ms (Views: 55.1ms | ActiveRecord: 3.5ms (10 queries, 0 cached) | GC: 9.0ms)


Started GET "/bonuses" for ::1 at 2025-08-17 18:36:41 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 52.3ms | GC: 2.0ms)
  Rendered layout layouts/application.html.erb (Duration: 55.2ms | GC: 2.0ms)
Completed 200 OK in 73ms (Views: 53.2ms | ActiveRecord: 4.2ms (10 queries, 0 cached) | GC: 2.6ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:36:41 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:36:41 +0300
Started GET "/bonuses" for ::1 at 2025-08-17 18:36:49 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 56.7ms | GC: 5.4ms)
  Rendered layout layouts/application.html.erb (Duration: 60.0ms | GC: 5.4ms)
Completed 200 OK in 80ms (Views: 57.5ms | ActiveRecord: 4.6ms (10 queries, 0 cached) | GC: 6.8ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:36:50 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:36:50 +0300
Started GET "/bonuses" for ::1 at 2025-08-17 18:37:03 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 25.3ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:37:03 +0300
Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:37:03 +0300
Started GET "/bonuses" for ::1 at 2025-08-17 18:37:10 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 40.3ms | GC: 2.4ms)
  Rendered layout layouts/application.html.erb (Duration: 43.7ms | GC: 2.9ms)
Completed 200 OK in 63ms (Views: 41.9ms | ActiveRecord: 3.8ms (10 queries, 0 cached) | GC: 4.6ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:37:10 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:37:10 +0300
Started GET "/bonuses" for ::1 at 2025-08-17 18:37:57 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.2ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 21.6ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:37:57 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:37:57 +0300
Started GET "/heatmap" for ::1 at 2025-08-17 18:38:01 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.3ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 4.2ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/bonuses" for ::1 at 2025-08-17 18:38:03 +0300
Started GET "/favicon.ico" for ::1 at 2025-08-17 18:38:03 +0300
Processing by BonusesController#index as HTML
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (2.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 31.4ms | GC: 4.8ms)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | GC: 6.3ms)
Completed 200 OK in 179ms (Views: 32.4ms | ActiveRecord: 3.3ms (10 queries, 0 cached) | GC: 55.0ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:38:03 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:38:03 +0300
Started GET "/marketing" for ::1 at 2025-08-17 18:38:04 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 8.0ms | ActiveRecord: 0.8ms (9 queries, 1 cached) | GC: 2.2ms)


Started GET "/bonuses" for ::1 at 2025-08-17 18:38:05 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 23.9ms | GC: 3.1ms)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | GC: 3.1ms)
Completed 200 OK in 37ms (Views: 25.3ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 3.1ms)


Started GET "/bonuses" for ::1 at 2025-08-17 18:38:07 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 16.9ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | GC: 1.4ms)
Completed 200 OK in 29ms (Views: 17.4ms | ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 2.2ms)


Started GET "/assets/components/navbar" for ::1 at 2025-08-17 18:38:07 +0300
Started GET "/assets/components/navigation" for ::1 at 2025-08-17 18:38:07 +0300
Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:39:14 +0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.3ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 58.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 66.2ms | GC: 0.0ms)
Completed 200 OK in 105ms (Views: 64.2ms | ActiveRecord: 5.8ms (10 queries, 0 cached) | GC: 0.2ms)


Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:39:14 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:39:14 +0300
Started GET "/" for 127.0.0.1 at 2025-08-17 18:39:15 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 33.0ms | GC: 9.4ms)
  Rendered layout layouts/application.html.erb (Duration: 39.1ms | GC: 13.5ms)
Completed 200 OK in 52ms (Views: 38.4ms | ActiveRecord: 1.3ms (10 queries, 0 cached) | GC: 13.5ms)


Started GET "/marketing" for 127.0.0.1 at 2025-08-17 18:39:48 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.5ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | GC: 0.5ms)
Completed 200 OK in 32ms (Views: 8.9ms | ActiveRecord: 1.0ms (9 queries, 1 cached) | GC: 2.1ms)


Started GET "/" for 127.0.0.1 at 2025-08-17 18:39:50 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 24.4ms | GC: 2.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.5ms | GC: 2.0ms)
Completed 200 OK in 38ms (Views: 25.0ms | ActiveRecord: 2.2ms (10 queries, 0 cached) | GC: 2.0ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:39:50 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 25.6ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | GC: 1.5ms)
Completed 200 OK in 38ms (Views: 26.3ms | ActiveRecord: 1.7ms (10 queries, 0 cached) | GC: 2.0ms)


Started GET "/marketing" for 127.0.0.1 at 2025-08-17 18:40:04 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 5.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | GC: 1.8ms)
Completed 200 OK in 64ms (Views: 41.3ms | ActiveRecord: 1.8ms (9 queries, 1 cached) | GC: 22.7ms)


  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."status" FROM "bonuses" /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:40:32 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 54.9ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 58.2ms | GC: 0.8ms)
Completed 200 OK in 77ms (Views: 55.6ms | ActiveRecord: 4.6ms (10 queries, 0 cached) | GC: 1.4ms)


Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:40:32 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:40:32 +0300
Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:40:35 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:40:35 +0300
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-08-17 18:40:35 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:41:06 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 51.6ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 55.5ms | GC: 1.1ms)
Completed 200 OK in 76ms (Views: 54.3ms | ActiveRecord: 4.4ms (10 queries, 0 cached) | GC: 2.1ms)


Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:41:06 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:41:06 +0300
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-08-17 18:41:06 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-08-17 18:41:19 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 37.2ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 40.5ms | GC: 0.8ms)
Completed 200 OK in 56ms (Views: 38.7ms | ActiveRecord: 3.6ms (10 queries, 0 cached) | GC: 1.2ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:41:19 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.7ms | GC: 2.2ms)
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | GC: 2.5ms)
Completed 200 OK in 34ms (Views: 19.1ms | ActiveRecord: 0.8ms (10 queries, 0 cached) | GC: 7.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-08-17 18:41:19 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:41:19 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:41:19 +0300
Started GET "/marketing" for 127.0.0.1 at 2025-08-17 18:41:20 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 8.8ms | ActiveRecord: 0.9ms (9 queries, 1 cached) | GC: 0.2ms)


Started GET "/heatmap" for 127.0.0.1 at 2025-08-17 18:41:20 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.4ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/marketing" for 127.0.0.1 at 2025-08-17 18:41:23 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.6ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 1.1ms)
Completed 200 OK in 18ms (Views: 5.5ms | ActiveRecord: 0.5ms (9 queries, 1 cached) | GC: 1.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-08-17 18:41:23 +0300
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:41:23 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:41:23 +0300
Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:41:24 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.6ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | GC: 1.7ms)
Completed 200 OK in 29ms (Views: 18.7ms | ActiveRecord: 1.0ms (10 queries, 0 cached) | GC: 1.7ms)


Started GET "/heatmap" for 127.0.0.1 at 2025-08-17 18:42:27 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.6ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 1.6ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:43:01 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 29.4ms | GC: 5.1ms)
  Rendered layout layouts/application.html.erb (Duration: 31.2ms | GC: 5.1ms)
Completed 200 OK in 42ms (Views: 30.4ms | ActiveRecord: 1.4ms (10 queries, 0 cached) | GC: 5.1ms)


Started GET "/assets/components/_navigation-3d6bfe2b.css" for 127.0.0.1 at 2025-08-17 18:43:01 +0300
Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:43:01 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:43:01 +0300
Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:43:57 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.1ms | GC: 3.3ms)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | GC: 3.3ms)
Completed 200 OK in 33ms (Views: 22.9ms | ActiveRecord: 1.0ms (10 queries, 0 cached) | GC: 3.3ms)


Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:43:57 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:43:57 +0300
Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:44:27 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 60.6ms | GC: 10.1ms)
  Rendered layout layouts/application.html.erb (Duration: 68.8ms | GC: 13.0ms)
Completed 200 OK in 91ms (Views: 66.7ms | ActiveRecord: 4.7ms (10 queries, 0 cached) | GC: 13.0ms)


Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:44:27 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:44:27 +0300
Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:45:20 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (1.7ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 61.8ms | GC: 9.9ms)
  Rendered layout layouts/application.html.erb (Duration: 65.9ms | GC: 10.4ms)
Completed 200 OK in 98ms (Views: 62.2ms | ActiveRecord: 6.9ms (10 queries, 0 cached) | GC: 22.4ms)


Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:45:20 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:45:20 +0300
Started GET "/" for 127.0.0.1 at 2025-08-17 18:45:20 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.2ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 25.7ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | GC: 0.9ms)
Completed 200 OK in 40ms (Views: 25.9ms | ActiveRecord: 1.9ms (10 queries, 0 cached) | GC: 0.9ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:45:29 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.2ms | GC: 4.7ms)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | GC: 5.3ms)
Completed 200 OK in 36ms (Views: 24.0ms | ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 5.3ms)


Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:45:29 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:45:29 +0300
Started GET "/bonuses/new?event=input_coupon" for 127.0.0.1 at 2025-08-17 18:45:54 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "input_coupon"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 2.0ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 22.2ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | GC: 1.6ms)
Completed 200 OK in 34ms (Views: 25.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.4ms)


Started GET "/bonuses/new?event=deposit" for 127.0.0.1 at 2025-08-17 18:45:55 +0300
Processing by BonusesController#new as HTML
  Parameters: {"event" => "deposit"}
  Rendering layout layouts/application.html.erb
  Rendering bonuses/new.html.erb within layouts/application
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/_type_specific_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered bonuses/new.html.erb within layouts/application (Duration: 5.4ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 0.4ms)
Completed 200 OK in 19ms (Views: 9.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses/78/edit" for 127.0.0.1 at 2025-08-17 18:45:58 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "78"}
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 29.1ms | GC: 1.5ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 36.5ms | GC: 1.8ms)
  Rendered layout layouts/application.html.erb (Duration: 38.2ms | GC: 1.8ms)
Completed 200 OK in 52ms (Views: 37.6ms | ActiveRecord: 1.8ms (28 queries, 10 cached) | GC: 1.8ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:46:00 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 20.1ms | ActiveRecord: 1.4ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:46:00 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:46:00 +0300
Started DELETE "/bonuses/77?_method=delete" for 127.0.0.1 at 2025-08-17 18:46:02 +0300
Processing by BonusesController#destroy as TURBO_STREAM
  Parameters: {"id" => "77"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 77 LIMIT 1 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:140:in 'BonusesController#destroy'
  [1m[36mBonusReward Load (0.7ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 77 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:140:in 'BonusesController#destroy'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 77 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:140:in 'BonusesController#destroy'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 77 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:140:in 'BonusesController#destroy'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 77 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:140:in 'BonusesController#destroy'
  [1m[36mBonusCodeReward Load (0.0ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 77 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:140:in 'BonusesController#destroy'
  [1m[36mFreechipReward Load (0.0ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 77 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:140:in 'BonusesController#destroy'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 77 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:140:in 'BonusesController#destroy'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 77 /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:140:in 'BonusesController#destroy'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='destroy',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:140:in 'BonusesController#destroy'
Redirected to http://localhost:3000/bonuses
Completed 302 Found in 28ms (ActiveRecord: 3.5ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:46:02 +0300
Processing by BonusesController#index as TURBO_STREAM
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.3ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 19.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 20.3ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/78/edit" for 127.0.0.1 at 2025-08-17 18:46:02 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "78"}
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 29.7ms | GC: 0.0ms)
  Rendered bonuses/_currency_minimum_deposits.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 35.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | GC: 0.0ms)
Completed 200 OK in 51ms (Views: 36.4ms | ActiveRecord: 2.1ms (28 queries, 10 cached) | GC: 0.0ms)


Started GET "/bonuses/74" for 127.0.0.1 at 2025-08-17 18:46:04 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "74"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 74 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 74 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 74 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 74 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 74 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 74 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 74 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 74 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 12.0ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 23.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 26.4ms | ActiveRecord: 1.0ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/75" for 127.0.0.1 at 2025-08-17 18:46:04 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 6.0ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 7.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 9.0ms | ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/75/edit" for 127.0.0.1 at 2025-08-17 18:46:04 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 22.6ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 27.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 38.7ms | GC: 8.7ms)
Completed 200 OK in 50ms (Views: 37.7ms | ActiveRecord: 1.7ms (28 queries, 10 cached) | GC: 8.7ms)


Started PATCH "/bonuses/75" for 127.0.0.1 at 2025-08-17 18:46:22 +0300
Processing by BonusesController#update as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "bonus" => {"name" => "Test Bonus 52 - Collection", "code" => "TESTCOLLECTION52", "description" => "", "status" => "active", "currency" => "USD", "country" => "FR", "user_group" => "new_users", "tags" => "collection, test, irwin", "project" => "IRWIN", "dsl_tag" => "test_collection_52", "minimum_deposit" => "", "wager" => "1149.0", "maximum_winnings" => "1486.0", "wagering_strategy" => "", "availability_start_date" => "2025-08-05T00:00", "availability_end_date" => "2025-08-16T00:00"}, "commit" => "Update Bonus", "id" => "75"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
Update params: #<ActionController::Parameters {"_method" => "patch", "authenticity_token" => "PX1YRXeY3rQAG0TL0vy78t85zcxps7C7wGwBD0pTatbR9jkt418hoAlAEr9q9DtrXbjBSPHm6V6VcXl2RClm3g", "bonus" => {"name" => "Test Bonus 52 - Collection", "code" => "TESTCOLLECTION52", "description" => "", "status" => "active", "currency" => "USD", "country" => "FR", "user_group" => "new_users", "tags" => "collection, test, irwin", "project" => "IRWIN", "dsl_tag" => "test_collection_52", "minimum_deposit" => "", "wager" => "1149.0", "maximum_winnings" => "1486.0", "wagering_strategy" => "", "availability_start_date" => "2025-08-05T00:00", "availability_end_date" => "2025-08-16T00:00"}, "commit" => "Update Bonus", "controller" => "bonuses", "action" => "update", "id" => "75"} permitted: false>
Bonus params: #<ActionController::Parameters {"name" => "Test Bonus 52 - Collection", "code" => "TESTCOLLECTION52", "status" => "active", "minimum_deposit" => "", "wager" => "1149.0", "maximum_winnings" => "1486.0", "wagering_strategy" => "", "availability_start_date" => "2025-08-05T00:00", "availability_end_date" => "2025-08-16T00:00", "user_group" => "new_users", "tags" => "collection, test, irwin", "country" => "FR", "currency" => "USD", "project" => "IRWIN", "dsl_tag" => "test_collection_52", "description" => ""} permitted: true>
Currency minimum deposits params: nil
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:117:in 'block in BonusesController#update'
  [1m[36mBonus Update (0.1ms)[0m  [1m[33mUPDATE "bonuses" SET "wagering_strategy" = '', "availability_end_date" = '2025-08-16 00:00:00', "updated_at" = '2025-08-17 15:46:22.460502', "description" = '' WHERE "bonuses"."id" = 75 /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:117:in 'block in BonusesController#update'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:117:in 'block in BonusesController#update'
Redirected to http://localhost:3000/bonuses/75
Completed 302 Found in 40ms (ActiveRecord: 4.8ms (2 queries, 0 cached) | GC: 3.7ms)


Started GET "/bonuses/75" for 127.0.0.1 at 2025-08-17 18:46:22 +0300
Processing by BonusesController#show as TURBO_STREAM
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.5ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 26.5ms | GC: 1.4ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 30.6ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | GC: 1.4ms)
Completed 200 OK in 47ms (Views: 33.1ms | ActiveRecord: 3.0ms (8 queries, 0 cached) | GC: 1.4ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:46:25 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 18.8ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | GC: 0.7ms)
Completed 200 OK in 31ms (Views: 19.9ms | ActiveRecord: 1.0ms (10 queries, 0 cached) | GC: 0.7ms)


Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:46:25 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:46:25 +0300
Started GET "/bonuses/75/edit" for 127.0.0.1 at 2025-08-17 18:46:26 +0300
Processing by BonusesController#edit as HTML
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/edit.html.erb within layouts/application
  [1m[36mBonusReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:45
  [1m[36mFreespinReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:54
  [1m[36mBonusBuyReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:63
  [1m[36mCompPointReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:72
  [1m[36mBonusCodeReward Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 LIMIT 1 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:81
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:91
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:92
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:93
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:94
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:95
  [1m[36mCACHE BonusReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE FreespinReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusBuyReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE CompPointReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mCACHE BonusCodeReward Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 LIMIT 1[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:99
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:124:in 'Array#flatten'
  [1m[36mBonusReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:123
  [1m[36mFreespinReward Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:124
  [1m[36mBonusBuyReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:125
  [1m[36mCompPointReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:126
  [1m[36mBonusCodeReward Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 /*action='edit',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/_type_specific_form.html.erb:127
  Rendered bonuses/_type_specific_form.html.erb (Duration: 22.2ms | GC: 0.0ms)
  Rendered bonuses/edit.html.erb within layouts/application (Duration: 27.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | GC: 0.0ms)
Completed 200 OK in 45ms (Views: 28.2ms | ActiveRecord: 1.5ms (28 queries, 10 cached) | GC: 0.0ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:46:28 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 17.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 18.9ms | ActiveRecord: 0.8ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:46:28 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 33.0ms | GC: 9.4ms)
  Rendered layout layouts/application.html.erb (Duration: 34.3ms | GC: 9.4ms)
Completed 200 OK in 48ms (Views: 33.4ms | ActiveRecord: 1.4ms (10 queries, 0 cached) | GC: 9.4ms)


Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:46:28 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:46:28 +0300
Started GET "/heatmap" for 127.0.0.1 at 2025-08-17 18:46:36 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.4ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/marketing" for 127.0.0.1 at 2025-08-17 18:46:36 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.3ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.5ms)
Completed 200 OK in 31ms (Views: 8.8ms | ActiveRecord: 2.4ms (9 queries, 1 cached) | GC: 1.5ms)


Started GET "/marketing" for 127.0.0.1 at 2025-08-17 18:46:38 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 6.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 0.3ms)
Completed 200 OK in 33ms (Views: 9.0ms | ActiveRecord: 0.8ms (9 queries, 1 cached) | GC: 0.6ms)


Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:46:38 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:46:38 +0300
Started GET "/" for 127.0.0.1 at 2025-08-17 18:46:39 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.4ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.6ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 22.3ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 24.0ms | GC: 1.0ms)
Completed 200 OK in 36ms (Views: 23.9ms | ActiveRecord: 1.6ms (10 queries, 0 cached) | GC: 1.0ms)


Started GET "/marketing?tab=promo_webs_100" for 127.0.0.1 at 2025-08-17 18:46:40 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_webs_100"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.2ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_1' AND "marketing_requests"."id" != 23 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_2' AND "marketing_requests"."id" != 24 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 12.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 14.2ms | ActiveRecord: 1.2ms (12 queries, 1 cached) | GC: 0.2ms)


Started GET "/marketing?tab=promo_no_link_50" for 127.0.0.1 at 2025-08-17 18:46:40 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "promo_no_link_50"}
  [1m[36mMarketingRequest Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (11.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_3' AND "marketing_requests"."id" != 25 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 28.6ms | GC: 9.4ms)
  Rendered layout layouts/application.html.erb (Duration: 40.1ms | GC: 11.2ms)
Completed 200 OK in 64ms (Views: 30.2ms | ActiveRecord: 13.4ms (11 queries, 1 cached) | GC: 11.2ms)


Started GET "/" for 127.0.0.1 at 2025-08-17 18:46:40 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.8ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 51.8ms | GC: 7.0ms)
  Rendered layout layouts/application.html.erb (Duration: 53.0ms | GC: 7.0ms)
Completed 200 OK in 65ms (Views: 48.5ms | ActiveRecord: 5.2ms (10 queries, 0 cached) | GC: 7.0ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:46:41 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 15.7ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | GC: 1.0ms)
Completed 200 OK in 28ms (Views: 17.8ms | ActiveRecord: 1.0ms (10 queries, 0 cached) | GC: 1.4ms)


  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:11:in 'block (2 levels) in <main>'
  [1m[36mBonus Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'EXPIRED_TEST' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:11:in 'block (2 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description") VALUES ('Test Expired Bonus', 'EXPIRED_TEST', 'active', NULL, NULL, NULL, NULL, '2025-08-07 15:49:31.229601', '2025-08-15 15:49:31.229738', NULL, NULL, NULL, 'USD', NULL, NULL, '2025-08-17 15:49:31.257271', '2025-08-17 15:49:31.257271', 'VOLNA', 'test_expired', 'deposit', NULL, NULL, NULL, NULL, NULL, NULL) RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:11:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:11:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:29:in 'block (2 levels) in <main>'
  [1m[36mBonus Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'VALID_TEST' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:29:in 'block (2 levels) in <main>'
  [1m[36mBonus Create (0.3ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description") VALUES ('Test Valid Bonus', 'VALID_TEST', 'active', NULL, NULL, NULL, NULL, '2025-08-16 15:49:31.263928', '2025-08-27 15:49:31.263991', NULL, NULL, NULL, 'USD', NULL, NULL, '2025-08-17 15:49:31.266830', '2025-08-17 15:49:31.266830', 'ROX', 'test_valid', 'deposit', NULL, NULL, NULL, NULL, NULL, NULL) RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:29:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:29:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:47:in 'block (2 levels) in <main>'
  [1m[36mBonus Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'INACTIVE_EXPIRED_TEST' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:47:in 'block (2 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description") VALUES ('Test Inactive Expired Bonus', 'INACTIVE_EXPIRED_TEST', 'inactive', NULL, NULL, NULL, NULL, '2025-08-02 15:49:31.269177', '2025-08-12 15:49:31.269300', NULL, NULL, NULL, 'EUR', NULL, NULL, '2025-08-17 15:49:31.271662', '2025-08-17 15:49:31.271662', 'FRESH', 'test_inactive_expired', 'deposit', NULL, NULL, NULL, NULL, NULL, NULL) RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:47:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:47:in 'block (2 levels) in <main>'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 79 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:69:in 'block (2 levels) in <main>'
  [1m[36mBonus Update (0.1ms)[0m  [1m[33mUPDATE "bonuses" SET "status" = 'inactive' WHERE "bonuses"."id" = 79 /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:300:in 'Bonus#check_and_update_expired_status!'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 80 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:73:in 'block (2 levels) in <main>'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 81 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:77:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:84:in 'block (2 levels) in <main>'
  [1m[36mBonus Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."code" = 'ANOTHER_EXPIRED' LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:84:in 'block (2 levels) in <main>'
  [1m[36mBonus Create (0.2ms)[0m  [1m[32mINSERT INTO "bonuses" ("name", "code", "status", "minimum_deposit", "wager", "maximum_winnings", "wagering_strategy", "availability_start_date", "availability_end_date", "user_group", "tags", "country", "currency", "created_by", "updated_by", "created_at", "updated_at", "project", "dsl_tag", "event", "currencies", "groups", "no_more", "totally_no_more", "currency_minimum_deposits", "description") VALUES ('Another Expired Bonus', 'ANOTHER_EXPIRED', 'active', NULL, NULL, NULL, NULL, '2025-07-28 15:49:31.276160', '2025-08-14 15:49:31.276206', NULL, NULL, NULL, 'RUB', NULL, NULL, '2025-08-17 15:49:31.277784', '2025-08-17 15:49:31.277784', 'SOL', 'another_expired', 'manual', NULL, NULL, NULL, NULL, NULL, NULL) RETURNING "id" /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:84:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:84:in 'block (2 levels) in <main>'
  [1m[36mBonus Update All (0.1ms)[0m  [1m[33mUPDATE "bonuses" SET "status" = 'inactive' WHERE "bonuses"."status" = 'active' AND (availability_end_date < '2025-08-17 15:49:31.279334') /*application='MbsPromoRetention'*/[0m
  ↳ app/models/bonus.rb:307:in 'Bonus.update_expired_bonuses!'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 82 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:104:in 'block (2 levels) in <main>'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 79 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:111:in 'block (3 levels) in <main>'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 80 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:111:in 'block (3 levels) in <main>'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 81 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:111:in 'block (3 levels) in <main>'
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 82 LIMIT 1 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:114:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 79 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 79 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 79 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 79 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 79 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 79 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 79 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 79 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonusReward Load (0.7ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 80 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 80 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 80 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 80 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonusCodeReward Load (0.0ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 80 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mFreechipReward Load (0.0ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 80 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mMaterialPrizeReward Load (0.0ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 80 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonus Destroy (0.4ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 80 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonusReward Load (0.6ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 81 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mFreespinReward Load (0.0ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 81 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonusBuyReward Load (0.0ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 81 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 81 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonusCodeReward Load (0.0ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 81 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mFreechipReward Load (0.0ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 81 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mMaterialPrizeReward Load (0.0ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 81 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 81 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonusReward Load (0.6ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 82 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 82 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonusBuyReward Load (0.0ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 82 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mCompPointReward Load (0.0ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 82 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonusCodeReward Load (0.0ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 82 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 82 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mMaterialPrizeReward Load (1.3ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 82 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mBonus Destroy (0.1ms)[0m  [1m[31mDELETE FROM "bonuses" WHERE "bonuses"."id" = 82 /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  ↳ lib/tasks/test_bonus_expiration.rake:122:in 'block (3 levels) in <main>'
Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:50:31 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 64.7ms | GC: 11.2ms)
  Rendered layout layouts/application.html.erb (Duration: 68.5ms | GC: 11.7ms)
Completed 200 OK in 103ms (Views: 65.5ms | ActiveRecord: 5.5ms (10 queries, 0 cached) | GC: 11.7ms)


Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:50:31 +0300
Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:50:31 +0300
Started GET "/bonuses?type=&status=active&search=&project=&dsl_tag=&commit=Filter" for 127.0.0.1 at 2025-08-17 18:50:45 +0300
Processing by BonusesController#index as HTML
  Parameters: {"type" => "", "status" => "active", "search" => "", "project" => "", "dsl_tag" => "", "commit" => "Filter"}
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" WHERE "bonuses"."status" = 'active' /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" WHERE "bonuses"."status" = 'active' LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."status" = 'active' ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (72, 69, 66, 63, 60, 57, 54, 51, 48, 45, 42, 39, 36, 33, 30, 27, 24, 5, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (72, 69, 66, 63, 60, 57, 54, 51, 48, 45, 42, 39, 36, 33, 30, 27, 24, 5, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (72, 69, 66, 63, 60, 57, 54, 51, 48, 45, 42, 39, 36, 33, 30, 27, 24, 5, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (72, 69, 66, 63, 60, 57, 54, 51, 48, 45, 42, 39, 36, 33, 30, 27, 24, 5, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (72, 69, 66, 63, 60, 57, 54, 51, 48, 45, 42, 39, 36, 33, 30, 27, 24, 5, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (72, 69, 66, 63, 60, 57, 54, 51, 48, 45, 42, 39, 36, 33, 30, 27, 24, 5, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (72, 69, 66, 63, 60, 57, 54, 51, 48, 45, 42, 39, 36, 33, 30, 27, 24, 5, 3, 2, 1) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 21.4ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | GC: 1.1ms)
Completed 200 OK in 32ms (Views: 22.2ms | ActiveRecord: 1.2ms (10 queries, 0 cached) | GC: 1.1ms)


Started GET "/heatmap" for 127.0.0.1 at 2025-08-17 18:51:01 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (1.9ms)[0m  [1m[34mSELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 2.0ms (2 queries, 0 cached) | GC: 0.3ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)
Caused by: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  

Information for cause: SQLite3::SQLException (no such column: "bonus_type" - should this be a string literal in single-quotes?:
SELECT DISTINCT "bonus_type" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/
                ^):
  
app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
Started GET "/heatmap" for 127.0.0.1 at 2025-08-17 18:53:19 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 11.7ms | GC: 7.5ms)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | GC: 9.6ms)
Completed 200 OK in 39ms (Views: 19.4ms | ActiveRecord: 1.2ms (2 queries, 0 cached) | GC: 9.6ms)


Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 18:53:19 +0300
Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 18:53:19 +0300
Started GET "/" for 127.0.0.1 at 2025-08-17 18:53:19 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 42.0ms | GC: 4.3ms)
  Rendered layout layouts/application.html.erb (Duration: 43.7ms | GC: 4.5ms)
Completed 200 OK in 53ms (Views: 41.5ms | ActiveRecord: 2.7ms (10 queries, 0 cached) | GC: 4.5ms)


Started GET "/heatmap?bonus_event=all&month=8&year=2025&commit=Apply+Filter" for 127.0.0.1 at 2025-08-17 18:53:24 +0300
Processing by HeatmapController#index as HTML
  Parameters: {"bonus_event" => "all", "month" => "8", "year" => "2025", "commit" => "Apply Filter"}
[31mUnpermitted parameter: :commit. Context: { controller: HeatmapController, action: index, request: #<ActionDispatch::Request:0x00007bf4e1cd5468>, params: {"bonus_event" => "all", "month" => "8", "year" => "2025", "commit" => "Apply Filter", "controller" => "heatmap", "action" => "index"} }[0m
[31mUnpermitted parameter: :commit. Context: { controller: HeatmapController, action: index, request: #<ActionDispatch::Request:0x00007bf4e1cd5468>, params: {"bonus_event" => "all", "month" => "8", "year" => "2025", "commit" => "Apply Filter", "controller" => "heatmap", "action" => "index"} }[0m
[31mUnpermitted parameter: :commit. Context: { controller: HeatmapController, action: index, request: #<ActionDispatch::Request:0x00007bf4e1cd5468>, params: {"bonus_event" => "all", "month" => "8", "year" => "2025", "commit" => "Apply Filter", "controller" => "heatmap", "action" => "index"} }[0m
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.2ms)
Completed 200 OK in 15ms (Views: 3.5ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 18:53:33 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 15.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 16.0ms | ActiveRecord: 1.0ms (10 queries, 0 cached) | GC: 0.3ms)


Started GET "/bonuses/75" for 127.0.0.1 at 2025-08-17 18:54:21 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "75"}
  [1m[36mBonus Load (0.1ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 75 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.1ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 75 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 6.5ms | GC: 0.0ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 8.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 9.6ms | ActiveRecord: 0.5ms (8 queries, 0 cached) | GC: 0.0ms)


Started GET "/bonuses/78" for 127.0.0.1 at 2025-08-17 18:56:57 +0300
Processing by BonusesController#show as HTML
  Parameters: {"id" => "78"}
  [1m[36mBonus Load (0.9ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" WHERE "bonuses"."id" = 78 LIMIT 1 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:187:in 'BonusesController#set_bonus'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/show.html.erb within layouts/application
  [1m[36mBonusReward Load (0.2ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" = 78 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  [1m[36mFreespinReward Load (0.1ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" = 78 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  [1m[36mBonusBuyReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" = 78 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  [1m[36mFreechipReward Load (0.1ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" = 78 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" = 78 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" = 78 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" = 78 /*action='show',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/models/bonus.rb:125:in 'Array#flatten'
  Rendered bonuses/_type_specific_details.html.erb (Duration: 19.8ms | GC: 8.1ms)
  Rendered bonuses/show.html.erb within layouts/application (Duration: 21.1ms | GC: 8.1ms)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | GC: 8.1ms)
Completed 200 OK in 35ms (Views: 22.8ms | ActiveRecord: 1.7ms (8 queries, 0 cached) | GC: 8.1ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonus_buy_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "bonus_buy_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "buy_amount" decimal(15,2), "multiplier" decimal(5,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_bonus_buy_rewards_on_bonus_id" ON "bonus_buy_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_buy_rewards_on_buy_amount" ON "bonus_buy_rewards" ("buy_amount") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonus_code_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "bonus_code_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "code" varchar NOT NULL, "code_type" varchar NOT NULL, "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_code_rewards_on_bonus_id" ON "bonus_code_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonus_code_rewards_on_code" ON "bonus_code_rewards" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_code_rewards_on_code_type" ON "bonus_code_rewards" ("code_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonus_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "bonus_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "reward_type" varchar NOT NULL, "amount" decimal(15,2), "percentage" decimal(5,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_bonus_id_and_reward_type" ON "bonus_rewards" ("bonus_id", "reward_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_bonus_id" ON "bonus_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_reward_type" ON "bonus_rewards" ("reward_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "bonuses" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "bonuses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "code" varchar NOT NULL, "status" varchar DEFAULT 'active', "minimum_deposit" decimal(10,2), "wager" decimal(10,2), "maximum_winnings" decimal(15,2), "wagering_strategy" varchar, "availability_start_date" datetime(6) NOT NULL, "availability_end_date" datetime(6) NOT NULL, "user_group" varchar, "tags" text, "country" varchar, "currency" varchar NOT NULL, "created_by" integer, "updated_by" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "project" varchar, "dsl_tag" varchar, "event" varchar NOT NULL, "currencies" text, "groups" text, "no_more" text, "totally_no_more" integer, "currency_minimum_deposits" text, "description" text) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_end_date" ON "bonuses" ("availability_end_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_availability_start_date" ON "bonuses" ("availability_start_date") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonuses_on_code" ON "bonuses" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_country" ON "bonuses" ("country") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_currency" ON "bonuses" ("currency") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_dsl_tag" ON "bonuses" ("dsl_tag") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_event" ON "bonuses" ("event") /*application='MbsPromoRetention'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_project" ON "bonuses" ("project") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_status" ON "bonuses" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_bonuses_on_user_group" ON "bonuses" ("user_group") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "comp_point_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "comp_point_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "points_amount" integer NOT NULL, "multiplier" decimal(5,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comp_point_rewards_on_bonus_id" ON "comp_point_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comp_point_rewards_on_points_amount" ON "comp_point_rewards" ("points_amount") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "freechip_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "freechip_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "chip_value" decimal(15,2) NOT NULL, "chips_count" integer NOT NULL, "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_freechip_rewards_on_bonus_id" ON "freechip_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_freechip_rewards_on_chip_value" ON "freechip_rewards" ("chip_value") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "freespin_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "freespin_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "spins_count" integer NOT NULL, "game_restrictions" text, "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_freespin_rewards_on_bonus_id" ON "freespin_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_freespin_rewards_on_spins_count" ON "freespin_rewards" ("spins_count") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "marketing_requests" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "marketing_requests" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "manager" varchar NOT NULL, "platform" text, "partner_email" varchar NOT NULL, "promo_code" text, "stag" varchar NOT NULL, "activation_date" datetime(6), "status" varchar DEFAULT 'pending' NOT NULL, "request_type" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_partner_email" ON "marketing_requests" ("partner_email") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_marketing_requests_on_promo_code" ON "marketing_requests" ("promo_code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_request_type" ON "marketing_requests" ("request_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_marketing_requests_on_stag" ON "marketing_requests" ("stag") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_marketing_requests_on_status" ON "marketing_requests" ("status") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "material_prize_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "material_prize_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "prize_name" varchar NOT NULL, "prize_value" decimal(15,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_material_prize_rewards_on_bonus_id" ON "material_prize_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_material_prize_rewards_on_prize_name" ON "material_prize_rewards" ("prize_name") /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abonus_buy_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "buy_amount" decimal(15,2), "multiplier" decimal(5,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonus_buy_rewards_on_buy_amount" ON "abonus_buy_rewards" ("buy_amount") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonus_buy_rewards_on_bonus_id" ON "abonus_buy_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "abonus_buy_rewards" ("id","bonus_id","buy_amount","multiplier","config","created_at","updated_at")
                     SELECT "id","bonus_id","buy_amount","multiplier","config","created_at","updated_at" FROM "bonus_buy_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "bonus_buy_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "bonus_buy_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "buy_amount" decimal(15,2), "multiplier" decimal(5,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_80a3d11f32"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_buy_rewards_on_bonus_id" ON "bonus_buy_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_buy_rewards_on_buy_amount" ON "bonus_buy_rewards" ("buy_amount") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "bonus_buy_rewards" ("id","bonus_id","buy_amount","multiplier","config","created_at","updated_at")
                     SELECT "id","bonus_id","buy_amount","multiplier","config","created_at","updated_at" FROM "abonus_buy_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "abonus_buy_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (11.7ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abonus_code_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "code" varchar NOT NULL, "code_type" varchar NOT NULL, "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonus_code_rewards_on_code_type" ON "abonus_code_rewards" ("code_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_abonus_code_rewards_on_code" ON "abonus_code_rewards" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonus_code_rewards_on_bonus_id" ON "abonus_code_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "abonus_code_rewards" ("id","bonus_id","code","code_type","config","created_at","updated_at")
                     SELECT "id","bonus_id","code","code_type","config","created_at","updated_at" FROM "bonus_code_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "bonus_code_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "bonus_code_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "code" varchar NOT NULL, "code_type" varchar NOT NULL, "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_b43566cf88"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_code_rewards_on_bonus_id" ON "bonus_code_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_bonus_code_rewards_on_code" ON "bonus_code_rewards" ("code") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_code_rewards_on_code_type" ON "bonus_code_rewards" ("code_type") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "bonus_code_rewards" ("id","bonus_id","code","code_type","config","created_at","updated_at")
                     SELECT "id","bonus_id","code","code_type","config","created_at","updated_at" FROM "abonus_code_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "abonus_code_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "abonus_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "reward_type" varchar NOT NULL, "amount" decimal(15,2), "percentage" decimal(5,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonus_rewards_on_reward_type" ON "abonus_rewards" ("reward_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonus_rewards_on_bonus_id" ON "abonus_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_abonus_rewards_on_bonus_id_and_reward_type" ON "abonus_rewards" ("bonus_id", "reward_type") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "abonus_rewards" ("id","bonus_id","reward_type","amount","percentage","config","created_at","updated_at")
                     SELECT "id","bonus_id","reward_type","amount","percentage","config","created_at","updated_at" FROM "bonus_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "bonus_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "bonus_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "reward_type" varchar NOT NULL, "amount" decimal(15,2), "percentage" decimal(5,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_04dc838556"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_bonus_id_and_reward_type" ON "bonus_rewards" ("bonus_id", "reward_type") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_bonus_id" ON "bonus_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_bonus_rewards_on_reward_type" ON "bonus_rewards" ("reward_type") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "bonus_rewards" ("id","bonus_id","reward_type","amount","percentage","config","created_at","updated_at")
                     SELECT "id","bonus_id","reward_type","amount","percentage","config","created_at","updated_at" FROM "abonus_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "abonus_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "acomp_point_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "points_amount" integer NOT NULL, "multiplier" decimal(5,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acomp_point_rewards_on_points_amount" ON "acomp_point_rewards" ("points_amount") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_acomp_point_rewards_on_bonus_id" ON "acomp_point_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "acomp_point_rewards" ("id","bonus_id","points_amount","multiplier","config","created_at","updated_at")
                     SELECT "id","bonus_id","points_amount","multiplier","config","created_at","updated_at" FROM "comp_point_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "comp_point_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "comp_point_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "points_amount" integer NOT NULL, "multiplier" decimal(5,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1c06028258"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comp_point_rewards_on_bonus_id" ON "comp_point_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_comp_point_rewards_on_points_amount" ON "comp_point_rewards" ("points_amount") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "comp_point_rewards" ("id","bonus_id","points_amount","multiplier","config","created_at","updated_at")
                     SELECT "id","bonus_id","points_amount","multiplier","config","created_at","updated_at" FROM "acomp_point_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "acomp_point_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "afreechip_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "chip_value" decimal(15,2) NOT NULL, "chips_count" integer NOT NULL, "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afreechip_rewards_on_chip_value" ON "afreechip_rewards" ("chip_value") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afreechip_rewards_on_bonus_id" ON "afreechip_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "afreechip_rewards" ("id","bonus_id","chip_value","chips_count","config","created_at","updated_at")
                     SELECT "id","bonus_id","chip_value","chips_count","config","created_at","updated_at" FROM "freechip_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "freechip_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "freechip_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "chip_value" decimal(15,2) NOT NULL, "chips_count" integer NOT NULL, "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_e619079d60"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_freechip_rewards_on_bonus_id" ON "freechip_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_freechip_rewards_on_chip_value" ON "freechip_rewards" ("chip_value") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "freechip_rewards" ("id","bonus_id","chip_value","chips_count","config","created_at","updated_at")
                     SELECT "id","bonus_id","chip_value","chips_count","config","created_at","updated_at" FROM "afreechip_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "afreechip_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "afreespin_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "spins_count" integer NOT NULL, "game_restrictions" text, "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afreespin_rewards_on_spins_count" ON "afreespin_rewards" ("spins_count") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_afreespin_rewards_on_bonus_id" ON "afreespin_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "afreespin_rewards" ("id","bonus_id","spins_count","game_restrictions","config","created_at","updated_at")
                     SELECT "id","bonus_id","spins_count","game_restrictions","config","created_at","updated_at" FROM "freespin_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "freespin_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "freespin_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "spins_count" integer NOT NULL, "game_restrictions" text, "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_7e8de4db09"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_freespin_rewards_on_bonus_id" ON "freespin_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_freespin_rewards_on_spins_count" ON "freespin_rewards" ("spins_count") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "freespin_rewards" ("id","bonus_id","spins_count","game_restrictions","config","created_at","updated_at")
                     SELECT "id","bonus_id","spins_count","game_restrictions","config","created_at","updated_at" FROM "afreespin_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "afreespin_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mPRAGMA foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amaterial_prize_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "prize_name" varchar NOT NULL, "prize_value" decimal(15,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amaterial_prize_rewards_on_prize_name" ON "amaterial_prize_rewards" ("prize_name") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_amaterial_prize_rewards_on_bonus_id" ON "amaterial_prize_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "amaterial_prize_rewards" ("id","bonus_id","prize_name","prize_value","config","created_at","updated_at")
                     SELECT "id","bonus_id","prize_name","prize_value","config","created_at","updated_at" FROM "material_prize_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "material_prize_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "material_prize_rewards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "bonus_id" integer NOT NULL, "prize_name" varchar NOT NULL, "prize_value" decimal(15,2), "config" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0fa35ff8bd"
FOREIGN KEY ("bonus_id")
  REFERENCES "bonuses" ("id")
) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_material_prize_rewards_on_bonus_id" ON "material_prize_rewards" ("bonus_id") /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_material_prize_rewards_on_prize_name" ON "material_prize_rewards" ("prize_name") /*application='MbsPromoRetention'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "material_prize_rewards" ("id","bonus_id","prize_name","prize_value","config","created_at","updated_at")
                     SELECT "id","bonus_id","prize_name","prize_value","config","created_at","updated_at" FROM "amaterial_prize_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "amaterial_prize_rewards" /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY) /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250817114030) /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250817112210),
(20250817091841),
(20250816195250),
(20250816113809),
(20250816094114),
(20250814195218),
(20250814194935),
(20250814194934),
(20250814194933),
(20250814194931),
(20250814194930),
(20250814194929),
(20250814194927),
(20250814194905),
(20250812193953),
(20250811210559),
(20250811204912),
(20250811204906),
(20250811204849),
(20250811204844),
(20250811204839),
(20250811204831),
(20250811204823); /*application='MbsPromoRetention'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-08-17 16:02:51.150758', '2025-08-17 16:02:51.150761') RETURNING "key" /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-08-17 16:02:51.152362' WHERE "ar_internal_metadata"."key" = 'environment' /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='MbsPromoRetention'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bc26e8c3adb835f265bc5f17d316aea72c30c44f', '2025-08-17 16:02:51.153630', '2025-08-17 16:02:51.153632') RETURNING "key" /*application='MbsPromoRetention'*/[0m
Started GET "/bonuses" for 127.0.0.1 at 2025-08-17 20:08:39 +0300
Processing by BonusesController#index as HTML
  [1m[36mBonus Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/controllers/bonuses_controller.rb:53:in 'BonusesController#index'
  Rendering layout layouts/application.html.erb
  Rendering bonuses/index.html.erb within layouts/application
  Rendered bonuses/_permanent_bonus_previews.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mBonus Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "bonuses" LIMIT 1 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:95
  [1m[36mBonus Load (0.2ms)[0m  [1m[34mSELECT "bonuses".* FROM "bonuses" ORDER BY "bonuses"."id" DESC LIMIT 25 OFFSET 0 /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_rewards".* FROM "bonus_rewards" WHERE "bonus_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreespinReward Load (0.2ms)[0m  [1m[34mSELECT "freespin_rewards".* FROM "freespin_rewards" WHERE "freespin_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusBuyReward Load (0.4ms)[0m  [1m[34mSELECT "bonus_buy_rewards".* FROM "bonus_buy_rewards" WHERE "bonus_buy_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mFreechipReward Load (0.2ms)[0m  [1m[34mSELECT "freechip_rewards".* FROM "freechip_rewards" WHERE "freechip_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mBonusCodeReward Load (0.1ms)[0m  [1m[34mSELECT "bonus_code_rewards".* FROM "bonus_code_rewards" WHERE "bonus_code_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mMaterialPrizeReward Load (0.1ms)[0m  [1m[34mSELECT "material_prize_rewards".* FROM "material_prize_rewards" WHERE "material_prize_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  [1m[36mCompPointReward Load (0.2ms)[0m  [1m[34mSELECT "comp_point_rewards".* FROM "comp_point_rewards" WHERE "comp_point_rewards"."bonus_id" IN (78, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53) /*action='index',application='MbsPromoRetention',controller='bonuses'*/[0m
  ↳ app/views/bonuses/index.html.erb:114
  Rendered bonuses/index.html.erb within layouts/application (Duration: 79.4ms | GC: 37.6ms)
  Rendered layout layouts/application.html.erb (Duration: 84.8ms | GC: 39.7ms)
Completed 200 OK in 101ms (Views: 84.2ms | ActiveRecord: 2.6ms (10 queries, 0 cached) | GC: 40.3ms)


Started GET "/assets/components/navigation" for 127.0.0.1 at 2025-08-17 20:08:39 +0300
Started GET "/assets/components/navbar" for 127.0.0.1 at 2025-08-17 20:08:39 +0300
Started GET "/heatmap" for 127.0.0.1 at 2025-08-17 20:08:41 +0300
Processing by HeatmapController#index as HTML
  [1m[36mBonus Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) AS "count_all", DATE(availability_start_date) AS "date_availability_start_date" FROM "bonuses" WHERE "bonuses"."availability_start_date" BETWEEN '2025-08-01 00:00:00' AND '2025-08-31 23:59:59.999999' GROUP BY DATE(availability_start_date) /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:43:in 'HeatmapController#generate_heatmap_data'
  [1m[36mBonus Pluck (0.1ms)[0m  [1m[34mSELECT DISTINCT "bonuses"."event" FROM "bonuses" /*action='index',application='MbsPromoRetention',controller='heatmap'*/[0m
  ↳ app/controllers/heatmap_controller.rb:16:in 'HeatmapController#index'
  Rendering layout layouts/application.html.erb
  Rendering heatmap/index.html.erb within layouts/application
  Rendered heatmap/index.html.erb within layouts/application (Duration: 4.1ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 1.7ms)
Completed 200 OK in 19ms (Views: 6.8ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 2.7ms)


Started GET "/marketing" for 127.0.0.1 at 2025-08-17 20:08:41 +0300
Processing by MarketingController#index as HTML
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  Rendered marketing/index.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.7ms)
Completed 200 OK in 23ms (Views: 6.2ms | ActiveRecord: 0.7ms (9 queries, 1 cached) | GC: 1.7ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for 127.0.0.1 at 2025-08-17 20:08:42 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 7.1ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 0.6ms)
Completed 200 OK in 26ms (Views: 8.8ms | ActiveRecord: 1.0ms (11 queries, 1 cached) | GC: 2.1ms)


Started GET "/marketing?tab=deposit_bonuses_partners" for 127.0.0.1 at 2025-08-17 20:08:43 +0300
Processing by MarketingController#index as HTML
  Parameters: {"tab" => "deposit_bonuses_partners"}
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_webs_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_50' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_100' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_125' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'promo_no_link_150' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  [1m[36mMarketingRequest Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/controllers/marketing_controller.rb:27:in 'block in MarketingController#index'
  Rendering layout layouts/application.html.erb
  Rendering marketing/index.html.erb within layouts/application
  [1m[36mCACHE MarketingRequest Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners'[0m
  ↳ app/views/marketing/index.html.erb:70
  [1m[36mMarketingRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:79
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."request_type" = 'deposit_bonuses_partners' ORDER BY "marketing_requests"."created_at" ASC /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/views/marketing/index.html.erb:95
  [1m[36mMarketingRequest Load (0.1ms)[0m  [1m[34mSELECT "marketing_requests".* FROM "marketing_requests" WHERE "marketing_requests"."stag" = 'partner_casino_5' AND "marketing_requests"."id" != 27 ORDER BY "marketing_requests"."id" ASC LIMIT 1 /*action='index',application='MbsPromoRetention',controller='marketing'*/[0m
  ↳ app/models/marketing_request.rb:118:in 'MarketingRequest#existing_partner_request'
  Rendered marketing/index.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.2ms)
Completed 200 OK in 19ms (Views: 6.2ms | ActiveRecord: 0.7ms (11 queries, 1 cached) | GC: 0.5ms)


